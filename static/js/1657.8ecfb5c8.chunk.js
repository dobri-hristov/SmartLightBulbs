"use strict";(self.webpackChunksmart_light_bulbs=self.webpackChunksmart_light_bulbs||[]).push([[1657],{6673:function(e,t,n){n.d(t,{D:function(){return o},a:function(){return i},b:function(){return a}});var r=n(7775),o={widgetId:"fake-id",viewport:{start:new Date(1995,0,0,0),end:new Date(2020,1,0,0),yMin:0,yMax:1e4},size:{width:475,height:350,marginLeft:50,marginRight:50,marginTop:24,marginBottom:30},movement:{enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},layout:{xGridVisible:!1,yGridVisible:!0,xTicksVisible:!0,yTicksVisible:!0},scale:{xScaleType:r.b.TimeSeries,yScaleType:r.b.Linear,xScaleSide:"bottom",yScaleSide:"left"},dataStreams:[],legend:{position:r.L.BOTTOM,width:170}},i={showColor:!0},a={showColor:!1}},889:function(e,t,n){n.d(t,{M:function(){return c},N:function(){return v},P:function(){return p},p:function(){return m},t:function(){return d},u:function(){return b}});var r=n(9439),o=n(8134),i=n(7411),a=n(7142),s=n(7775),l=n(553),u=function(e){return"\nvarying vec3 vColor;\n".concat(e?"varying float positionY;":"","\nattribute vec3 pointColor;\nuniform float pointDiameter;\nuniform float devicePixelRatio;\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x, position.y, 0.0, 1.0);\n  gl_PointSize = pointDiameter * devicePixelRatio;\n  vColor = pointColor;\n  ").concat(e?"positionY = position.y;":"","\n}\n")},c=13,d=function(e){if(0===e.length)return[];var t=(0,a.a)(e),n=(0,a.s)(t).reverse(),o=[],l=new Set;n.forEach((function(e,t){var u=e.value;if(n[t].comparisonOperator!==s.C.EQUAL)if(0!==t){var c=n[t-1],d=c.value,f=(d+u)/2,p=(0,a.g)(f,n);if(null!=p&&!l.has(c.value)){var h=(0,i.g)(p.color),v=(0,r.Z)(h,3),g=v[0],m=v[1],b=v[2];c.comparisonOperator===s.C.EQUAL&&(c.value,n[t].value),o.push({upper:d,lower:u,color:[g,m,b]}),l.add(c.value)}if(t!==n.length-1){var S=n[t+1].value;if(f=(u+S)/2,null!=(p=(0,a.g)(f,n))&&!l.has(u)){var w=(0,i.g)(p.color),y=(0,r.Z)(w,3),_=y[0],E=y[1],T=y[2];o.push({upper:u,lower:S,color:[_,E,T]}),l.add(e.value)}}else if(f=(u+Number.MIN_SAFE_INTEGER)/2,null!=(p=(0,a.g)(f,n))&&!l.has(u)){var C=(0,i.g)(p.color),B=(0,r.Z)(C,3),x=B[0],N=B[1],A=B[2];o.push({lower:Number.MIN_SAFE_INTEGER,upper:u,color:[x,N,A]})}}else{var M=(Number.MAX_SAFE_INTEGER+u)/2,D=(0,a.g)(M,n);if(null!=D){var z=(0,i.g)(D.color),O=(0,r.Z)(z,3),R=O[0],F=O[1],U=O[2];o.push({upper:Number.MAX_SAFE_INTEGER,lower:u,color:[R,F,U]})}}else{var P=(0,i.g)(n[t].color),I=(0,r.Z)(P,3),L=I[0],Z=I[1],k=I[2];o.push({upper:u,lower:u,color:[L,Z,k]})}}));for(var u=o[o.length-1];o.length<c;){var d=n[n.length-1].value,f=Number.MIN_SAFE_INTEGER+d/2,p=(0,a.g)(f,n);if(null==p)o.push(u);else{var h=(0,i.g)(p.color),v=(0,r.Z)(h,3),g=v[0],m=v[1],b=v[2];u={lower:Number.MIN_SAFE_INTEGER,upper:d,color:[g,m,b]},o.push(u)}}return o},f="\n#define MAX_NUM_TOTAL_THRESHOLD_BAND ".concat(c,"\n\nstruct Band {\n  float upper;\n  float lower;\n  vec3 color;\n};\n\nvarying vec3 vColor;\nvarying float positionY;\n\nuniform Band thresholdBands[MAX_NUM_TOTAL_THRESHOLD_BAND];\nuniform float yPixelDensity;\n\nvoid main() {\n  // calculate position such that the center is (0, 0) in a region of [-1, 1] x [-1, 1]\n  vec2 pos = 2.0 * gl_PointCoord.xy - 1.0;\n  // r = distance squared from the origin of the point being rendered\n  float r = dot(pos, pos);\n  if (r > 1.0) {\n    discard;\n  }\n  float alpha = 1.0 - smoothstep(0.5, 1.0, sqrt(r));\n\n  for(int i = 0; i < MAX_NUM_TOTAL_THRESHOLD_BAND; i++) {\n    bool isRangeBreached = positionY >= thresholdBands[i].lower && positionY <= thresholdBands[i].upper;\n    bool isEqualsThreshold = thresholdBands[i].lower == thresholdBands[i].upper;\n    bool isEqualsThresholdBreached = positionY == thresholdBands[i].upper;\n\n    if (isRangeBreached || (isEqualsThreshold && isEqualsThresholdBreached)) {\n       gl_FragColor = vec4(thresholdBands[i].color /255.0, alpha);\n       break;\n    } else {\n       gl_FragColor = vec4(vColor, alpha);\n    }\n  }\n}\n"),p=0,h=function(e){return 0===(null!=e[0]?e[0].resolution:null)?4:6.25},v=2,g=function(e,t,n){var o=t.filter(l.b).map((function(e){return(0,i.v)(e,e.resolution)})).flat(),a=e.attributes,s=a.position,u=a.pointColor;o.forEach((function(e,t){var o=(0,r.Z)(e,5),i=o[0],a=o[1],l=o[2],c=o[3],d=o[4];s.array[t*v]=n(i),s.array[t*v+1]=a,u.array[3*t]=l,u.array[3*t+1]=c,u.array[3*t+2]=d})),e.setDrawRange(0,o.length),s.needsUpdate=!0,u.needsUpdate=!0},m=function(e){var t=e.toClipSpace,n=e.dataStreams,r=e.minBufferSize,a=e.bufferFactor,s=e.thresholdOptions,l=e.thresholds,c=Math.max(r,(0,i.n)(n)*a),p=new o.c;!function(e,t){e.setAttribute("position",new o.B(new Float32Array(t*v),v)),e.setAttribute("pointColor",new o.B(new Uint8Array(3*t),3,!0))}(p,c),g(p,n,t);var m=s.showColor,b=void 0===m||m,S=new o.d({vertexShader:u(b&&l.length>0),fragmentShader:b&&0!==l.length?f:"\nvarying vec3 vColor;\n\nvoid main() {\n  // calculate position such that the center is (0, 0) in a region of [-1, 1] x [-1, 1]\n  vec2 pos = 2.0 * gl_PointCoord.xy - 1.0;\n  // r = distance squared from the origin of the point being rendered\n  float r = dot(pos, pos);\n  if (r > 1.0) {\n    discard;\n  }\n  float alpha = 1.0 - smoothstep(0.5, 1.0, sqrt(r));\n  gl_FragColor = vec4(vColor, alpha);\n}\n",transparent:!0,uniforms:{pointDiameter:{value:h(n)},devicePixelRatio:{value:window.devicePixelRatio},thresholdBands:{value:d(l)}}}),w=new o.P(p,S);return w.frustumCulled=!1,w},b=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];t.material.uniforms.pointDiameter.value=h(e),t.material.uniforms.devicePixelRatio.value=window.devicePixelRatio,r&&g(t.geometry,e,n)}},1657:function(e,t,n){n.r(t),n.d(t,{sc_scatter_chart:function(){return m}});var r=n(5671),o=n(3144),i=n(8427),a=n(8134),s=n(889),l=n(7411),u=n(7142),c=n(6673),d=n(7775),f=n(4910),p=n(6591),h=(n(553),n(2208),n(8828),n(5615),n(8858),n(339),function(e){var t=e.dataStreams,n=e.container,r=e.viewport,o=e.minBufferSize,i=e.bufferFactor,c=e.onUpdate,d=e.thresholdOptions,f=e.thresholds,p=new a.S,h=(0,l.a)(r),v=(0,u.a)(f),g=[];return g[s.P]=(0,s.p)({dataStreams:t,minBufferSize:o,bufferFactor:i,toClipSpace:h,thresholdOptions:d,thresholds:v}),g.forEach((function(e){return p.add(e)})),(0,l.c)({scene:p,viewport:r,container:n,toClipSpace:h,onUpdate:c})}),v=function(e){var t=e.scene,n=e.dataStreams,r=e.chartSize,o=e.container,i=e.viewport,a=e.hasDataChanged,u=e.bufferFactor,c=e.minBufferSize,d=e.onUpdate,f=e.thresholdOptions,p=e.thresholds,v=e.hasAnnotationChanged,g=t.scene.children[s.P],m=function(e){return e.geometry.attributes.position.array.length/s.N}(g)<(0,l.n)(n);return m||(0,l.b)(i,t.toClipSpace)||v?h({dataStreams:n,chartSize:r,container:o,viewport:i,minBufferSize:c,bufferFactor:u,onUpdate:d,thresholdOptions:f,thresholds:p}):(a&&(0,s.u)(n,g,t.toClipSpace),t)},g=function(e){return(0,i.h)("sc-tooltip",Object.assign({},e,{visualizesAlarms:!1,supportString:!1,dataAlignment:d.D.EITHER}))},m=function(){function e(t){(0,r.Z)(this,e),(0,i.r)(this,t),this.gestures=!0,this.isEditing=!1,this.bufferFactor=2,this.minBufferSize=1e3}return(0,o.Z)(e,[{key:"componentWillRender",value:function(){(0,f.v)(this)}},{key:"render",value:function(){var e=this;return(0,i.h)("sc-size-provider",{size:this.size,renderFunc:function(t){return(0,i.h)("sc-webgl-base-chart",{supportedDataTypes:[p.D.NUMBER],axis:e.axis,gestures:e.gestures,configId:e.widgetId,legend:e.legend,annotations:e.annotations,trends:e.trends,updateChartScene:v,createChartScene:h,size:Object.assign(Object.assign(Object.assign({},c.D.size),e.size),t),dataStreams:e.dataStreams,alarms:e.alarms,viewport:e.viewport,minBufferSize:e.minBufferSize,bufferFactor:e.bufferFactor,isEditing:e.isEditing,renderTooltip:g,supportString:!1,visualizesAlarms:!1,messageOverrides:e.messageOverrides})}})}}]),e}()},4910:function(e,t,n){n.d(t,{v:function(){return c}});var r=n(339),o=n(553),i=n(8828),a=(0,i.c)((function(e,t){function n(e){return n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"===typeof e||e instanceof String)){var t=n(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default})),s=(0,i.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,r.default)(e);var n=t.strictSeparator?i.test(e):o.test(e);return n&&t.strict?s(e):n};var n,r=(n=a)&&n.__esModule?n:{default:n};var o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,i=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(e){var t=e.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(t){var n=Number(t[1]),r=Number(t[2]);return n%4===0&&n%100!==0||n%400===0?r<=366:r<=365}var o=e.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),i=o[1],a=o[2],s=o[3],l=a?"0".concat(a).slice(-2):a,u=s?"0".concat(s).slice(-2):s,c=new Date("".concat(i,"-").concat(l||"01","-").concat(u||"01"));return!a||!s||c.getUTCFullYear()===i&&c.getUTCMonth()+1===a&&c.getUTCDate()===s};e.exports=t.default,e.exports.default=t.default})),l=(0,i.a)(s),u=function(e){return e instanceof Date||l(e)},c=function(e){var t=e.viewport;if(null!=t){if((0,o.a)(t)&&null!=t.duration&&console.warn("Detected both static and live viewport type. Duration will be used"),(0,o.a)(t)&&(!u(t.start)||!u(t.end)))throw new Error("Unable to parse start date: '".concat(t.start,"' and/or end date: '").concat(t.end,"'"));if(!(0,o.a)(t)&&"string"===typeof t.duration&&null==(0,r.p)(t.duration,"ms"))throw new Error("Unable to parse duration: '".concat(t.duration,"'"))}}}}]);
//# sourceMappingURL=1657.8ecfb5c8.chunk.js.map