{"version":3,"file":"static/js/1669.b0e6f087.chunk.js","mappings":"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","sources":["../node_modules/@iot-app-kit/components/dist/esm/EmptyStatus-5d4f6b89.js","../node_modules/@iot-app-kit/components/dist/esm/chartDefaults-eb37c77e.js","../node_modules/@iot-app-kit/components/dist/esm/sc-chart-icon_14.entry.js"],"sourcesContent":["import { h } from './index-1cec361c.js';\nimport { a as NO_DATA_PRESENT_HEADER, b as NO_DATA_PRESENT_SUB_HEADER, c as NO_DATA_STREAMS_PRESENT_HEADER, d as NO_DATA_STREAMS_PRESENT_SUB_HEADER } from './terms-7b76cdf8.js';\n\n/**\n * Provider messaging to clarify that the chart has no data/streams present\n */\nconst EmptyStatus = ({ isLoading, hasNoDataPresent, hasNoDataStreamsPresent, messageOverrides, displaysNoDataPresentMsg, }) => (h(\"div\", { class: \"empty-status\", style: ((!(hasNoDataPresent || hasNoDataStreamsPresent) || isLoading) && { display: 'none' }) || undefined },\n    !isLoading &&\n        hasNoDataStreamsPresent && [\n        h(\"h3\", null, messageOverrides.noDataStreamsPresentHeader || NO_DATA_STREAMS_PRESENT_HEADER),\n        messageOverrides.noDataStreamsPresentSubHeader || NO_DATA_STREAMS_PRESENT_SUB_HEADER,\n    ],\n    !isLoading &&\n        displaysNoDataPresentMsg &&\n        !hasNoDataStreamsPresent &&\n        hasNoDataPresent && [\n        h(\"h3\", null, messageOverrides.noDataPresentHeader || NO_DATA_PRESENT_HEADER),\n        messageOverrides.noDataPresentSubHeader || NO_DATA_PRESENT_SUB_HEADER,\n    ]));\n\nexport { EmptyStatus as E };\n","import { b as ScaleType, L as LEGEND_POSITION } from './constants-9d5458e0.js';\n\nconst DEFAULT_CHART_CONFIG = {\n    widgetId: 'fake-id',\n    viewport: {\n        start: new Date(1995, 0, 0, 0),\n        end: new Date(2020, 1, 0, 0),\n        yMin: 0,\n        yMax: 10000,\n    },\n    // width is width - marginLeft - marginRight\n    size: { width: 400 + 50 + 25, height: 350, marginLeft: 50, marginRight: 50, marginTop: 24, marginBottom: 30 },\n    movement: {\n        enableXScroll: true,\n        enableYScroll: false,\n        zoomMax: Infinity,\n        zoomMin: 0.00001,\n    },\n    layout: {\n        xGridVisible: false,\n        yGridVisible: true,\n        xTicksVisible: true,\n        yTicksVisible: true,\n    },\n    scale: {\n        xScaleType: ScaleType.TimeSeries,\n        yScaleType: ScaleType.Linear,\n        xScaleSide: 'bottom',\n        yScaleSide: 'left',\n    },\n    dataStreams: [],\n    legend: {\n        position: LEGEND_POSITION.BOTTOM,\n        width: 170,\n    },\n};\nconst DEFAULT_THRESHOLD_OPTIONS = {\n    showColor: true,\n};\nconst DEFAULT_THRESHOLD_OPTIONS_OFF = {\n    showColor: false,\n};\n\nexport { DEFAULT_CHART_CONFIG as D, DEFAULT_THRESHOLD_OPTIONS as a, DEFAULT_THRESHOLD_OPTIONS_OFF as b };\n","import { h, r as registerInstance, g as getElement, H as Host, c as createEvent } from './index-1cec361c.js';\nimport { S as StatusIcon, L as LEGEND_POSITION, D as DATA_ALIGNMENT, b as ScaleType } from './constants-9d5458e0.js';\nimport { t as tippy, T as TIPPY_SETTINGS } from './toolTipSettings-4e464f5d.js';\nimport { b as bisector, a as ascending$1 } from './bisector-ecf52045.js';\nimport { b as breachedThreshold, a as activePoints, s as sortTooltipPoints } from './breachedThreshold-ec78e357.js';\nimport { a as getVisibleData } from './dataFilters-fa384f64.js';\nimport { g as getDataPoints } from './getDataPoints-c53771e0.js';\nimport { T as TREND_TYPE, S as StreamType, D as DataType } from './dataConstants-71f11842.js';\nimport { d as isSupportedDataType, e as isNumber, c as isDefined, a as isMinimalStaticViewport, b as isNumberDataStream } from './predicates-248e16b2.js';\nimport { T as TREND_ICON_DASH_ARRAY, S as STREAM_ICON_STROKE_LINECAP, a as STREAM_ICON_STROKE_WIDTH, b as STREAM_ICON_PATH_COMMAND } from './dataTypes-7f768b75.js';\nimport { V as Value } from './Value-47ec6a7b.js';\nimport { r as rectScrollFixed, w as webGLRenderer, i as index } from './webglContext-6c9fd90d.js';\nimport { l as lodash_isequal } from './index-79c8c520.js';\nimport { g as getAggregationFrequency } from './helper-534fd488.js';\nimport { b as commonjsGlobal, c as createCommonjsModule } from './_commonjsHelpers-f9dc4873.js';\nimport { d as displayDate, p as parseDuration } from './time-b684d8c5.js';\nimport { l as lodash_throttle, D as DATE_RANGE_EMIT_EVENT_MS } from './constants-3de41941.js';\nimport { a as DEFAULT_THRESHOLD_OPTIONS, b as DEFAULT_THRESHOLD_OPTIONS_OFF, D as DEFAULT_CHART_CONFIG } from './chartDefaults-eb37c77e.js';\nimport { c as getColor, d as getValueAndText, e as getValueAndTextVisibility, f as getValueTextVisibility, h as getValueText, j as getLabelTextVisibility, k as getText, i as isThreshold, l as getNumberAnnotations } from './utils-0919edc8.js';\nimport { i as isNumeric } from './number-3e8376bf.js';\nimport { E as EmptyStatus } from './EmptyStatus-5d4f6b89.js';\nimport { g as getDataStreamForEventing } from './common-a2d0f0fb.js';\nimport './terms-7b76cdf8.js';\nimport './three.module-8c8bcb27.js';\nimport './index-b3f1c3a1.js';\n\nfunction number$3(x) {\n  return x === null ? NaN : +x;\n}\n\nconst ascendingBisect = bisector(ascending$1);\nconst bisectRight = ascendingBisect.right;\nbisector(number$3).center;\n\nvar e10 = Math.sqrt(50),\n    e5 = Math.sqrt(10),\n    e2 = Math.sqrt(2);\n\nfunction ticks(start, stop, count) {\n  var reverse,\n      i = -1,\n      n,\n      ticks,\n      step;\n\n  stop = +stop, start = +start, count = +count;\n  if (start === stop && count > 0) return [start];\n  if (reverse = stop < start) n = start, start = stop, stop = n;\n  if ((step = tickIncrement(start, stop, count)) === 0 || !isFinite(step)) return [];\n\n  if (step > 0) {\n    let r0 = Math.round(start / step), r1 = Math.round(stop / step);\n    if (r0 * step < start) ++r0;\n    if (r1 * step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) * step;\n  } else {\n    step = -step;\n    let r0 = Math.round(start * step), r1 = Math.round(stop * step);\n    if (r0 / step < start) ++r0;\n    if (r1 / step > stop) --r1;\n    ticks = new Array(n = r1 - r0 + 1);\n    while (++i < n) ticks[i] = (r0 + i) / step;\n  }\n\n  if (reverse) ticks.reverse();\n\n  return ticks;\n}\n\nfunction tickIncrement(start, stop, count) {\n  var step = (stop - start) / Math.max(0, count),\n      power = Math.floor(Math.log(step) / Math.LN10),\n      error = step / Math.pow(10, power);\n  return power >= 0\n      ? (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1) * Math.pow(10, power)\n      : -Math.pow(10, -power) / (error >= e10 ? 10 : error >= e5 ? 5 : error >= e2 ? 2 : 1);\n}\n\nfunction tickStep(start, stop, count) {\n  var step0 = Math.abs(stop - start) / Math.max(0, count),\n      step1 = Math.pow(10, Math.floor(Math.log(step0) / Math.LN10)),\n      error = step0 / step1;\n  if (error >= e10) step1 *= 10;\n  else if (error >= e5) step1 *= 5;\n  else if (error >= e2) step1 *= 2;\n  return stop < start ? -step1 : step1;\n}\n\nfunction define(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nfunction extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n\nfunction Color() {}\n\nvar darker = 0.7;\nvar brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy: function(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nfunction color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nfunction rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nfunction rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nfunction Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return \"#\" + hex(this.r) + hex(this.g) + hex(this.b);\n}\n\nfunction rgb_formatRgb() {\n  var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n  return (a === 1 ? \"rgb(\" : \"rgba(\")\n      + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n      + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n      + (a === 1 ? \")\" : \", \" + a + \")\");\n}\n\nfunction hex(value) {\n  value = Math.max(0, Math.min(255, Math.round(value) || 0));\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nfunction hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nfunction hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"hsl(\" : \"hsla(\")\n        + (this.h || 0) + \", \"\n        + (this.s || 0) * 100 + \"%, \"\n        + (this.l || 0) * 100 + \"%\"\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n\nfunction constant$3(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction linear$1(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nfunction gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant$3(isNaN(a) ? b : a);\n  };\n}\n\nfunction nogamma(a, b) {\n  var d = b - a;\n  return d ? linear$1(a, d) : constant$3(isNaN(a) ? b : a);\n}\n\nconst interpolateRgb = (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb$1(start, end) {\n    var r = color((start = rgb(start)).r, (end = rgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb$1.gamma = rgbGamma;\n\n  return rgb$1;\n})(1);\n\nfunction numberArray(a, b) {\n  if (!b) b = [];\n  var n = a ? Math.min(b.length, a.length) : 0,\n      c = b.slice(),\n      i;\n  return function(t) {\n    for (i = 0; i < n; ++i) c[i] = a[i] * (1 - t) + b[i] * t;\n    return c;\n  };\n}\n\nfunction isNumberArray(x) {\n  return ArrayBuffer.isView(x) && !(x instanceof DataView);\n}\n\nfunction genericArray(a, b) {\n  var nb = b ? b.length : 0,\n      na = a ? Math.min(nb, a.length) : 0,\n      x = new Array(na),\n      c = new Array(nb),\n      i;\n\n  for (i = 0; i < na; ++i) x[i] = interpolate$1(a[i], b[i]);\n  for (; i < nb; ++i) c[i] = b[i];\n\n  return function(t) {\n    for (i = 0; i < na; ++i) c[i] = x[i](t);\n    return c;\n  };\n}\n\nfunction date$1(a, b) {\n  var d = new Date;\n  return a = +a, b = +b, function(t) {\n    return d.setTime(a * (1 - t) + b * t), d;\n  };\n}\n\nfunction interpolateNumber(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n\nfunction object(a, b) {\n  var i = {},\n      c = {},\n      k;\n\n  if (a === null || typeof a !== \"object\") a = {};\n  if (b === null || typeof b !== \"object\") b = {};\n\n  for (k in b) {\n    if (k in a) {\n      i[k] = interpolate$1(a[k], b[k]);\n    } else {\n      c[k] = b[k];\n    }\n  }\n\n  return function(t) {\n    for (k in i) c[k] = i[k](t);\n    return c;\n  };\n}\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nfunction interpolateString(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: interpolateNumber(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n\nfunction interpolate$1(a, b) {\n  var t = typeof b, c;\n  return b == null || t === \"boolean\" ? constant$3(b)\n      : (t === \"number\" ? interpolateNumber\n      : t === \"string\" ? ((c = color(b)) ? (b = c, interpolateRgb) : interpolateString)\n      : b instanceof color ? interpolateRgb\n      : b instanceof Date ? date$1\n      : isNumberArray(b) ? numberArray\n      : Array.isArray(b) ? genericArray\n      : typeof b.valueOf !== \"function\" && typeof b.toString !== \"function\" || isNaN(b) ? object\n      : interpolateNumber)(a, b);\n}\n\nfunction interpolateRound(a, b) {\n  return a = +a, b = +b, function(t) {\n    return Math.round(a * (1 - t) + b * t);\n  };\n}\n\nvar degrees = 180 / Math.PI;\n\nvar identity$5 = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nfunction decompose(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n\nvar cssNode,\n    cssRoot,\n    cssView,\n    svgNode;\n\nfunction parseCss(value) {\n  if (value === \"none\") return identity$5;\n  if (!cssNode) cssNode = document.createElement(\"DIV\"), cssRoot = document.documentElement, cssView = document.defaultView;\n  cssNode.style.transform = value;\n  value = cssView.getComputedStyle(cssRoot.appendChild(cssNode), null).getPropertyValue(\"transform\");\n  cssRoot.removeChild(cssNode);\n  value = value.slice(7, -1).split(\",\");\n  return decompose(+value[0], +value[1], +value[2], +value[3], +value[4], +value[5]);\n}\n\nfunction parseSvg(value) {\n  if (value == null) return identity$5;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity$5;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: interpolateNumber(xa, xb)}, {i: i - 2, x: interpolateNumber(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: interpolateNumber(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: interpolateNumber(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: interpolateNumber(xa, xb)}, {i: i - 2, x: interpolateNumber(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nvar interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nvar interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n\nvar rho = Math.SQRT2,\n    rho2 = 2,\n    rho4 = 4,\n    epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\n// p0 = [ux0, uy0, w0]\n// p1 = [ux1, uy1, w1]\nfunction interpolateZoom(p0, p1) {\n  var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n      ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n      dx = ux1 - ux0,\n      dy = uy1 - uy0,\n      d2 = dx * dx + dy * dy,\n      i,\n      S;\n\n  // Special case for u0 ≅ u1.\n  if (d2 < epsilon2) {\n    S = Math.log(w1 / w0) / rho;\n    i = function(t) {\n      return [\n        ux0 + t * dx,\n        uy0 + t * dy,\n        w0 * Math.exp(rho * t * S)\n      ];\n    };\n  }\n\n  // General case.\n  else {\n    var d1 = Math.sqrt(d2),\n        b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n        b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n        r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n        r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n    S = (r1 - r0) / rho;\n    i = function(t) {\n      var s = t * S,\n          coshr0 = cosh(r0),\n          u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n      return [\n        ux0 + u * dx,\n        uy0 + u * dy,\n        w0 * coshr0 / cosh(rho * s + r0)\n      ];\n    };\n  }\n\n  i.duration = S * 1000;\n\n  return i;\n}\n\nvar t0$1 = new Date,\n    t1$1 = new Date;\n\nfunction newInterval$1(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval$1(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0$1.setTime(+start), t1$1.setTime(+end);\n      floori(t0$1), floori(t1$1);\n      return Math.floor(count(t0$1, t1$1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar durationMinute$1 = 6e4;\nvar durationDay$1 = 864e5;\nvar durationWeek$1 = 6048e5;\n\nvar day$1 = newInterval$1(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute$1) / durationDay$1;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nfunction weekday$1(i) {\n  return newInterval$1(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute$1) / durationWeek$1;\n  });\n}\n\nvar sunday$1 = weekday$1(0);\nvar monday = weekday$1(1);\nweekday$1(2);\nweekday$1(3);\nvar thursday = weekday$1(4);\nweekday$1(5);\nweekday$1(6);\n\nvar year$1 = newInterval$1(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear$1.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval$1(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nvar utcDay = newInterval$1(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay$1;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nfunction utcWeekday(i) {\n  return newInterval$1(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek$1;\n  });\n}\n\nvar utcSunday = utcWeekday(0);\nvar utcMonday = utcWeekday(1);\nutcWeekday(2);\nutcWeekday(3);\nvar utcThursday = utcWeekday(4);\nutcWeekday(5);\nutcWeekday(6);\n\nvar utcYear = newInterval$1(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval$1(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newDate(y, m, d) {\n  return {y: y, m: m, d: d, H: 0, M: 0, S: 0, L: 0};\n}\n\nfunction formatLocale$2(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"f\": formatMicroseconds,\n    \"g\": formatYearISO,\n    \"G\": formatFullYearISO,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"q\": formatQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatSeconds,\n    \"u\": formatWeekdayNumberMonday,\n    \"U\": formatWeekNumberSunday,\n    \"V\": formatWeekNumberISO,\n    \"w\": formatWeekdayNumberSunday,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"f\": formatUTCMicroseconds,\n    \"g\": formatUTCYearISO,\n    \"G\": formatUTCFullYearISO,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"q\": formatUTCQuarter,\n    \"Q\": formatUnixTimestamp,\n    \"s\": formatUnixTimestampSeconds,\n    \"S\": formatUTCSeconds,\n    \"u\": formatUTCWeekdayNumberMonday,\n    \"U\": formatUTCWeekNumberSunday,\n    \"V\": formatUTCWeekNumberISO,\n    \"w\": formatUTCWeekdayNumberSunday,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"f\": parseMicroseconds,\n    \"g\": parseYear,\n    \"G\": parseFullYear,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"q\": parseQuarter,\n    \"Q\": parseUnixTimestamp,\n    \"s\": parseUnixTimestampSeconds,\n    \"S\": parseSeconds,\n    \"u\": parseWeekdayNumberMonday,\n    \"U\": parseWeekNumberSunday,\n    \"V\": parseWeekNumberISO,\n    \"w\": parseWeekdayNumberSunday,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, Z) {\n    return function(string) {\n      var d = newDate(1900, undefined, 1),\n          i = parseSpecifier(d, specifier, string += \"\", 0),\n          week, day;\n      if (i != string.length) return null;\n\n      // If a UNIX timestamp is specified, return it.\n      if (\"Q\" in d) return new Date(d.Q);\n      if (\"s\" in d) return new Date(d.s * 1000 + (\"L\" in d ? d.L : 0));\n\n      // If this is utcParse, never use the local timezone.\n      if (Z && !(\"Z\" in d)) d.Z = 0;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // If the month was not specified, inherit from the quarter.\n      if (d.m === undefined) d.m = \"q\" in d ? d.q : 0;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"V\" in d) {\n        if (d.V < 1 || d.V > 53) return null;\n        if (!(\"w\" in d)) d.w = 1;\n        if (\"Z\" in d) {\n          week = utcDate(newDate(d.y, 0, 1)), day = week.getUTCDay();\n          week = day > 4 || day === 0 ? utcMonday.ceil(week) : utcMonday(week);\n          week = utcDay.offset(week, (d.V - 1) * 7);\n          d.y = week.getUTCFullYear();\n          d.m = week.getUTCMonth();\n          d.d = week.getUTCDate() + (d.w + 6) % 7;\n        } else {\n          week = localDate(newDate(d.y, 0, 1)), day = week.getDay();\n          week = day > 4 || day === 0 ? monday.ceil(week) : monday(week);\n          week = day$1.offset(week, (d.V - 1) * 7);\n          d.y = week.getFullYear();\n          d.m = week.getMonth();\n          d.d = week.getDate() + (d.w + 6) % 7;\n        }\n      } else if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"u\" in d ? d.u % 7 : \"W\" in d ? 1 : 0;\n        day = \"Z\" in d ? utcDate(newDate(d.y, 0, 1)).getUTCDay() : localDate(newDate(d.y, 0, 1)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return localDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatQuarter(d) {\n    return 1 + ~~(d.getMonth() / 3);\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  function formatUTCQuarter(d) {\n    return 1 + ~~(d.getUTCMonth() / 3);\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", false);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier += \"\", true);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\^$*+?|[\\]().{}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekdayNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.u = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberISO(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.V = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseQuarter(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.q = n[0] * 3 - 3, i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMicroseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 6));\n  return n ? (d.L = Math.floor(n[0] / 1000), i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction parseUnixTimestamp(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.Q = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseUnixTimestampSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.s = +n[0], i + n[0].length) : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + day$1.count(year$1(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMicroseconds(d, p) {\n  return formatMilliseconds(d, p) + \"000\";\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekdayNumberMonday(d) {\n  var day = d.getDay();\n  return day === 0 ? 7 : day;\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(sunday$1.count(year$1(d) - 1, d), p, 2);\n}\n\nfunction dISO(d) {\n  var day = d.getDay();\n  return (day >= 4 || day === 0) ? thursday(d) : thursday.ceil(d);\n}\n\nfunction formatWeekNumberISO(d, p) {\n  d = dISO(d);\n  return pad(thursday.count(year$1(d), d) + (year$1(d).getDay() === 4), p, 2);\n}\n\nfunction formatWeekdayNumberSunday(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(monday.count(year$1(d) - 1, d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatYearISO(d, p) {\n  d = dISO(d);\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatFullYearISO(d, p) {\n  var day = d.getDay();\n  d = (day >= 4 || day === 0) ? thursday(d) : thursday.ceil(d);\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMicroseconds(d, p) {\n  return formatUTCMilliseconds(d, p) + \"000\";\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekdayNumberMonday(d) {\n  var dow = d.getUTCDay();\n  return dow === 0 ? 7 : dow;\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction UTCdISO(d) {\n  var day = d.getUTCDay();\n  return (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n}\n\nfunction formatUTCWeekNumberISO(d, p) {\n  d = UTCdISO(d);\n  return pad(utcThursday.count(utcYear(d), d) + (utcYear(d).getUTCDay() === 4), p, 2);\n}\n\nfunction formatUTCWeekdayNumberSunday(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d) - 1, d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCYearISO(d, p) {\n  d = UTCdISO(d);\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCFullYearISO(d, p) {\n  var day = d.getUTCDay();\n  d = (day >= 4 || day === 0) ? utcThursday(d) : utcThursday.ceil(d);\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n\nfunction formatUnixTimestamp(d) {\n  return +d;\n}\n\nfunction formatUnixTimestampSeconds(d) {\n  return Math.floor(+d / 1000);\n}\n\nvar locale$2;\nvar timeFormat;\n\ndefaultLocale$2({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nfunction defaultLocale$2(definition) {\n  locale$2 = formatLocale$2(definition);\n  timeFormat = locale$2.format;\n  return locale$2;\n}\n\n/* eslint-disable max-len */\nconst DEFAULT_SIZE_PX = 16;\nconst icons = {\n    normal(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, viewBox: \"0 0 16 16\", fill: color ? `${color}` : '#1d8102' },\n            h(\"path\", { d: \"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z\" }),\n            h(\"path\", { d: \"M7 8.6l-2-2L3.6 8 7 11.4l4.9-4.9-1.4-1.4z\" })));\n    },\n    active(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, fill: color ? `${color}` : '#d13212', viewBox: \"0 0 16 16\" },\n            h(\"g\", { fill: \"none\", \"fill-rule\": \"evenodd\" },\n                h(\"circle\", { cx: \"8\", cy: \"8\", r: \"7\", stroke: color ? `${color}` : '#d13212', \"stroke-width\": \"2\" }),\n                h(\"g\", { transform: \"translate(7 4)\" },\n                    h(\"mask\", { id: \"b\", fill: \"#fff\" },\n                        h(\"path\", { id: \"a\", d: \"M2.00129021 6v2h-2V6h2zm0-6v5h-2V0h2z\" })),\n                    h(\"g\", { mask: \"url(#b)\" },\n                        h(\"path\", { fill: color ? `${color}` : '#d13212', d: \"M-7-5H9v16H-7z\" }))))));\n    },\n    acknowledged(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, viewBox: \"0 0 16 16\", stroke: color ? `${color}` : '#3184c2' },\n            h(\"path\", { fill: \"none\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\", \"stroke-width\": \"2\", d: \"M2 12.286h5.143L8.857 14l1.714-1.714H14V2H2v10.286z\" }),\n            h(\"path\", { fill: \"none\", \"stroke-linecap\": \"round\", \"stroke-width\": \"2\", \"stroke-miterlimit\": \"10\", d: \"M4.99 7H5v.01h-.01zM7.99 7H8v.01h-.01zM10.99 7H11v.01h-.01z\" })));\n    },\n    disabled(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, viewBox: \"0 0 16 16\", stroke: color ? `${color}` : '#687078' },\n            h(\"g\", { fill: \"none\", \"stroke-width\": \"2\" },\n                h(\"circle\", { cx: \"8\", cy: \"8\", r: \"7\", \"stroke-linejoin\": \"round\" }),\n                h(\"path\", { \"stroke-linecap\": \"square\", \"stroke-miterlimit\": \"10\", d: \"M11 8H5\" }))));\n    },\n    latched(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, viewBox: \"0 0 16 16\", fill: color ? `${color}` : '#f89256' },\n            h(\"path\", { d: \"M15.9 14.6l-7-14c-.3-.7-1.5-.7-1.8 0l-7 14c-.2.3-.1.7 0 1 .2.2.6.4.9.4h14c.3 0 .7-.2.9-.5.1-.3.1-.6 0-.9zM2.6 14L8 3.2 13.4 14H2.6z\" }),\n            h(\"path\", { d: \"M7 11v2h2v-2zM7 6h2v4H7z\" })));\n    },\n    snoozed(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, viewBox: \"0 0 16 16\", stroke: color ? `${color}` : '#879596' },\n            h(\"g\", { fill: \"none\", \"stroke-width\": \"2\" },\n                h(\"circle\", { cx: \"8\", cy: \"8\", r: \"7\", \"stroke-linejoin\": \"round\" }),\n                h(\"path\", { \"stroke-linecap\": \"square\", \"stroke-miterlimit\": \"10\", d: \"M8 5v4H5\" }))));\n    },\n    error(color, size = DEFAULT_SIZE_PX) {\n        return (h(\"svg\", { width: `${size}px`, height: `${size}px`, viewBox: \"0 0 16 16\", fill: color ? `${color}` : '#FF0000', \"data-test-tag\": \"error\" },\n            h(\"path\", { class: \"st4\", d: \"M13.7 2.3C12.1.8 10.1 0 8 0S3.9.8 2.3 2.3C.8 3.9 0 5.9 0 8s.8 4.1 2.3 5.7C3.9 15.2 5.9 16 8 16s4.1-.8 5.7-2.3C15.2 12.1 16 10.1 16 8s-.8-4.1-2.3-5.7zm-1.5 9.9C11.1 13.4 9.6 14 8 14s-3.1-.6-4.2-1.8S2 9.6 2 8s.6-3.1 1.8-4.2S6.4 2 8 2s3.1.6 4.2 1.8S14 6.4 14 8s-.6 3.1-1.8 4.2z\" }),\n            h(\"path\", { class: \"st4\", d: \"M10.1 4.5L8 6.6 5.9 4.5 4.5 5.9 6.6 8l-2.1 2.1 1.4 1.4L8 9.4l2.1 2.1 1.4-1.4L9.4 8l2.1-2.1z\" })));\n    },\n};\nconst getIcons = (name, color, size) => {\n    if (icons[name]) {\n        return icons[name](color, size);\n    }\n    /* eslint-disable-next-line no-console */\n    console.warn(`Invalid status icon requested: ${name}`);\n    return undefined;\n};\n\nconst scChartIconCss = \".sc-chart-icon{position:relative;margin-right:3px;top:2px;padding:0.5rem 0;display:inline}\";\n\nconst ScChartIcon = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.name = StatusIcon.NORMAL;\n  }\n  render() {\n    return h(\"div\", { class: \"sc-chart-icon\" }, getIcons(this.name, this.color, this.size));\n  }\n};\nScChartIcon.style = scChartIconCss;\n\nconst scDataStreamNameCss = \"sc-data-stream-name{color:var(--polaris-gray-900)}sc-data-stream-name .awsui{color:inherit}\";\n\nconst ScDataStreamName = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.displayTooltip = true;\n    this.renderTooltip = () => {\n      if (this.displayTooltip) {\n        const container = this.el.querySelector('sc-expandable-input');\n        const tooltip = this.el.querySelector('.data-stream-name-tooltip');\n        if (tooltip != null && container != null) {\n          tooltip.style.display = 'block';\n          this.tooltip = tippy(container, Object.assign(Object.assign({}, TIPPY_SETTINGS), { content: tooltip }));\n        }\n      }\n    };\n  }\n  disconnectedCallback() {\n    if (this.tooltip) {\n      this.tooltip.destroy();\n    }\n  }\n  render() {\n    return (h(\"div\", { class: \"awsui\" }, h(\"sc-expandable-input\", { isDisabled: !this.isEditing, onValueChange: (value) => {\n        this.onNameChange(value);\n      }, onMouseOver: this.renderTooltip, onFocus: this.renderTooltip, value: this.label }), h(\"div\", { class: \"data-stream-name-tooltip awsui-util-container awsui\", style: { display: 'none' } }, h(\"div\", { class: \"awsui-util-spacing-v-s\" }, h(\"div\", null, h(\"div\", { class: \"awsui-util-label\" }, this.detailedLabel || this.label), this.pointType && this.pointType === \"trend\" /* TREND */ && (h(\"small\", null, \"This trend line is computed from only visible data.\"))), this.date && (h(\"div\", null, h(\"div\", { class: \"awsui-util-label\" }, \"Latest value at\"), h(\"div\", null, this.date.toLocaleString('en-US', {\n      hour12: true,\n      minute: 'numeric',\n      hour: 'numeric',\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n    }))))))));\n  }\n  get el() { return getElement(this); }\n};\nScDataStreamName.style = scDataStreamNameCss;\n\nconst scExpandableInputCss = \"sc-expandable-input .sc-expandable-input{display:inline-block;background:none;color:inherit;word-break:break-word;margin-top:3px;min-width:20px;text-overflow:ellipsis;border:none;border-bottom:var(--border-width) solid var(--polaris-gray-400)}sc-expandable-input .sc-expandable-input.disabled{outline:none;border-bottom-color:rgba(0, 0, 0, 0)}\";\n\nconst ScExpandableInput = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.onChange = (e) => {\n      const span = e.target;\n      this.onValueChange(span.innerText);\n    };\n  }\n  render() {\n    const { value, isDisabled = false } = this;\n    return (h(\"span\", { \"data-test-tag\": \"expandable-input\", contentEditable: !isDisabled, class: `sc-expandable-input aws-util-font-size-1 ${isDisabled ? 'disabled' : ''}`,\n      // spellCheck={('false' as unknown) as boolean}\n      onBlur: this.onChange }, value));\n  }\n};\nScExpandableInput.style = scExpandableInputCss;\n\nfunction initRange(domain, range) {\n  switch (arguments.length) {\n    case 0: break;\n    case 1: this.range(domain); break;\n    default: this.range(range).domain(domain); break;\n  }\n  return this;\n}\n\nfunction constants(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction number$2(x) {\n  return +x;\n}\n\nvar unit = [0, 1];\n\nfunction identity$4(x) {\n  return x;\n}\n\nfunction normalize(a, b) {\n  return (b -= (a = +a))\n      ? function(x) { return (x - a) / b; }\n      : constants(isNaN(b) ? NaN : 0.5);\n}\n\nfunction clamper(a, b) {\n  var t;\n  if (a > b) t = a, a = b, b = t;\n  return function(x) { return Math.max(a, Math.min(b, x)); };\n}\n\n// normalize(a, b)(x) takes a domain value x in [a,b] and returns the corresponding parameter t in [0,1].\n// interpolate(a, b)(t) takes a parameter t in [0,1] and returns the corresponding range value x in [a,b].\nfunction bimap(domain, range, interpolate) {\n  var d0 = domain[0], d1 = domain[1], r0 = range[0], r1 = range[1];\n  if (d1 < d0) d0 = normalize(d1, d0), r0 = interpolate(r1, r0);\n  else d0 = normalize(d0, d1), r0 = interpolate(r0, r1);\n  return function(x) { return r0(d0(x)); };\n}\n\nfunction polymap(domain, range, interpolate) {\n  var j = Math.min(domain.length, range.length) - 1,\n      d = new Array(j),\n      r = new Array(j),\n      i = -1;\n\n  // Reverse descending domains.\n  if (domain[j] < domain[0]) {\n    domain = domain.slice().reverse();\n    range = range.slice().reverse();\n  }\n\n  while (++i < j) {\n    d[i] = normalize(domain[i], domain[i + 1]);\n    r[i] = interpolate(range[i], range[i + 1]);\n  }\n\n  return function(x) {\n    var i = bisectRight(domain, x, 1, j) - 1;\n    return r[i](d[i](x));\n  };\n}\n\nfunction copy(source, target) {\n  return target\n      .domain(source.domain())\n      .range(source.range())\n      .interpolate(source.interpolate())\n      .clamp(source.clamp())\n      .unknown(source.unknown());\n}\n\nfunction transformer() {\n  var domain = unit,\n      range = unit,\n      interpolate = interpolate$1,\n      transform,\n      untransform,\n      unknown,\n      clamp = identity$4,\n      piecewise,\n      output,\n      input;\n\n  function rescale() {\n    var n = Math.min(domain.length, range.length);\n    if (clamp !== identity$4) clamp = clamper(domain[0], domain[n - 1]);\n    piecewise = n > 2 ? polymap : bimap;\n    output = input = null;\n    return scale;\n  }\n\n  function scale(x) {\n    return x == null || isNaN(x = +x) ? unknown : (output || (output = piecewise(domain.map(transform), range, interpolate)))(transform(clamp(x)));\n  }\n\n  scale.invert = function(y) {\n    return clamp(untransform((input || (input = piecewise(range, domain.map(transform), interpolateNumber)))(y)));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? (domain = Array.from(_, number$2), rescale()) : domain.slice();\n  };\n\n  scale.range = function(_) {\n    return arguments.length ? (range = Array.from(_), rescale()) : range.slice();\n  };\n\n  scale.rangeRound = function(_) {\n    return range = Array.from(_), interpolate = interpolateRound, rescale();\n  };\n\n  scale.clamp = function(_) {\n    return arguments.length ? (clamp = _ ? true : identity$4, rescale()) : clamp !== identity$4;\n  };\n\n  scale.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, rescale()) : interpolate;\n  };\n\n  scale.unknown = function(_) {\n    return arguments.length ? (unknown = _, scale) : unknown;\n  };\n\n  return function(t, u) {\n    transform = t, untransform = u;\n    return rescale();\n  };\n}\n\nfunction continuous() {\n  return transformer()(identity$4, identity$4);\n}\n\nfunction formatDecimal$1(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts$1(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent$1(x) {\n  return x = formatDecimalParts$1(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup$1(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals$1(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re$1 = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier$1(specifier) {\n  if (!(match = re$1.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier$1({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier$1.prototype = FormatSpecifier$1.prototype; // instanceof\n\nfunction FormatSpecifier$1(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier$1.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim$1(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent$1;\n\nfunction formatPrefixAuto$1(x, p) {\n  var d = formatDecimalParts$1(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent$1 = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts$1(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded$1(x, p) {\n  var d = formatDecimalParts$1(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nconst formatTypes$1 = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal$1,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded$1(x * 100, p),\n  \"r\": formatRounded$1,\n  \"s\": formatPrefixAuto$1,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n\nfunction identity$3(x) {\n  return x;\n}\n\nvar map$1 = Array.prototype.map,\n    prefixes$1 = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale$1(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity$3 : formatGroup$1(map$1.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity$3 : formatNumerals$1(map$1.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier$1(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes$1[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes$1[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim$1(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes$1[8 + prefixExponent$1 / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier$1(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes$1[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale$1;\nvar format$1;\nvar formatPrefix;\n\ndefaultLocale$1({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale$1(definition) {\n  locale$1 = formatLocale$1(definition);\n  format$1 = locale$1.format;\n  formatPrefix = locale$1.formatPrefix;\n  return locale$1;\n}\n\nfunction precisionFixed(step) {\n  return Math.max(0, -exponent$1(Math.abs(step)));\n}\n\nfunction precisionPrefix(step, value) {\n  return Math.max(0, Math.max(-8, Math.min(8, Math.floor(exponent$1(value) / 3))) * 3 - exponent$1(Math.abs(step)));\n}\n\nfunction precisionRound(step, max) {\n  step = Math.abs(step), max = Math.abs(max) - step;\n  return Math.max(0, exponent$1(max) - exponent$1(step)) + 1;\n}\n\nfunction tickFormat(start, stop, count, specifier) {\n  var step = tickStep(start, stop, count),\n      precision;\n  specifier = formatSpecifier$1(specifier == null ? \",f\" : specifier);\n  switch (specifier.type) {\n    case \"s\": {\n      var value = Math.max(Math.abs(start), Math.abs(stop));\n      if (specifier.precision == null && !isNaN(precision = precisionPrefix(step, value))) specifier.precision = precision;\n      return formatPrefix(specifier, value);\n    }\n    case \"\":\n    case \"e\":\n    case \"g\":\n    case \"p\":\n    case \"r\": {\n      if (specifier.precision == null && !isNaN(precision = precisionRound(step, Math.max(Math.abs(start), Math.abs(stop))))) specifier.precision = precision - (specifier.type === \"e\");\n      break;\n    }\n    case \"f\":\n    case \"%\": {\n      if (specifier.precision == null && !isNaN(precision = precisionFixed(step))) specifier.precision = precision - (specifier.type === \"%\") * 2;\n      break;\n    }\n  }\n  return format$1(specifier);\n}\n\nfunction linearish(scale) {\n  var domain = scale.domain;\n\n  scale.ticks = function(count) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], count == null ? 10 : count);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    var d = domain();\n    return tickFormat(d[0], d[d.length - 1], count == null ? 10 : count, specifier);\n  };\n\n  scale.nice = function(count) {\n    if (count == null) count = 10;\n\n    var d = domain();\n    var i0 = 0;\n    var i1 = d.length - 1;\n    var start = d[i0];\n    var stop = d[i1];\n    var prestep;\n    var step;\n    var maxIter = 10;\n\n    if (stop < start) {\n      step = start, start = stop, stop = step;\n      step = i0, i0 = i1, i1 = step;\n    }\n    \n    while (maxIter-- > 0) {\n      step = tickIncrement(start, stop, count);\n      if (step === prestep) {\n        d[i0] = start;\n        d[i1] = stop;\n        return domain(d);\n      } else if (step > 0) {\n        start = Math.floor(start / step) * step;\n        stop = Math.ceil(stop / step) * step;\n      } else if (step < 0) {\n        start = Math.ceil(start * step) / step;\n        stop = Math.floor(stop * step) / step;\n      } else {\n        break;\n      }\n      prestep = step;\n    }\n\n    return scale;\n  };\n\n  return scale;\n}\n\nfunction linear() {\n  var scale = continuous();\n\n  scale.copy = function() {\n    return copy(scale, linear());\n  };\n\n  initRange.apply(scale, arguments);\n\n  return linearish(scale);\n}\n\nfunction nice(domain, interval) {\n  domain = domain.slice();\n\n  var i0 = 0,\n      i1 = domain.length - 1,\n      x0 = domain[i0],\n      x1 = domain[i1],\n      t;\n\n  if (x1 < x0) {\n    t = i0, i0 = i1, i1 = t;\n    t = x0, x0 = x1, x1 = t;\n  }\n\n  domain[i0] = interval.floor(x0);\n  domain[i1] = interval.ceil(x1);\n  return domain;\n}\n\nvar t0 = new Date,\n    t1 = new Date;\n\nfunction newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = arguments.length === 0 ? new Date : new Date(+date)), date;\n  }\n\n  interval.floor = function(date) {\n    return floori(date = new Date(+date)), date;\n  };\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [], previous;\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(previous = new Date(+start)), offseti(start, step), floori(start);\n    while (previous < start && start < stop);\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) {\n        if (step < 0) while (++step <= 0) {\n          while (offseti(date, -1), !test(date)) {} // eslint-disable-line no-empty\n        } else while (--step >= 0) {\n          while (offseti(date, +1), !test(date)) {} // eslint-disable-line no-empty\n        }\n      }\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n\nvar millisecond = newInterval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return newInterval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nconst durationSecond = 1000;\nconst durationMinute = durationSecond * 60;\nconst durationHour = durationMinute * 60;\nconst durationDay = durationHour * 24;\nconst durationWeek = durationDay * 7;\nconst durationMonth = durationDay * 30;\nconst durationYear = durationDay * 365;\n\nvar second = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds());\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nvar minute = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nvar hour = newInterval(function(date) {\n  date.setTime(date - date.getMilliseconds() - date.getSeconds() * durationSecond - date.getMinutes() * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nvar day = newInterval(\n  date => date.setHours(0, 0, 0, 0),\n  (date, step) => date.setDate(date.getDate() + step),\n  (start, end) => (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay,\n  date => date.getDate() - 1\n);\n\nfunction weekday(i) {\n  return newInterval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nvar sunday = weekday(0);\nweekday(1);\nweekday(2);\nweekday(3);\nweekday(4);\nweekday(5);\nweekday(6);\n\nvar month = newInterval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nvar year = newInterval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : newInterval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nfunction ticker(year, month, week, day, hour, minute) {\n\n  const tickIntervals = [\n    [second,  1,      durationSecond],\n    [second,  5,  5 * durationSecond],\n    [second, 15, 15 * durationSecond],\n    [second, 30, 30 * durationSecond],\n    [minute,  1,      durationMinute],\n    [minute,  5,  5 * durationMinute],\n    [minute, 15, 15 * durationMinute],\n    [minute, 30, 30 * durationMinute],\n    [  hour,  1,      durationHour  ],\n    [  hour,  3,  3 * durationHour  ],\n    [  hour,  6,  6 * durationHour  ],\n    [  hour, 12, 12 * durationHour  ],\n    [   day,  1,      durationDay   ],\n    [   day,  2,  2 * durationDay   ],\n    [  week,  1,      durationWeek  ],\n    [ month,  1,      durationMonth ],\n    [ month,  3,  3 * durationMonth ],\n    [  year,  1,      durationYear  ]\n  ];\n\n  function ticks(start, stop, count) {\n    const reverse = stop < start;\n    if (reverse) [start, stop] = [stop, start];\n    const interval = count && typeof count.range === \"function\" ? count : tickInterval(start, stop, count);\n    const ticks = interval ? interval.range(start, +stop + 1) : []; // inclusive stop\n    return reverse ? ticks.reverse() : ticks;\n  }\n\n  function tickInterval(start, stop, count) {\n    const target = Math.abs(stop - start) / count;\n    const i = bisector(([,, step]) => step).right(tickIntervals, target);\n    if (i === tickIntervals.length) return year.every(tickStep(start / durationYear, stop / durationYear, count));\n    if (i === 0) return millisecond.every(Math.max(tickStep(start, stop, count), 1));\n    const [t, step] = tickIntervals[target / tickIntervals[i - 1][2] < tickIntervals[i][2] / target ? i - 1 : i];\n    return t.every(step);\n  }\n\n  return [ticks, tickInterval];\n}\nconst [timeTicks, timeTickInterval] = ticker(year, month, sunday, day, hour, minute);\n\nfunction date(t) {\n  return new Date(t);\n}\n\nfunction number$1(t) {\n  return t instanceof Date ? +t : +new Date(+t);\n}\n\nfunction calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format) {\n  var scale = continuous(),\n      invert = scale.invert,\n      domain = scale.domain;\n\n  var formatMillisecond = format(\".%L\"),\n      formatSecond = format(\":%S\"),\n      formatMinute = format(\"%I:%M\"),\n      formatHour = format(\"%I %p\"),\n      formatDay = format(\"%a %d\"),\n      formatWeek = format(\"%b %d\"),\n      formatMonth = format(\"%B\"),\n      formatYear = format(\"%Y\");\n\n  function tickFormat(date) {\n    return (second(date) < date ? formatMillisecond\n        : minute(date) < date ? formatSecond\n        : hour(date) < date ? formatMinute\n        : day(date) < date ? formatHour\n        : month(date) < date ? (week(date) < date ? formatDay : formatWeek)\n        : year(date) < date ? formatMonth\n        : formatYear)(date);\n  }\n\n  scale.invert = function(y) {\n    return new Date(invert(y));\n  };\n\n  scale.domain = function(_) {\n    return arguments.length ? domain(Array.from(_, number$1)) : domain().map(date);\n  };\n\n  scale.ticks = function(interval) {\n    var d = domain();\n    return ticks(d[0], d[d.length - 1], interval == null ? 10 : interval);\n  };\n\n  scale.tickFormat = function(count, specifier) {\n    return specifier == null ? tickFormat : format(specifier);\n  };\n\n  scale.nice = function(interval) {\n    var d = domain();\n    if (!interval || typeof interval.range !== \"function\") interval = tickInterval(d[0], d[d.length - 1], interval == null ? 10 : interval);\n    return interval ? domain(nice(d, interval)) : scale;\n  };\n\n  scale.copy = function() {\n    return copy(scale, calendar(ticks, tickInterval, year, month, week, day, hour, minute, second, format));\n  };\n\n  return scale;\n}\n\nfunction time() {\n  return initRange.apply(calendar(timeTicks, timeTickInterval, year, month, sunday, day, hour, minute, second, timeFormat).domain([new Date(2000, 0, 1), new Date(2000, 0, 2)]), arguments);\n}\n\nvar xhtml = \"http://www.w3.org/1999/xhtml\";\n\nconst namespaces = {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n\nfunction namespace(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nfunction creator(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n\nfunction none() {}\n\nfunction selector(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n\nfunction selection_select(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection$1(subgroups, this._parents);\n}\n\nfunction empty() {\n  return [];\n}\n\nfunction selectorAll(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n\nfunction selection_selectAll(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection$1(subgroups, parents);\n}\n\nfunction matcher(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nfunction selection_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection$1(subgroups, this._parents);\n}\n\nfunction sparse(update) {\n  return new Array(update.length);\n}\n\nfunction selection_enter() {\n  return new Selection$1(this._enter || this._groups.map(sparse), this._parents);\n}\n\nfunction EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n\nfunction constant$2(x) {\n  return function() {\n    return x;\n  };\n}\n\nvar keyPrefix = \"$\"; // Protect against keys like “__proto__”.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that don’t fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction selection_data(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant$2(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection$1(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\nfunction selection_exit() {\n  return new Selection$1(this._exit || this._groups.map(sparse), this._parents);\n}\n\nfunction selection_join(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  enter = typeof onenter === \"function\" ? onenter(enter) : enter.append(onenter + \"\");\n  if (onupdate != null) update = onupdate(update);\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n\nfunction selection_merge(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection$1(merges, this._parents);\n}\n\nfunction selection_order() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n\nfunction selection_sort(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection$1(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction selection_call() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n\nfunction selection_nodes() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n\nfunction selection_node() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n\nfunction selection_size() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n\nfunction selection_empty() {\n  return !this.node();\n}\n\nfunction selection_each(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n\nfunction attrRemove$1(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS$1(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant$1(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS$1(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction$1(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS$1(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nfunction selection_attr(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS$1 : attrRemove$1) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS$1 : attrFunction$1)\n      : (fullname.local ? attrConstantNS$1 : attrConstant$1)))(fullname, value));\n}\n\nfunction defaultView(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n\nfunction styleRemove$1(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant$1(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction$1(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nfunction selection_style(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove$1 : typeof value === \"function\"\n            ? styleFunction$1\n            : styleConstant$1)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nfunction styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n\nfunction propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nfunction selection_property(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n\nfunction classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nfunction selection_classed(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n\nfunction textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant$1(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction$1(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nfunction selection_text(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction$1\n          : textConstant$1)(value))\n      : this.node().textContent;\n}\n\nfunction htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nfunction selection_html(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n\nfunction raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nfunction selection_raise() {\n  return this.each(raise);\n}\n\nfunction lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nfunction selection_lower() {\n  return this.each(lower);\n}\n\nfunction selection_append(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n\nfunction constantNull() {\n  return null;\n}\n\nfunction selection_insert(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n\nfunction remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nfunction selection_remove() {\n  return this.each(remove);\n}\n\nfunction selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_clone(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n\nfunction selection_datum(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n\nvar filterEvents = {};\n\nvar event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames$1(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nfunction selection_on(typename, value, capture) {\n  var typenames = parseTypenames$1(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nfunction customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nfunction selection_dispatch(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n\nvar root$1 = [null];\n\nfunction Selection$1(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection$1([[document.documentElement]], root$1);\n}\n\nSelection$1.prototype = selection.prototype = {\n  constructor: Selection$1,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nfunction select(selector) {\n  return typeof selector === \"string\"\n      ? new Selection$1([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection$1([[selector]], root$1);\n}\n\nfunction sourceEvent() {\n  var current = event, source;\n  while (source = current.sourceEvent) current = source;\n  return current;\n}\n\nfunction point(node, event) {\n  var svg = node.ownerSVGElement || node;\n\n  if (svg.createSVGPoint) {\n    var point = svg.createSVGPoint();\n    point.x = event.clientX, point.y = event.clientY;\n    point = point.matrixTransform(node.getScreenCTM().inverse());\n    return [point.x, point.y];\n  }\n\n  var rect = node.getBoundingClientRect();\n  return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n}\n\nfunction mouse(node) {\n  var event = sourceEvent();\n  if (event.changedTouches) event = event.changedTouches[0];\n  return point(node, event);\n}\n\nfunction touch(node, touches, identifier) {\n  if (arguments.length < 3) identifier = touches, touches = sourceEvent().changedTouches;\n\n  for (var i = 0, n = touches ? touches.length : 0, touch; i < n; ++i) {\n    if ((touch = touches[i]).identifier === identifier) {\n      return point(node, touch);\n    }\n  }\n\n  return null;\n}\n\nvar noop$2 = {value: function() {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get$1(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set$1(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set$1(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get$1(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set$1(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop$2, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nfunction nopropagation$1() {\n  event.stopImmediatePropagation();\n}\n\nfunction noevent$1() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction dragDisable(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent$1, true);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent$1, true);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nfunction yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent$1, true);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n\nfunction constant$1(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction DragEvent(target, type, subject, id, active, x, y, dx, dy, dispatch) {\n  this.target = target;\n  this.type = type;\n  this.subject = subject;\n  this.identifier = id;\n  this.active = active;\n  this.x = x;\n  this.y = y;\n  this.dx = dx;\n  this.dy = dy;\n  this._ = dispatch;\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter$1() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable$1() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction drag() {\n  var filter = defaultFilter$1,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable$1,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var gesture = beforestart(\"mouse\", container.apply(this, arguments), mouse, this, arguments);\n    if (!gesture) return;\n    select(event.view).on(\"mousemove.drag\", mousemoved, true).on(\"mouseup.drag\", mouseupped, true);\n    dragDisable(event.view);\n    nopropagation$1();\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\");\n  }\n\n  function mousemoved() {\n    noevent$1();\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\");\n  }\n\n  function mouseupped() {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent$1();\n    gestures.mouse(\"end\");\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.changedTouches,\n        c = container.apply(this, arguments),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(touches[i].identifier, c, touch, this, arguments)) {\n        nopropagation$1();\n        gesture(\"start\");\n      }\n    }\n  }\n\n  function touchmoved() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent$1();\n        gesture(\"drag\");\n      }\n    }\n  }\n\n  function touchended() {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation$1();\n        gesture(\"end\");\n      }\n    }\n  }\n\n  function beforestart(id, container, point, that, args) {\n    var p = point(container, id), s, dx, dy,\n        sublisteners = listeners.copy();\n\n    if (!customEvent(new DragEvent(drag, \"beforestart\", s, id, active, p[0], p[1], 0, 0, sublisteners), function() {\n      if ((event.subject = s = subject.apply(that, args)) == null) return false;\n      dx = s.x - p[0] || 0;\n      dy = s.y - p[1] || 0;\n      return true;\n    })) return;\n\n    return function gesture(type) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[id] = gesture, n = active++; break;\n        case \"end\": delete gestures[id], --active; // nobreak\n        case \"drag\": p = point(container, id), n = active; break;\n      }\n      customEvent(new DragEvent(drag, type, s, id, n, p[0] + dx, p[1] + dy, p[0] - p0[0], p[1] - p0[1], sublisteners), sublisteners.apply, sublisteners, [type, that, args]);\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant$1(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant$1(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant$1(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant$1(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n\nvar frame = 0, // is an animation frame pending?\n    timeout$1 = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nfunction now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nfunction Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nfunction timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nfunction timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend we’ve set an alarm, if we haven’t already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(null, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout$1 = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout$1) timeout$1 = clearTimeout(timeout$1);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout$1 = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n\nfunction timeout(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(function(elapsed) {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nvar CREATED = 0;\nvar SCHEDULED = 1;\nvar STARTING = 2;\nvar STARTED = 3;\nvar RUNNING = 4;\nvar ENDING = 5;\nvar ENDED = 6;\n\nfunction schedule(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nfunction init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nfunction set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nfunction get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n\nfunction interrupt(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n\nfunction selection_interrupt(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and we’re done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction transition_tween(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nfunction tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n\nfunction interpolate(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction transition_attr(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransformSvg : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_attrTween(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nfunction transition_delay(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nfunction transition_duration(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nfunction transition_ease(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n\nfunction transition_filter(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n\nfunction transition_merge(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nfunction transition_on(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n\nfunction removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nfunction transition_remove() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n\nfunction transition_select(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n\nfunction transition_selectAll(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n\nvar Selection = selection.prototype.constructor;\n\nfunction transition_selection() {\n  return new Selection(this._groups, this._parents);\n}\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = styleValue(this, name),\n        string1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = styleValue(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = styleValue(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), styleValue(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and we’re done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nfunction transition_style(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransformCss : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n\nfunction styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_styleTween(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nfunction transition_text(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n\nfunction textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction transition_textTween(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n\nfunction transition_transition() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n\nfunction transition_end() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and we’re done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n  });\n}\n\nvar id = 0;\n\nfunction Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nfunction newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  end: transition_end\n};\n\nfunction cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: cubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      return defaultTiming.time = now(), defaultTiming;\n    }\n  }\n  return timing;\n}\n\nfunction selection_transition(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n\nfunction constant(x) {\n  return function() {\n    return x;\n  };\n}\n\nfunction ZoomEvent(target, type, transform) {\n  this.target = target;\n  this.type = type;\n  this.transform = transform;\n}\n\nfunction Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nvar identity$2 = new Transform(1, 0, 0);\n\nfunction nopropagation() {\n  event.stopImmediatePropagation();\n}\n\nfunction noevent() {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity$2;\n}\n\nfunction defaultWheelDelta() {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nfunction zoom() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled)\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n            .start()\n            .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n            .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p);\n  };\n\n  zoom.scaleTo = function(selection, k, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p);\n  };\n\n  zoom.translateBy = function(selection, x, y) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    });\n  };\n\n  zoom.translateTo = function(selection, x, y, p) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity$2.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new ZoomEvent(zoom, type, this.that.__zoom), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function wheeled() {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = mouse(this);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event won’t trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent();\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned() {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var g = gesture(this, arguments, true),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = mouse(this),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation();\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved() {\n      noevent();\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = mouse(g.that), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped() {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      yesdrag(event.view, g.moved);\n      noevent();\n      g.end();\n    }\n  }\n\n  function dblclicked() {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = mouse(this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, arguments), translateExtent);\n\n    noevent();\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0);\n    else select(this).call(zoom.transform, t1);\n  }\n\n  function touchstarted() {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, arguments, event.changedTouches.length === n),\n        started, i, t, p;\n\n    nopropagation();\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent();\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n    g.taps = 0;\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = touch(this, touches, t.identifier);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended() {\n    if (!this.__zooming) return;\n    var g = gesture(this, arguments),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation();\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        var p = select(this).on(\"dblclick.zoom\");\n        if (p) p.apply(this, arguments);\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  return zoom;\n}\n\nconst transformScales = (transform, movementOptions, { xScale, yScale }) => ({\n    xScale: movementOptions.enableXScroll ? transform.rescaleX(xScale) : xScale,\n    yScale: movementOptions.enableYScroll ? transform.rescaleY(yScale) : yScale,\n});\n\nconst getTransformFromDates = ({ prevXScale, prevDates, currDates, }) => {\n    // Determine k, our scaling factor\n    const prevTimeSpan = prevDates.end.getTime() - prevDates.start.getTime();\n    const currTimeSpan = currDates.end.getTime() - currDates.start.getTime();\n    const k = prevTimeSpan / currTimeSpan;\n    // Determine t, our translation x-offset\n    // since transform(xCurrStartDate) = 0 = xCurrStartDate * k + t => t = -1 * xCurrStartDate * k\n    const xCurrStartDate = prevXScale(currDates.start);\n    const t = -1 * xCurrStartDate * k;\n    return identity$2.translate(t, 0).scale(k); // NOTE: Only supporting x brushing for now.\n};\n/**\n * Get Transformed Date Range\n * Apply a given transformation to the given date range\n *\n * NOTE: The reason to pass in an `xScale` as opposed to the start and end date directly\n * is that a transform is in terms of the pixel space,\n * rather than the input space (the domain in which the data is in, which is time plus some number value).\n */\nconst getTransformedDateRange = ({ xScale, transform, }) => {\n    // Convert our date range to a domain since transformations have a built in function to transform scales.\n    const transformedScale = transform.rescaleX(xScale);\n    const [startTime, endTime] = transformedScale.domain();\n    return {\n        startDate: new Date(startTime),\n        endDate: new Date(endTime),\n    };\n};\n\n/**\n * Filter which gestures fire which events which will get\n * interpreted as zoom/panning events within the chart.\n */\nconst filterGestures = () => {\n    // Disables multi touch drag & mouse wheel sense these interfere with scrolling gestures,\n    // Since the charts are used in a context where horizontal and vertical scroll are used.\n    if (event.type === 'wheel') {\n        return false;\n    }\n    if (event.type === 'mousedown') {\n        // don't allow panning without pressing [shift] key\n        return event.shiftKey;\n    }\n    // Default filter applied to `d3-zoom`\n    return !event.ctrlKey && !event.button;\n};\n\n/**\n * Zoom\n *\n * A facade over `d3-zoom` which allows us to utilize the gesture support and concept of transforms, but\n * translated into terms of date range which are more useful for our usecase within sc-webgl-base-chart since\n * we communicate with the dashboards in terms of start and end dates, rather than view port pixel specific transforms.\n */\nclass Zoom {\n    constructor({ xScale, yScale }, movement, getContainer) {\n        this.zoomBehavior = zoom()\n            .scaleExtent([movement.zoomMin, movement.zoomMax])\n            .filter(filterGestures);\n        this.xScale = xScale.copy();\n        this.yScale = yScale.copy();\n        this.movement = movement;\n        this.getContainer = getContainer;\n    }\n    /**\n     * Initializes the zoom behavior to a DOM element.\n     * This must be called after the DOM is already instantiated.\n     *\n     * This is separated from the constructor since it's possible to have a scenario where\n     * the component which the zoom behavior is bound to also is passed down the `Zoom` object,\n     * resulting in a scenario where you can't create the `Zoom` class until the component is mounted but\n     * you must pass in the `Zoom` object to properly mount the component.\n     */\n    init() {\n        const container = this.getContainer();\n        if (container == null) {\n            throw new Error('Must not init Zoom before the container is available!');\n        }\n        select(container).call(this.zoomBehavior);\n    }\n    transform(transitionContainer, transform) {\n        this.zoomBehavior.transform(transitionContainer, transform);\n    }\n    /**\n     * On Zoom Event\n     *\n     * Calls the specified listener passing in the date range which is being requested via some gesture (scroll, pan, etc)\n     */\n    on(type, listener) {\n        this.zoomBehavior.on(type, () => {\n            const { startDate, endDate } = getTransformedDateRange({\n                xScale: this.xScale,\n                transform: event.transform,\n            });\n            listener(startDate, endDate);\n        });\n    }\n    /**\n     * Update View Port\n     *\n     * Returns the x and y scale with the date range transformed to the specified view port\n     * Maintains the internal state of the zoom behavior.\n     * TODO: Support gestures on the y axis\n     */\n    updateViewPort({ start, end, yMin, yMax }) {\n        const [prevStart, prevEnd] = this.xScale.domain();\n        const transform = getTransformFromDates({\n            prevXScale: this.xScale,\n            prevDates: { start: prevStart, end: prevEnd },\n            currDates: { start, end },\n        });\n        this.setTransform(transform);\n        return transformScales(transform, this.movement, {\n            xScale: this.xScale,\n            yScale: this.yScale.domain([yMin, yMax]),\n        });\n    }\n    /**\n     * Update View Port\n     *\n     * Updates the view port of the scales used as the frame of reference.\n     * Also transforms the internal transform state of zoom to map it into the new view port.\n     */\n    updateSize({ xMin, xMax, yMin, yMax, }) {\n        // Apply the new view port to the transform (transform the transform!)\n        const { x, y, k } = this.getTransform();\n        const [prevXMin, prevXMax] = this.xScale.range();\n        const xRatio = (xMax - xMin) / (prevXMax - prevXMin);\n        // Update Viewports\n        this.xScale.range([xMin, xMax]);\n        this.yScale.range([yMin, yMax]);\n        this.setTransform(identity$2.translate(x * xRatio, y).scale(k));\n        return transformScales(this.getTransform(), this.movement, {\n            xScale: this.xScale,\n            yScale: this.yScale,\n        });\n    }\n    /**\n     * Get Transform\n     *\n     * Returns the transform which is currently applied to our container.\n     */\n    getTransform() {\n        const container = this.getContainer();\n        if (container == null) {\n            throw new Error('Container must not be null to set a internal zoom transform');\n        }\n        /* eslint-disable-next-line no-underscore-dangle */\n        return container.__zoom;\n    }\n    /**\n     * Set Internal Zoom Transform\n     *\n     * Updates the zoom containers state. This is necessary because we wish to apply\n     * transforms which did not stem from the zoom behavior itself.\n     *\n     * IMPORTANT: Whenever a transformation is applied to the DOM from a transform\n     * emitted by something other than the associated zoom container, one must\n     * set the internal zoom transform manually.\n     *\n     * You can see from the source code, https://github.com/d3/d3-zoom/blob/master/src/transform.js\n     * that `__zoom` is the property which stores the internal state of which transform is currently applied.\n     *\n     * NOTE: This does not apply the transform. It simply tells d3-zoom what transform was last set.\n     */\n    setTransform(transform) {\n        const container = this.getContainer();\n        if (container == null) {\n            throw new Error('Container must not be null to set a internal zoom transform');\n        }\n        /* eslint-disable-next-line no-underscore-dangle */\n        container.__zoom = transform;\n    }\n}\n\n// DERIVATION NOTES:\n// transformations are defined as following:\n// t(x) := x * k + t\n// let `xMin` be defined as the pixel position of `xSelectedPixelMin` in the frame of reference of\n// `xScaleOriginal`.\n// Then by definition we want to find `k` and `t` such that\n// t(xMin) = 0\n// thus,\n// xMin * k + t = 0\n// therefore\n// t = -1 * k * xMin\n//\n// Additionally, our scaling factor should map our original range to the new range,\n// thus `k` is simply the ratio of the width of the ranges.\nconst createBrushTransform = ({ xScale, xSelectedPixelMax, xSelectedPixelMin, xScaleOriginal, movement, }) => {\n    // Determine k, our scaling factor\n    const timeSpan = xScale.invert(xSelectedPixelMax).getTime() - xScale.invert(xSelectedPixelMin).getTime();\n    const prevTimeSpan = xScaleOriginal.domain()[1].getTime() - xScaleOriginal.domain()[0].getTime();\n    const k = Math.max(Math.min(prevTimeSpan / timeSpan, movement.zoomMax), movement.zoomMin);\n    // Determine t, our translation x-offset\n    // NOTE: converting to an absolute date and then map that date to the frame of reference of the original scale.\n    // See derivation notes above for more detail.\n    const xMin = xScaleOriginal(xScale.invert(xSelectedPixelMin));\n    const t = -1 * k * xMin;\n    return identity$2.translate(t, 0).scale(k); // NOTE: Only supporting x brushing for now.\n};\n\nconst scGestureHandlerCss = \"sc-gesture-handler svg{position:absolute;width:100%;height:100%}sc-gesture-handler line{stroke:var(--selection-color);opacity:0.3;stroke-width:1.5px}sc-gesture-handler .overlay{fill:none;pointer-events:all;cursor:crosshair}sc-gesture-handler .brush-box{fill:var(--selection-color);opacity:0.2}\";\n\nconst TRANSITION_DURATION = 600;\n// Want to prevent double clicking accident firing a teeny tiny brush gesture\nconst MIN_BRUSH_WIDTH = 6;\nconst MOVEMENT_CONFIG = {\n  enableXScroll: true,\n  enableYScroll: false,\n  zoomMax: Infinity,\n  zoomMin: 0.00001,\n};\nconst ScGestureHandler = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.zoomContainer = undefined;\n    /**\n     * Initiate the start of a brush gesture by clicking\n     */\n    this.beginBrush = ({ offsetX, shiftKey }) => {\n      if (!shiftKey) {\n        this.start = offsetX;\n        this.end = offsetX;\n      }\n    };\n    /**\n     * Continue a brushing gesture by holding the mouse button and dragging\n     */\n    this.moveBrush = ({ offsetX, buttons, shiftKey }) => {\n      const isButtonPressed = buttons > 0;\n      if (isButtonPressed && this.start != null && !shiftKey) {\n        this.end = offsetX;\n      }\n      else {\n        this.start = undefined;\n        this.end = undefined;\n      }\n    };\n    /**\n     * Conclude a brushing gesture by letting the mouse button go.\n     */\n    this.finishBrush = ({ shiftKey }) => {\n      // check if were actually finishing a brush motion.\n      // this event will also be fired when someone clicks and drags\n      // into the brush container\n      if (this.start != null && this.end != null && !shiftKey) {\n        const startPx = Math.min(this.start, this.end);\n        const endPx = Math.max(this.start, this.end);\n        if (endPx - startPx > MIN_BRUSH_WIDTH) {\n          this.initiateTransform(startPx, endPx);\n        }\n      }\n      this.start = undefined;\n      this.end = undefined;\n    };\n    this.cancelBrush = () => {\n      this.start = undefined;\n      this.end = undefined;\n    };\n    this.initiateTransform = (startPx, endPx) => {\n      const xScale = time()\n        .domain([this.viewport.start.getTime(), this.viewport.end.getTime()])\n        .range([0, this.size.width]);\n      const xScaleOriginal = time()\n        .domain([this.initialViewPort.start.getTime(), this.initialViewPort.end.getTime()])\n        .range([0, this.size.width]);\n      const brushTransform = createBrushTransform({\n        xSelectedPixelMin: startPx,\n        xSelectedPixelMax: endPx,\n        xScaleOriginal,\n        xScale,\n        movement: MOVEMENT_CONFIG,\n      });\n      const transitionContainer = select(this.getZoomContainer())\n        .transition()\n        .duration(TRANSITION_DURATION);\n      this.zoom.transform(transitionContainer, brushTransform);\n    };\n    this.getZoomContainer = () => {\n      if (!this.zoomContainer) {\n        // Prevent the continual dom querying.\n        this.zoomContainer = this.el.querySelector('.zoom-container');\n      }\n      return this.zoomContainer;\n    };\n  }\n  componentDidLoad() {\n    this.initialViewPort = this.viewport;\n    this.setupZoom();\n    this.el.addEventListener('mousedown', this.beginBrush, { capture: true });\n    this.el.addEventListener('mousemove', this.moveBrush);\n    this.el.addEventListener('mouseup', this.finishBrush);\n    this.el.addEventListener('mouseleave', this.cancelBrush);\n  }\n  disconnectedCallback() {\n    this.el.removeEventListener('mousedown', this.beginBrush);\n    this.el.removeEventListener('mousemove', this.moveBrush);\n    this.el.removeEventListener('mouseup', this.finishBrush);\n    this.el.removeEventListener('mouseleave', this.cancelBrush);\n  }\n  onViewPortChange(newViewPort) {\n    this.zoom.updateViewPort(newViewPort);\n  }\n  onSizeChange() {\n    const { width: chartWidth, height: chartHeight } = this.size;\n    this.zoom.updateSize({\n      xMin: 0,\n      xMax: chartWidth,\n      yMax: 0,\n      yMin: chartHeight,\n    });\n  }\n  scales() {\n    const { yMin, yMax, start, end } = this.viewport;\n    const { width, height } = this.size;\n    const xScale = time()\n      .domain([start.getTime(), end.getTime()])\n      .range([0, width]);\n    const yScale = linear()\n      .domain([yMin, yMax])\n      .range([height, 0]);\n    return {\n      xScale,\n      yScale,\n    };\n  }\n  /**\n   * Setup Zoom\n   * Establishes how the chart pans and scales due to gestures and outside date range changes.\n   */\n  setupZoom() {\n    const { xScale, yScale } = this.scales();\n    this.zoom = new Zoom({ xScale, yScale }, MOVEMENT_CONFIG, this.getZoomContainer);\n    this.zoom.on('zoom.base-chart', (start, end) => {\n      this.onDateRangeChange({ start, end });\n    });\n    this.zoom.init();\n  }\n  render() {\n    const { width, height } = this.size;\n    return (h(\"svg\", null, this.start != null && this.end != null && h(\"line\", { x1: this.start, y1: 0, x2: this.start, y2: height }), this.start != null && this.end != null && (h(\"rect\", { class: \"brush-box\", x: Math.min(this.start, this.end), height: height, width: Math.abs(this.end - this.start), y: 0 })), this.start != null && this.end != null && h(\"line\", { x1: this.end, y1: 0, x2: this.end, y2: height }), h(\"rect\", { class: \"overlay zoom-container\", width: width, height: height })));\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"viewport\": [\"onViewPortChange\"],\n    \"size\": [\"onSizeChange\"]\n  }; }\n};\nScGestureHandler.style = scGestureHandlerCss;\n\n/**\n * Determines the ideal least-squares line of best fit over a given data set.\n * @param data The data stream over which to compute the linear regression.\n */\nconst linearRegression = (data) => {\n    const dataPoints = data.data;\n    const len = dataPoints.length;\n    if (len === 0) {\n        return null;\n    }\n    const startDate = dataPoints[0].x;\n    let sumX = 0;\n    let sumY = 0;\n    let sumXX = 0;\n    let sumXY = 0;\n    for (let i = 0; i < len; i += 1) {\n        const { x, y } = dataPoints[i];\n        const time = x - startDate;\n        sumX += time;\n        sumY += y;\n        sumXX += time * time;\n        sumXY += time * y;\n    }\n    const run = len * sumXX - sumX * sumX;\n    const rise = len * sumXY - sumX * sumY;\n    const gradient = run === 0 ? 0 : rise / run;\n    const intercept = sumY / len - (gradient * sumX) / len;\n    return {\n        type: TREND_TYPE.LINEAR,\n        dataStreamId: data.id,\n        equation: { gradient, intercept },\n        startDate: new Date(startDate),\n    };\n};\n/**\n * Reads in a data stream and a trend type, then computes the trend result.\n * @param data The data stream over which to compute the trend.\n * @param trendType The type of trend to compute.\n */\nconst computeTrendResult = (dataStream, trendType) => {\n    switch (trendType) {\n        case TREND_TYPE.LINEAR:\n            return linearRegression(dataStream);\n        default:\n            /* eslint-disable-next-line no-console */\n            console.error(`Unable to compute trend result for trend type '${trendType}'.`);\n            return null;\n    }\n};\n/**\n * Computes trend results for all requested trends using the data in the provided viewport (including boundary points).\n */\nconst getAllTrendResults = (viewport, dataStreams, trends) => {\n    const trendResults = [];\n    dataStreams.forEach(stream => {\n        const { id } = stream;\n        const dataPoints = getDataPoints(stream, stream.resolution);\n        // only compute a trend line if there are at least two visible and/or boundary data points, the reason being that\n        // a trend line based on a single point of data has no informational value and may actually be misleading\n        const dataInViewport = getVisibleData(dataPoints, viewport);\n        if (dataInViewport.length >= 2) {\n            trends\n                .filter(({ dataStreamId }) => id === dataStreamId)\n                .forEach(({ type, color }) => {\n                const trendResult = computeTrendResult(Object.assign(Object.assign({}, stream), { data: dataInViewport }), type);\n                if (trendResult) {\n                    trendResults.push(Object.assign(Object.assign({}, trendResult), { color }));\n                }\n            });\n        }\n    });\n    return trendResults;\n};\n/**\n * Calculates the value of the given trend result at the requested date.\n */\nconst getTrendValue = (trendResult, timestamp) => {\n    switch (trendResult.type) {\n        case TREND_TYPE.LINEAR:\n            return ((timestamp - trendResult.startDate.getTime()) * trendResult.equation.gradient + trendResult.equation.intercept);\n        default:\n            throw new Error(`Cannot compute trend value for trend of type '${trendResult.type}' on data stream ${trendResult.dataStreamId}.`);\n    }\n};\n\nconst TREND_LINE_STROKE_WIDTH = 2;\nconst TREND_LINE_DASH_ARRAY = '4, 7';\nconst getTrendLabel = (dataStreamName, trendType) => {\n    let trendTypeLabel;\n    switch (trendType) {\n        case TREND_TYPE.LINEAR:\n            trendTypeLabel = 'linear';\n            break;\n        default:\n            /* eslint-disable-next-line no-console */\n            console.warn(`No label associated with trend type ${trendType}.`);\n            trendTypeLabel = 'trend';\n    }\n    return `${dataStreamName} (${trendTypeLabel})`;\n};\n\nconst scLegendCss = \"sc-legend .legend-container{display:flex;flex-wrap:wrap;font-size:var(--font-size-1);overflow-y:scroll;overflow-x:hidden;-ms-overflow-style:none;scrollbar-width:none}sc-legend .legend-container::-webkit-scrollbar{display:none}\";\n\nconst noop$1 = () => { };\nconst ScLegend = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.isEditing = false;\n    this.trendResults = [];\n    this.visualizedDataStreams = () => {\n      const streams = this.dataStreams.filter(isSupportedDataType(this.supportString));\n      if (this.visualizesAlarms) {\n        // Visualize all data streams with a valid data type\n        return streams;\n      }\n      // Visualize only property-streams (non-alarms) with a valid data type\n      return streams.filter(({ streamType }) => streamType !== StreamType.ALARM);\n    };\n    /**\n     * Returns the given color of a breached threshold, if there is one.\n     */\n    this.breachedThresholdColor = (point, dataStream) => {\n      const threshold = breachedThreshold({\n        value: point && point.y,\n        date: this.viewport.end,\n        dataStreams: this.dataStreams,\n        dataStream,\n        thresholds: this.thresholds,\n      });\n      return threshold ? { color: threshold.color, icon: threshold.icon } : undefined;\n    };\n  }\n  render() {\n    const points = activePoints({\n      viewport: this.viewport,\n      dataStreams: this.dataStreams,\n      selectedDate: this.viewport.end,\n      allowMultipleDates: true,\n      dataAlignment: DATA_ALIGNMENT.EITHER,\n    });\n    const lastDate = points.length === 0 || points[0].point == null ? this.viewport.end.getTime() : points[0].point.x;\n    return (h(\"div\", { class: \"legend-container\", style: { flexDirection: this.config.position === LEGEND_POSITION.RIGHT ? 'column' : 'unset' } }, this.visualizedDataStreams().map(dataStream => {\n      const dataPoint = points.find(p => p.streamId === dataStream.id);\n      const point = dataPoint ? dataPoint.point : undefined;\n      const { color: valueColor = undefined, icon = undefined } = this.breachedThresholdColor(point, dataStream) || {};\n      return [\n        h(\"sc-legend-row\", { streamId: dataStream.id, label: dataStream.name, detailedLabel: dataStream.detailedName, color: dataStream.color || 'black', valueColor: valueColor, point: point, pointType: dataPoint && \"data\" /* DATA */, unit: dataStream.unit, updateDataStreamName: this.updateDataStreamName, isEditing: this.isEditing, isLoading: this.isLoading, showDataStreamColor: this.showDataStreamColor, icon: icon }),\n        ...this.trendResults.reduce((rows, trendResult) => {\n          if (trendResult.dataStreamId === dataStream.id) {\n            rows.push(h(\"sc-legend-row\", { streamId: dataStream.id, label: getTrendLabel(dataStream.name, trendResult.type), detailedLabel: dataStream.detailedName && getTrendLabel(dataStream.detailedName, trendResult.type), color: trendResult.color || dataStream.color || 'black', valueColor: valueColor, point: {\n                x: lastDate,\n                y: getTrendValue(trendResult, lastDate),\n              }, pointType: \"trend\" /* TREND */, unit: dataStream.unit, updateDataStreamName: noop$1, isEditing: false, isLoading: this.isLoading, showDataStreamColor: this.showDataStreamColor }));\n          }\n          return rows;\n        }, []),\n      ];\n    })));\n  }\n};\nScLegend.style = scLegendCss;\n\nconst DEFAULT_LEGEND_TEXT_COLOR = '#000';\n\nconst scLegendRowCss = \"sc-legend-row{--color-container-width:18px;overflow:hidden;display:inline-block;margin-right:var(--margin-small);color:var(--secondary-font-color);padding-right:var(--margin-small)}sc-legend-row .legend-row-container{display:flex;margin-left:8px}sc-legend-row .legend-value{position:relative;display:flex;align-items:center}sc-legend-row .color-container{display:flex;flex-direction:column-reverse;width:var(--color-container-width);height:20px;padding-top:11px}sc-data-stream-info .spinner-container{position:relative;top:5px}sc-legend-row .bar{width:var(--color-container-width)}sc-legend-row .info{padding-left:var(--margin-small);display:flex;flex-direction:column}sc-legend-row .info h4{line-height:0.2em;font-size:14px}sc-legend-row .sc-expandable-input{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}\";\n\n// Styling to control the height of the gap between the stream-name and the unit\nconst EDIT_MODE_STYLE = {\n  top: '-2px',\n};\nconst VIEW_MODE_STYLE = {\n  top: '-11px',\n};\nconst ScLegendRow = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.valueColor = DEFAULT_LEGEND_TEXT_COLOR;\n    this.updateName = (name) => {\n      this.updateDataStreamName({\n        streamId: this.streamId,\n        name,\n      });\n    };\n  }\n  render() {\n    const isTrendPoint = this.pointType && this.pointType === \"trend\" /* TREND */;\n    return (h(Host, null, h(\"div\", { class: \"legend-row-container awsui\" }, this.showDataStreamColor && (h(\"div\", { class: \"color-container\" }, this.isLoading ? (h(\"div\", { class: \"spinner-container\" }, h(\"sc-loading-spinner\", { dark: true, size: 12 }))) : (h(\"svg\", { class: \"bar\", \"data-testid\": `legend-icon-${this.pointType}` }, h(\"path\", { stroke: this.color, \"stroke-dasharray\": isTrendPoint ? TREND_ICON_DASH_ARRAY : '', \"stroke-linecap\": STREAM_ICON_STROKE_LINECAP, \"stroke-width\": STREAM_ICON_STROKE_WIDTH, d: STREAM_ICON_PATH_COMMAND }))))), h(\"div\", { class: \"info\" }, h(\"sc-data-stream-name\", { onNameChange: this.updateName, isEditing: this.isEditing, label: this.label, detailedLabel: this.detailedLabel, pointType: this.pointType, date: this.point && new Date(this.point.x) }), h(\"div\", { class: \"legend-value\", style: this.isEditing ? EDIT_MODE_STYLE : VIEW_MODE_STYLE }, this.icon && h(\"sc-chart-icon\", { name: this.icon }), h(\"h4\", { class: \"awsui-util-d-i\", \"data-testid\": \"current-value\", style: { color: this.valueColor } }, h(Value, { value: this.point ? this.point.y : undefined })), this.unit && h(\"small\", null, \"\\u00A0\", this.unit))))));\n  }\n};\nScLegendRow.style = scLegendRowCss;\n\nconst scLoadingSpinnerCss = \"@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}svg{animation:spin 900ms linear infinite, fadeIn 1s linear}path#c{fill:var(--loading-spinner-color)}.dark path#c{fill:var(--loading-spinner-color-dark)}\";\n\nconst ScLoadingSpinner = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  render() {\n    const { size, dark = false } = this;\n    return (h(\"svg\", { class: { dark }, style: size != null ? { width: `${size}px`, height: `${size}px` } : {}, \"data-testid\": \"loading\", viewBox: \"0 0 200 200\" }, h(\"defs\", null, h(\"clipPath\", { id: \"a\" }, h(\"path\", { d: \"M200 100a100 100 0 11-2.19-20.79l-9.78 2.08A90 90 0 10190 100z\" })), h(\"filter\", { id: \"b\", x: \"0\", y: \"0\" }, h(\"feGaussianBlur\", { in: \"SourceGraphic\", stdDeviation: \"3\" })), h(\"path\", { id: \"c\", d: \"M250 100a150 150 0 01-3.28 31.19L100 100z\" })), h(\"g\", { \"clip-path\": \"url(#a)\" }, h(\"g\", { filter: \"url(#b)\", transform: \"rotate(-6 100 100)\" }, h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \"0\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".03\", transform: \"rotate(12 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".07\", transform: \"rotate(24 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".1\", transform: \"rotate(36 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".14\", transform: \"rotate(48 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".17\", transform: \"rotate(60 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".2\", transform: \"rotate(72 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".24\", transform: \"rotate(84 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".28\", transform: \"rotate(96 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".31\", transform: \"rotate(108 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".34\", transform: \"rotate(120 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".38\", transform: \"rotate(132 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".41\", transform: \"rotate(144 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".45\", transform: \"rotate(156 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".48\", transform: \"rotate(168 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".52\", transform: \"rotate(180 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".55\", transform: \"rotate(192 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".59\", transform: \"rotate(204 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".62\", transform: \"rotate(216 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".66\", transform: \"rotate(228 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".69\", transform: \"rotate(240 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".7\", transform: \"rotate(252 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".72\", transform: \"rotate(264 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".76\", transform: \"rotate(276 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".79\", transform: \"rotate(288 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".83\", transform: \"rotate(300 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".86\", transform: \"rotate(312 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".93\", transform: \"rotate(324 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", \"fill-opacity\": \".97\", transform: \"rotate(336 100 100)\" }), h(\"use\", { xlinkHref: \"#c\", transform: \"rotate(348 100 100)\" })))));\n  }\n};\nScLoadingSpinner.style = scLoadingSpinnerCss;\n\nconst renderChild = (renderFunction, data) => data && renderFunction(data);\n\nconst scSizeProviderCss = \"sc-size-provider .sc-size-provider-container{width:100%;height:100%}\";\n\n/**\n * The rate at which the layout will update for graphics projected onto some element.\n *\n * A smaller duration will make performance suffer but prevent ghosting.\n */\nconst MS_PER_RECT_POLL = 650;\nconst ScSizeProvider = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    /** The DOM Elements size as computed by the observer. corrected on resolution changes. */\n    this.computedSize = null;\n    this.rect = null;\n    this.rectPollingHandler = null;\n    this.setRect = () => {\n      if (this.el && this.el.isConnected) {\n        const newRect = rectScrollFixed(this.el);\n        const rectHasUpdated = !lodash_isequal(newRect, this.rect);\n        if (rectHasUpdated) {\n          if (this.rect && this.rect.density !== newRect.density) {\n            // When the density has changed, we need to trigger a resolution change. This will occur in scenarios\n            // such as attaching or detaching a monitor.\n            webGLRenderer.onResolutionChange();\n          }\n          // Note: It's important to only set this value if the contents actually change,\n          //       since it triggers a cascading re-render.\n          this.rect = newRect;\n        }\n      }\n    };\n  }\n  componentWillLoad() {\n    /**\n     * Creates a listener for elements dimensions changing.\n     * This allows us to dynamically set the widget dimensions.\n     */\n    this.resizer = new index(entries => {\n      entries.forEach(entry => {\n        /** Update Size */\n        const { width, height } = entry.contentRect;\n        this.computedSize = { width, height };\n      });\n    });\n  }\n  componentDidLoad() {\n    this.setRect();\n    this.rectPollingHandler = window.setInterval(this.setRect, MS_PER_RECT_POLL);\n    this.resizer.observe(this.el.firstElementChild);\n  }\n  disconnectedCallback() {\n    this.resizer.disconnect();\n    if (this.rectPollingHandler) {\n      window.clearInterval(this.rectPollingHandler);\n    }\n  }\n  render() {\n    const rect = (this.size || this.computedSize) && this.rect\n      ? Object.assign(Object.assign(Object.assign({}, this.rect), this.computedSize), this.size) : undefined;\n    return h(\"div\", { class: \"sc-size-provider-container\" }, renderChild(this.renderFunc, rect));\n  }\n  get el() { return getElement(this); }\n};\nScSizeProvider.style = scSizeProviderCss;\n\nconst scTooltipCss = \"sc-tooltip{--tooltip-size:8px;--tooltip-line-width:2px;pointer-events:none;position:absolute}sc-tooltip small{white-space:nowrap}sc-tooltip .awsui{position:absolute;z-index:20;min-width:90px}sc-tooltip .tooltip-container{background:var(--awsui-color-white);position:relative;display:inline-block;min-width:90px;width:max-content;transition-property:left, top;transition-duration:120ms}sc-tooltip .tooltip-line{position:relative;margin-left:calc(-1 * calc(var(--tooltip-line-width) / 2));width:var(--selection-width);background-color:var(--selection-color);opacity:var(--selection-opacity)}\";\n\nconst ScTooltip = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.trendResults = [];\n    this.showDataStreamColor = true;\n    // If false, do not display a tooltip row if there is no associated point.\n    this.showBlankTooltipRows = false;\n    this.sortPoints = true;\n    this.setSelectedDate = ({ offsetX, buttons }) => {\n      const isMouseBeingPressed = buttons > 0;\n      if (!isMouseBeingPressed && offsetX != null) {\n        // Determine the date which corresponds with the mouses position.\n        const { start, end } = this.viewport;\n        const { width } = this.size;\n        const ratio = offsetX / width;\n        const viewportDuration = end.getTime() - start.getTime();\n        const selectedDateMS = start.getTime() + viewportDuration * ratio;\n        this.selectedDate = new Date(selectedDateMS);\n      }\n      else {\n        this.selectedDate = undefined;\n      }\n    };\n    this.hideTooltip = () => {\n      this.selectedDate = undefined;\n    };\n  }\n  componentDidLoad() {\n    this.dataContainer.addEventListener('mousemove', this.setSelectedDate);\n    this.dataContainer.addEventListener('mouseleave', this.hideTooltip);\n    this.dataContainer.addEventListener('mousedown', this.hideTooltip, { capture: true });\n  }\n  disconnectedCallback() {\n    this.dataContainer.removeEventListener('mousemove', this.setSelectedDate);\n    this.dataContainer.removeEventListener('mouseleave', this.hideTooltip);\n    this.dataContainer.removeEventListener('mousedown', this.hideTooltip);\n  }\n  render() {\n    const resolution = this.dataStreams.length > 0 ? this.dataStreams[0].resolution : undefined;\n    if (resolution == null || this.selectedDate == null) {\n      return null;\n    }\n    return (h(\"sc-tooltip-rows\", { trendResults: this.trendResults, size: this.size, dataStreams: this.dataStreams, viewport: this.viewport, selectedDate: this.selectedDate, thresholds: this.thresholds, maxDurationFromDate: this.maxDurationFromDate, showDataStreamColor: this.showDataStreamColor, dataAlignment: this.dataAlignment, supportString: this.supportString, visualizesAlarms: this.visualizesAlarms, showBlankTooltipRows: this.showBlankTooltipRows, sortPoints: this.sortPoints, top: this.top }));\n  }\n};\nScTooltip.style = scTooltipCss;\n\nconst scTooltipRowCss = \"sc-tooltip-row{font-size:var(--font-size-1);--bar-size:18px}sc-tooltip-rows .left-offset{padding-left:4px}sc-tooltip-row .clearfix::after{content:'';clear:both;display:table}sc-tooltip-row .bar{display:inline-block;float:left;width:var(--bar-size);height:20px;padding-top:8px}sc-tooltip-row .label{padding-left:var(--margin-small);color:var(--light-text);float:left}sc-tooltip-row .value{font-weight:bold;float:right;margin-left:15px}\";\n\nconst baseColor = '#000';\nconst AGGREGATED_LEVEL$1 = 'average';\nconst ScTooltipRow = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.valueColor = baseColor;\n  }\n  render() {\n    const isTrendPoint = this.pointType === \"trend\" /* TREND */;\n    return (h(\"div\", { class: \"clearfix\" }, this.showDataStreamColor && (h(\"span\", { class: \"awsui-util-mr-xs\" }, h(\"svg\", { class: \"bar\", \"data-testid\": `tooltip-icon-${this.pointType}` }, h(\"path\", { stroke: this.color, \"stroke-dasharray\": isTrendPoint ? TREND_ICON_DASH_ARRAY : undefined, \"stroke-linecap\": STREAM_ICON_STROKE_LINECAP, \"stroke-width\": STREAM_ICON_STROKE_WIDTH, d: STREAM_ICON_PATH_COMMAND })))), h(\"span\", { class: \"label awsui-util-d-i\", \"data-testid\": \"tooltip-row-label\" }, this.label), h(\"span\", { class: \"value awsui-util-d-i\", \"data-testid\": \"current-value\", style: { color: this.valueColor } }, this.icon && h(\"sc-chart-icon\", { name: this.icon }), h(Value, { value: this.point && this.point.y })), this.resolution != null && (h(\"div\", { class: \"awsui-util-pb-s\" }, h(\"small\", null, getAggregationFrequency(this.resolution, AGGREGATED_LEVEL$1))))));\n  }\n};\nScTooltipRow.style = scTooltipRowCss;\n\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array ? array.length : 0;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\n/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\n/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  if (value !== value) {\n    return baseFindIndex(array, baseIsNaN, fromIndex);\n  }\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\n/**\n * Checks if a cache value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    Set = getNative(root, 'Set'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values ? values.length : 0;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\n/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a duplicate-free version of an array, using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons, in which only the first occurrence of each\n * element is kept.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @returns {Array} Returns the new duplicate free array.\n * @example\n *\n * _.uniq([2, 1, 2]);\n * // => [2, 1]\n */\nfunction uniq(array) {\n  return (array && array.length)\n    ? baseUniq(array)\n    : [];\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nvar lodash_uniq = uniq;\n\n/**\n * The date we want to utilize as the 'date at which to display the tooltip cursor at'\n */\nconst utilizedTimestamp = ({ isRaw, points, selectedTimestamp, viewport, }) => {\n    if (isRaw) {\n        // always use the selected date when raw. this has the impact of having the tooltip cursor always at where the cursor is\n        return selectedTimestamp;\n    }\n    const pointDate = points[0].point && points[0].point.x;\n    if (pointDate == null) {\n        return selectedTimestamp;\n    }\n    if (pointDate < viewport.start.getTime()) {\n        // If the date is before the viewport, just use the start of the viewport. This has the effect of making a tooltip\n        // appear flush at the left of the viewport when focusing on before-end-of-viewport positioned data.\n        return viewport.start.getTime();\n    }\n    return pointDate;\n};\nconst tooltipPosition = ({ viewport, size: { width, height }, points, resolution, selectedTimestamp, }) => {\n    if (points.length === 0) {\n        return undefined;\n    }\n    const isRaw = resolution === 0;\n    // represents the date which corresponds with the position to render the cursor at\n    const timestamp = utilizedTimestamp({ isRaw, points, selectedTimestamp, viewport });\n    const viewportDuration = viewport.end.getTime() - viewport.start.getTime();\n    const datePositionRatio = (timestamp - viewport.start.getTime()) / viewportDuration;\n    const pixelX = width * datePositionRatio;\n    const modelY = Math.max(...points.map(({ point }) => (point ? point.y : undefined)).filter(isNumber));\n    const pixelY = Math.max(0, height * (1 - (modelY - viewport.yMin) / (viewport.yMax - viewport.yMin)));\n    return { x: pixelX, y: pixelY };\n};\n\nconst trendLinePoints = ({ trendResults, dataStreams, displayedDate, }) => {\n    const timestamp = displayedDate.getTime();\n    return trendResults\n        .filter(({ dataStreamId }) => dataStreams.some(({ id }) => id === dataStreamId))\n        .map(trendResult => {\n        const dataStream = dataStreams.find(({ id }) => id === trendResult.dataStreamId);\n        return dataStream == null\n            ? null\n            : {\n                streamId: dataStream.id,\n                label: getTrendLabel(dataStream.name, trendResult.type),\n                point: {\n                    x: timestamp,\n                    y: getTrendValue(trendResult, timestamp),\n                },\n                type: \"trend\" /* TREND */,\n                color: trendResult.color,\n            };\n    })\n        .filter(isDefined);\n};\n\nconst AGGREGATED_LEVEL = 'average';\nconst TOOLTIP_ROW_HEIGHT = 21;\nconst TOOLTIP_EMPTY_HEIGHT = 71;\nconst X_OFFSET = 8;\nconst ScTooltipRows = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.trendResults = [];\n    this.showDataStreamColor = true;\n    this.sortPoints = true;\n    /** Total height of the tool tip display */\n    this.tooltipHeight = (numRows) => numRows * TOOLTIP_ROW_HEIGHT + TOOLTIP_EMPTY_HEIGHT;\n    /**\n     * Returns the color to display the value within a legend row.\n     *\n     * Takes into account whether the data stream is breached.\n     * Does not take into account associated alarms\n     */\n    this.rowsValueColorAndIcon = (id, { y }, date) => {\n      const dataStream = this.dataStreams.find(info => info.id === id);\n      if (dataStream == null) {\n        return undefined;\n      }\n      const threshold = breachedThreshold({\n        date,\n        value: y,\n        thresholds: this.thresholds,\n        dataStreams: [],\n        dataStream,\n      });\n      return threshold != null ? { color: threshold.color, icon: threshold.icon } : undefined;\n    };\n    /**\n     * The point in time which is 'actively' being viewed within the tooltip.\n     */\n    this.getDisplayedDate = (points) => {\n      const resolutions = this.dataStreams.map(({ resolution }) => resolution);\n      const minResolution = resolutions.length > 0 ? Math.min(...resolutions) : 0;\n      if (minResolution === 0) {\n        return this.selectedDate;\n      }\n      const firstPoint = points[0] && points[0].point ? new Date(points[0].point.x) : undefined;\n      const firstPointTrend = this.trendResults[0] ? this.trendResults[0].startDate : undefined;\n      return firstPoint || firstPointTrend || this.selectedDate;\n    };\n    /**\n     * Returns the data which is supported\n     *\n     * i.e. if `supportsString` is false, do not return any data streams of string type\n     */\n    this.visualizedDataStreams = () => {\n      const streams = this.dataStreams.filter(isSupportedDataType(this.supportString));\n      if (this.visualizesAlarms) {\n        // Visualize all infos with a valid data type\n        return streams;\n      }\n      // Visualize only property-infos (non-alarms) with a valid data type\n      return streams.filter(({ streamType }) => streamType !== StreamType.ALARM);\n    };\n    /**\n     * Return each of the 'points' to be displayed\n     *\n     * each of these will correspond to one `tooltip-row`\n     */\n    this.getTooltipPoints = () => {\n      const resolutions = this.dataStreams.map(({ resolution }) => resolution);\n      const minResolution = resolutions.length > 0 ? Math.min(...resolutions) : 0;\n      const dataPoints = activePoints({\n        viewport: this.viewport,\n        dataStreams: this.visualizedDataStreams(),\n        dataAlignment: this.dataAlignment,\n        selectedDate: this.selectedDate,\n        allowMultipleDates: minResolution === 0,\n        maxDurationFromDate: this.maxDurationFromDate,\n      }).map(p => (Object.assign(Object.assign({}, p), { type: \"data\" /* DATA */ })));\n      const trendPoints = trendLinePoints({\n        dataStreams: this.dataStreams,\n        displayedDate: this.getDisplayedDate(dataPoints),\n        trendResults: this.trendResults,\n      });\n      const tooltipPoints = [...dataPoints, ...trendPoints];\n      // Either sort, or place them in the order the infos are presented\n      const points = this.sortPoints\n        ? tooltipPoints.sort(sortTooltipPoints(p => p.y))\n        : this.dataStreams.map(({ id }) => tooltipPoints.find(p => p.streamId === id)).filter(isDefined);\n      // Optionally filter out anything without a point\n      if (this.showBlankTooltipRows) {\n        return points;\n      }\n      return points.filter(p => p.point != null);\n    };\n  }\n  render() {\n    const resolutions = this.dataStreams.map(({ resolution }) => resolution);\n    const minResolution = resolutions.length > 0 ? Math.min(...resolutions) : 0;\n    const isCrossResolution = lodash_uniq(resolutions).length > 1;\n    const points = this.getTooltipPoints();\n    const displayedDate = this.getDisplayedDate(points);\n    const position = tooltipPosition({\n      points,\n      resolution: minResolution,\n      viewport: this.viewport,\n      size: this.size,\n      selectedTimestamp: this.selectedDate.getTime(),\n    });\n    if (points.length === 0) {\n      // If there are no tooltip points to display on the tool tip, don't display anything.\n      return null;\n    }\n    if (position == null) {\n      return null;\n    }\n    const tooltipContainerTop = this.top != null\n      ? `${this.top}px`\n      : `${position.y - (this.tooltipHeight(points.length) * 3) / 4 - this.size.height}px`;\n    const displayToolTipOnLeftSize = position.x >= this.size.width / 2;\n    const toolTipPositioning = displayToolTipOnLeftSize\n      ? {\n        right: `${-position.x + X_OFFSET}px`,\n        transform: 'translateX(-100%)',\n      }\n      : {\n        left: `${position.x + X_OFFSET}px`,\n      };\n    return (h(\"div\", { class: \"awsui\" }, h(\"div\", { class: \"tooltip-line\", style: {\n        left: `${position.x}px`,\n        height: `${this.size.height}px`,\n      } }), h(\"div\", { class: \"tooltip-container\", style: Object.assign({ top: tooltipContainerTop }, toolTipPositioning) }, h(\"div\", { class: \"awsui-util-shadow awsui-util-p-s\" }, h(\"small\", { class: { 'awsui-util-d-b': true, 'left-offset': !this.showDataStreamColor } }, displayDate(displayedDate, minResolution, this.viewport)), !isCrossResolution && (h(\"small\", { class: { 'awsui-util-d-b': true, 'awsui-util-mb-s': true, 'left-offset': !this.showDataStreamColor } }, getAggregationFrequency(minResolution, AGGREGATED_LEVEL))), points.map(tooltipPoint => {\n      const { streamId } = tooltipPoint;\n      /** Find the data stream info associated with the given data point */\n      const dataStream = this.dataStreams.find(({ id }) => id === streamId);\n      if (!dataStream) {\n        /* eslint-disable-next-line  no-console */\n        console.warn(`No data stream info associated with id ${streamId}`);\n        return null;\n      }\n      const { color: valueColor = undefined, icon = undefined } = (tooltipPoint.point && this.rowsValueColorAndIcon(streamId, tooltipPoint.point, displayedDate)) || {};\n      return (h(\"sc-tooltip-row\", { key: `${tooltipPoint.streamId}-${tooltipPoint.type}`, showDataStreamColor: this.showDataStreamColor, label: tooltipPoint.label || dataStream.name, resolution: isCrossResolution ? dataStream.resolution : undefined, color: tooltipPoint.color || dataStream.color || 'black', point: tooltipPoint.point, pointType: tooltipPoint.type, valueColor: valueColor, icon: icon }));\n    })))));\n  }\n};\n\nconst scWebglAxisCss = \"sc-webgl-axis{font-size:var(--font-size-0)}sc-webgl-axis .axis{font-family:var(--primary-font-family);shape-rendering:crispEdges;position:absolute;overflow:hidden;user-select:none;pointer-events:none}sc-webgl-axis .axis path{display:none}sc-webgl-axis .axis .tick{color:var(--polaris-light-gray)}sc-webgl-axis line.x-axis-separator{color:var(--primary-light);stroke:var(--primary-light);stroke-width:1px}sc-webgl-axis .axis .tick line{color:var(--primary-light)}sc-webgl-axis .axis .tick text{font-size:var(--font-size-0);user-select:none}sc-webgl-axis .x-axis .tick:last-child text{font-weight:var(--font-weight-bold)}\";\n\nconst ScWebglAxis = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  render() {\n    const { width, height, marginLeft, marginRight, marginTop, marginBottom } = this.size;\n    return (h(\"svg\", { class: \"axis\", style: {\n        width: `${width + marginLeft + marginRight}px`,\n        height: `${height + marginBottom + marginTop}px`,\n      } }));\n  }\n};\nScWebglAxis.style = scWebglAxisCss;\n\nvar lodash_clonedeep = createCommonjsModule(function (module, exports) {\n/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match `RegExp` flags from their coerced string values. */\nvar reFlags = /\\w*$/;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/** Used to identify `toStringTag` values supported by `_.clone`. */\nvar cloneableTags = {};\ncloneableTags[argsTag] = cloneableTags[arrayTag] =\ncloneableTags[arrayBufferTag] = cloneableTags[dataViewTag] =\ncloneableTags[boolTag] = cloneableTags[dateTag] =\ncloneableTags[float32Tag] = cloneableTags[float64Tag] =\ncloneableTags[int8Tag] = cloneableTags[int16Tag] =\ncloneableTags[int32Tag] = cloneableTags[mapTag] =\ncloneableTags[numberTag] = cloneableTags[objectTag] =\ncloneableTags[regexpTag] = cloneableTags[setTag] =\ncloneableTags[stringTag] = cloneableTags[symbolTag] =\ncloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\ncloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\ncloneableTags[errorTag] = cloneableTags[funcTag] =\ncloneableTags[weakMapTag] = false;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\n/** Detect free variable `exports`. */\nvar freeExports = exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && 'object' == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/**\n * Adds the key-value `pair` to `map`.\n *\n * @private\n * @param {Object} map The map to modify.\n * @param {Array} pair The key-value pair to add.\n * @returns {Object} Returns `map`.\n */\nfunction addMapEntry(map, pair) {\n  // Don't return `map.set` because it's not chainable in IE 11.\n  map.set(pair[0], pair[1]);\n  return map;\n}\n\n/**\n * Adds `value` to `set`.\n *\n * @private\n * @param {Object} set The set to modify.\n * @param {*} value The value to add.\n * @returns {Object} Returns `set`.\n */\nfunction addSetEntry(set, value) {\n  // Don't return `set.add` because it's not chainable in IE 11.\n  set.add(value);\n  return set;\n}\n\n/**\n * A specialized version of `_.forEach` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns `array`.\n */\nfunction arrayEach(array, iteratee) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  while (++index < length) {\n    if (iteratee(array[index], index, array) === false) {\n      break;\n    }\n  }\n  return array;\n}\n\n/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\n/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array ? array.length : 0;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\n/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\n/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\n/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\n/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    Symbol = root.Symbol,\n    Uint8Array = root.Uint8Array,\n    getPrototype = overArg(Object.getPrototypeOf, Object),\n    objectCreate = Object.create,\n    propertyIsEnumerable = objectProto.propertyIsEnumerable,\n    splice = arrayProto.splice;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols,\n    nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined,\n    nativeKeys = overArg(Object.keys, Object);\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView'),\n    Map = getNative(root, 'Map'),\n    Promise = getNative(root, 'Promise'),\n    Set = getNative(root, 'Set'),\n    WeakMap = getNative(root, 'WeakMap'),\n    nativeCreate = getNative(Object, 'create');\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  this.__data__ = new ListCache(entries);\n}\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n}\n\n/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  return this.__data__['delete'](key);\n}\n\n/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\n/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var cache = this.__data__;\n  if (cache instanceof ListCache) {\n    var pairs = cache.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      return this;\n    }\n    cache = this.__data__ = new MapCache(pairs);\n  }\n  cache.set(key, value);\n  return this;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  // Safari 9 makes `arguments.length` enumerable in strict mode.\n  var result = (isArray(value) || isArguments(value))\n    ? baseTimes(value.length, String)\n    : [];\n\n  var length = result.length,\n      skipIndexes = !!length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (key == 'length' || isIndex(key, length)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    object[key] = value;\n  }\n}\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * The base implementation of `_.assign` without support for multiple sources\n * or `customizer` functions.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @returns {Object} Returns `object`.\n */\nfunction baseAssign(object, source) {\n  return object && copyObject(source, keys(source), object);\n}\n\n/**\n * The base implementation of `_.clone` and `_.cloneDeep` which tracks\n * traversed objects.\n *\n * @private\n * @param {*} value The value to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @param {boolean} [isFull] Specify a clone including symbols.\n * @param {Function} [customizer] The function to customize cloning.\n * @param {string} [key] The key of `value`.\n * @param {Object} [object] The parent object of `value`.\n * @param {Object} [stack] Tracks traversed objects and their clone counterparts.\n * @returns {*} Returns the cloned value.\n */\nfunction baseClone(value, isDeep, isFull, customizer, key, object, stack) {\n  var result;\n  if (customizer) {\n    result = object ? customizer(value, key, object, stack) : customizer(value);\n  }\n  if (result !== undefined) {\n    return result;\n  }\n  if (!isObject(value)) {\n    return value;\n  }\n  var isArr = isArray(value);\n  if (isArr) {\n    result = initCloneArray(value);\n    if (!isDeep) {\n      return copyArray(value, result);\n    }\n  } else {\n    var tag = getTag(value),\n        isFunc = tag == funcTag || tag == genTag;\n\n    if (isBuffer(value)) {\n      return cloneBuffer(value, isDeep);\n    }\n    if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\n      if (isHostObject(value)) {\n        return object ? value : {};\n      }\n      result = initCloneObject(isFunc ? {} : value);\n      if (!isDeep) {\n        return copySymbols(value, baseAssign(result, value));\n      }\n    } else {\n      if (!cloneableTags[tag]) {\n        return object ? value : {};\n      }\n      result = initCloneByTag(value, tag, baseClone, isDeep);\n    }\n  }\n  // Check for circular references and return its corresponding clone.\n  stack || (stack = new Stack);\n  var stacked = stack.get(value);\n  if (stacked) {\n    return stacked;\n  }\n  stack.set(value, result);\n\n  if (!isArr) {\n    var props = isFull ? getAllKeys(value) : keys(value);\n  }\n  arrayEach(props || value, function(subValue, key) {\n    if (props) {\n      key = subValue;\n      subValue = value[key];\n    }\n    // Recursively populate clone (susceptible to call stack limits).\n    assignValue(result, key, baseClone(subValue, isDeep, isFull, customizer, key, value, stack));\n  });\n  return result;\n}\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} prototype The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nfunction baseCreate(proto) {\n  return isObject(proto) ? objectCreate(proto) : {};\n}\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\n/**\n * The base implementation of `getTag`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  return objectToString.call(value);\n}\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var result = new buffer.constructor(buffer.length);\n  buffer.copy(result);\n  return result;\n}\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\n/**\n * Creates a clone of `dataView`.\n *\n * @private\n * @param {Object} dataView The data view to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned data view.\n */\nfunction cloneDataView(dataView, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(dataView.buffer) : dataView.buffer;\n  return new dataView.constructor(buffer, dataView.byteOffset, dataView.byteLength);\n}\n\n/**\n * Creates a clone of `map`.\n *\n * @private\n * @param {Object} map The map to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned map.\n */\nfunction cloneMap(map, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(mapToArray(map), true) : mapToArray(map);\n  return arrayReduce(array, addMapEntry, new map.constructor);\n}\n\n/**\n * Creates a clone of `regexp`.\n *\n * @private\n * @param {Object} regexp The regexp to clone.\n * @returns {Object} Returns the cloned regexp.\n */\nfunction cloneRegExp(regexp) {\n  var result = new regexp.constructor(regexp.source, reFlags.exec(regexp));\n  result.lastIndex = regexp.lastIndex;\n  return result;\n}\n\n/**\n * Creates a clone of `set`.\n *\n * @private\n * @param {Object} set The set to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned set.\n */\nfunction cloneSet(set, isDeep, cloneFunc) {\n  var array = isDeep ? cloneFunc(setToArray(set), true) : setToArray(set);\n  return arrayReduce(array, addSetEntry, new set.constructor);\n}\n\n/**\n * Creates a clone of the `symbol` object.\n *\n * @private\n * @param {Object} symbol The symbol object to clone.\n * @returns {Object} Returns the cloned symbol object.\n */\nfunction cloneSymbol(symbol) {\n  return symbolValueOf ? Object(symbolValueOf.call(symbol)) : {};\n}\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\n/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    assignValue(object, key, newValue === undefined ? source[key] : newValue);\n  }\n  return object;\n}\n\n/**\n * Copies own symbol properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy symbols from.\n * @param {Object} [object={}] The object to copy symbols to.\n * @returns {Object} Returns `object`.\n */\nfunction copySymbols(source, object) {\n  return copyObject(source, getSymbols(source), object);\n}\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\n/**\n * Creates an array of the own enumerable symbol properties of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = nativeGetSymbols ? overArg(nativeGetSymbols, Object) : stubArray;\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11,\n// for data views in Edge < 14, and promises in Node.js.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = objectToString.call(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : undefined;\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\n/**\n * Initializes an array clone.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the initialized clone.\n */\nfunction initCloneArray(array) {\n  var length = array.length,\n      result = array.constructor(length);\n\n  // Add properties assigned by `RegExp#exec`.\n  if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\n    result.index = array.index;\n    result.input = array.input;\n  }\n  return result;\n}\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\n/**\n * Initializes an object clone based on its `toStringTag`.\n *\n * **Note:** This function only supports cloning values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to clone.\n * @param {string} tag The `toStringTag` of the object to clone.\n * @param {Function} cloneFunc The function to clone values.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneByTag(object, tag, cloneFunc, isDeep) {\n  var Ctor = object.constructor;\n  switch (tag) {\n    case arrayBufferTag:\n      return cloneArrayBuffer(object);\n\n    case boolTag:\n    case dateTag:\n      return new Ctor(+object);\n\n    case dataViewTag:\n      return cloneDataView(object, isDeep);\n\n    case float32Tag: case float64Tag:\n    case int8Tag: case int16Tag: case int32Tag:\n    case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\n      return cloneTypedArray(object, isDeep);\n\n    case mapTag:\n      return cloneMap(object, isDeep, cloneFunc);\n\n    case numberTag:\n    case stringTag:\n      return new Ctor(object);\n\n    case regexpTag:\n      return cloneRegExp(object);\n\n    case setTag:\n      return cloneSet(object, isDeep, cloneFunc);\n\n    case symbolTag:\n      return cloneSymbol(object);\n  }\n}\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  length = length == null ? MAX_SAFE_INTEGER : length;\n  return !!length &&\n    (typeof value == 'number' || reIsUint.test(value)) &&\n    (value > -1 && value % 1 == 0 && value < length);\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * This method is like `_.clone` except that it recursively clones `value`.\n *\n * @static\n * @memberOf _\n * @since 1.0.0\n * @category Lang\n * @param {*} value The value to recursively clone.\n * @returns {*} Returns the deep cloned value.\n * @see _.clone\n * @example\n *\n * var objects = [{ 'a': 1 }, { 'b': 2 }];\n *\n * var deep = _.cloneDeep(objects);\n * console.log(deep[0] === objects[0]);\n * // => false\n */\nfunction cloneDeep(value) {\n  return baseClone(value, true, true);\n}\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nfunction isArguments(value) {\n  // Safari 8.1 makes `arguments.callee` enumerable in strict mode.\n  return isArrayLikeObject(value) && hasOwnProperty.call(value, 'callee') &&\n    (!propertyIsEnumerable.call(value, 'callee') || objectToString.call(value) == argsTag);\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8-9 which returns 'object' for typed array and other constructors.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\n/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\n/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = cloneDeep;\n});\n\nconst LOADING_SPINNER_SIZE_PX = 60;\nconst LoadingStatus = ({ isLoading }) => (h(\"div\", { style: {\n        zIndex: '11',\n        position: 'absolute',\n        width: '100%',\n        height: '100%',\n        display: isLoading ? 'flex' : 'none',\n        justifyContent: 'center',\n        alignItems: 'center',\n        pointerEvents: 'none',\n    } }, isLoading && h(\"sc-loading-spinner\", { size: LOADING_SPINNER_SIZE_PX })));\n\nconst ErrorStatus = ({ hasError, size: { marginLeft, width } }) => {\n    return hasError ? (h(\"div\", { style: { position: 'absolute', width: `${width}px` } },\n        h(\"div\", { class: \"awsui-util-mt-s\", style: {\n                left: `${marginLeft}px`,\n                position: 'relative',\n                width: '100%',\n                display: 'flex',\n                flexDirection: 'row-reverse',\n            } },\n            h(\"sc-error-badge\", null, \"Stopped\")))) : (h(\"div\", { \"data-test-tag\": \"error-badge-place-holder\", style: { display: 'none' } }));\n};\n\nconst chartLegendContainerClassName = 'chart-legend-container';\nconst ChartLegendContainer = ({ legendHeight, config, size: { height, marginRight, marginLeft, marginBottom, marginTop, width }, }, children) => {\n    const sharedStyles = {\n        position: 'relative',\n        overflowY: 'scroll',\n        msOverflowStyle: 'none',\n    };\n    return config.position === LEGEND_POSITION.BOTTOM ? (h(\"div\", { class: chartLegendContainerClassName, style: Object.assign(Object.assign({}, sharedStyles), { top: `${height + marginTop + marginBottom}px`, marginLeft: `${marginLeft}px`, marginRight: `${marginRight}px`, height: `${legendHeight}px`, width: `${width}px` }) }, children)) : (h(\"div\", { class: chartLegendContainerClassName, style: Object.assign(Object.assign({}, sharedStyles), { top: `${marginTop}px`, marginLeft: `${marginLeft + width + marginRight}px`, width: `${config.width}px`, marginRight: '0', height: `${height}px` }) }, children));\n};\n\n/* Data Container is the tracking element used to draw our visualizations for this chart onto */\nconst DataContainer = ({ size: { width, height, marginLeft, marginTop } }, children) => (h(\"div\", { style: {\n        width: `${width}px`,\n        height: `${height}px`,\n        marginLeft: `${marginLeft}px`,\n        marginTop: `${marginTop}px`,\n    }, class: \"data-container\" }, children));\n\nconst ANNOTATION_FONT_SIZE = 10;\nconst ANNOTATION_STROKE_WIDTH = 1.5;\n\nconst getX = ({ annotation, width, viewport, }) => {\n    const { start, end } = viewport;\n    return Math.floor((width / (end.getTime() - start.getTime())) * (annotation.value.getTime() - start.getTime()));\n};\n\nconst TEXT_SELECTOR$1 = 'text.x-text';\nconst ANNOTATION_GROUP_SELECTOR$1 = 'g.x-annotation';\nconst LINE_SELECTOR$1 = 'line.x-line';\nconst renderXAnnotations = ({ container, xAnnotations, viewport, resolution, size: { width, height }, }) => {\n    const annotationSelection = select(container)\n        .selectAll(ANNOTATION_GROUP_SELECTOR$1)\n        .data(xAnnotations);\n    const getXAnnotationTextX = (a) => -getX({ annotation: a, width, viewport });\n    const padding = 5;\n    /** Add group for all elements */\n    const annotationGroup = annotationSelection\n        .enter()\n        .append('g')\n        .attr('transform', 'translate(0,0)')\n        .attr('class', 'x-annotation');\n    /** Create Line */\n    annotationGroup\n        .append('line')\n        .attr('class', 'x-line')\n        .attr('font-size', ANNOTATION_FONT_SIZE)\n        .attr('x1', annotation => getX({ annotation, width, viewport }))\n        .attr('x2', annotation => getX({ annotation, width, viewport }))\n        .attr('y1', 0)\n        .attr('y2', height)\n        .style('stroke', getColor)\n        .style('stroke-width', ANNOTATION_STROKE_WIDTH);\n    /** Create X Text */\n    annotationGroup\n        .append('text')\n        .text(annotation => getValueAndText({ annotation, resolution, viewport }))\n        .attr('display', getValueAndTextVisibility)\n        .attr('font-size', ANNOTATION_FONT_SIZE)\n        .attr('class', 'x-text')\n        .attr('y', getXAnnotationTextX)\n        .attr('x', 0)\n        .style('pointer-events', 'none')\n        .style('user-select', 'none')\n        .style('transform', `rotate(90deg) translateY(${-padding}px)`)\n        .style('fill', getColor);\n    /** Update Line */\n    annotationSelection\n        .select(LINE_SELECTOR$1)\n        .attr('x1', annotation => getX({ annotation, width, viewport }))\n        .attr('x2', annotation => getX({ annotation, width, viewport }))\n        .attr('y2', height)\n        .attr('stroke', getColor);\n    /** Update Text */\n    annotationSelection\n        .select(TEXT_SELECTOR$1)\n        .attr('display', getValueAndTextVisibility)\n        .text(annotation => getValueAndText({ annotation, resolution, viewport }))\n        .attr('y', getXAnnotationTextX)\n        .style('fill', getColor);\n    /** Delete */\n    annotationSelection.exit().remove();\n};\nconst removeXAnnotations = ({ container }) => {\n    select(container)\n        .selectAll(ANNOTATION_GROUP_SELECTOR$1)\n        .remove();\n};\n\nconst getY = ({ annotation, height, viewport, }) => {\n    const { yMax, yMin } = viewport;\n    return height - ((annotation.value - yMin) * height) / (yMax - yMin);\n};\n\nconst PADDING = 5;\nconst Y_ANNOTATION_TEXT_PADDING = 3;\nconst Y_ANNOTATION_TEXT_LEFT_PADDING = 5;\nconst HANDLE_OFFSET_X = 1;\nconst HANDLE_OFFSET_Y = -11;\nconst HANDLE_WIDTH = 45;\nconst SMALL_HANDLE_WIDTH = 18;\nconst HANDLE_HEIGHT = 20;\nconst DRAGGABLE_LINE_OFFSET_Y = -6;\nconst DRAGGABLE_LINE_OFFSET_X = 40;\nconst SMALL_DRAGGABLE_LINE_OFFSET_X = 13;\nconst DRAGGABLE_LINE_LENGTH = 10;\nconst DRAGGABLE_LINE_STROKE = 1;\nconst DRAGGABLE_LINE_SEPARATION = 2;\nconst TEXT_SELECTOR = 'text.y-text';\nconst TEXT_VALUE_SELECTOR = 'text.y-value-text';\nconst ANNOTATION_GROUP_SELECTOR = 'g.y-annotation';\nconst ANNOTATION_GROUP_SELECTOR_EDITABLE = 'g.y-annotation-editable';\nconst LINE_SELECTOR = 'line.y-line';\nconst DRAGGABLE_HANDLE_SELECTOR = 'rect.y-annotation';\nconst DRAGGABLE_LINE_ONE_SELECTOR = 'line.y-handle-one';\nconst DRAGGABLE_LINE_TWO_SELECTOR = 'line.y-handle-two';\nconst ELEMENT_GROUP_SELECTOR = 'g.y-elements-group';\nconst renderYAnnotationsEditable = ({ container, yAnnotations, viewport, resolution, size: { width, height }, }) => {\n    const getYPosition = (annotation) => getY({\n        annotation,\n        height,\n        viewport,\n    });\n    const getYHandleWidth = (yAnnotation) => getValueTextVisibility(yAnnotation) === 'inline' ? HANDLE_WIDTH : SMALL_HANDLE_WIDTH;\n    const getDraggableLineTwoX = (yAnnotation) => getValueTextVisibility(yAnnotation) === 'inline'\n        ? width + DRAGGABLE_LINE_OFFSET_X + DRAGGABLE_LINE_SEPARATION\n        : width + SMALL_DRAGGABLE_LINE_OFFSET_X + DRAGGABLE_LINE_SEPARATION;\n    const getDraggableLineOneX = (yAnnotation) => getValueTextVisibility(yAnnotation) === 'inline'\n        ? width + DRAGGABLE_LINE_OFFSET_X\n        : width + SMALL_DRAGGABLE_LINE_OFFSET_X;\n    const getYAnnotationHandleY = (yAnnotation) => getYPosition(yAnnotation) + HANDLE_OFFSET_Y;\n    const getValueFontSize = (yAnnotation) => yAnnotation.value < -9999 ? ANNOTATION_FONT_SIZE - 1 : ANNOTATION_FONT_SIZE;\n    const getGroupPosition = (yAnnotation) => {\n        return `translate(0,${getYPosition(yAnnotation)})`;\n    };\n    const annotationSelectionEditable = select(container)\n        .selectAll(ANNOTATION_GROUP_SELECTOR_EDITABLE)\n        .data(yAnnotations.filter(annotation => annotation.isEditable));\n    /** Add group for all elements */\n    const annotationGroupEditable = annotationSelectionEditable\n        .enter()\n        .append('g')\n        .attr('transform', 'translate(0,0)')\n        .attr('class', 'y-annotation-editable');\n    /** Create Draggable Annotation Handle Rectangle */\n    const dragHandle = annotationGroupEditable\n        .append('rect')\n        .attr('class', 'y-annotation')\n        .attr('width', getYHandleWidth)\n        .attr('height', HANDLE_HEIGHT)\n        .attr('x', width + HANDLE_OFFSET_X)\n        .attr('y', getYAnnotationHandleY)\n        .style('pointer-events', 'auto')\n        .style('stroke', getColor)\n        .style('stroke-width', ANNOTATION_STROKE_WIDTH)\n        .style('fill', 'white');\n    /** Create Sub Group for all elements except drag handle */\n    const handleGroup = annotationGroupEditable\n        .append('g')\n        .attr('transform', getGroupPosition)\n        .attr('class', 'y-elements-group');\n    /** Create Line */\n    handleGroup\n        .append('line')\n        .attr('class', 'y-line')\n        .attr('x1', 0)\n        .attr('x2', width)\n        .attr('y1', 0)\n        .attr('y2', 0)\n        .style('stroke', getColor)\n        .style('stroke-width', ANNOTATION_STROKE_WIDTH);\n    /** Create Value Text */\n    handleGroup\n        .append('text')\n        .attr('display', getValueTextVisibility)\n        .attr('class', 'y-value-text')\n        .attr('x', width + Y_ANNOTATION_TEXT_LEFT_PADDING)\n        .attr('text-anchor', 'start')\n        .attr('y', Y_ANNOTATION_TEXT_PADDING)\n        .text(annotation => getValueText({ annotation, resolution, viewport, formatText: true }))\n        .style('font-size', getValueFontSize)\n        .style('user-select', 'none')\n        .style('pointer-events', 'none')\n        .style('fill', getColor);\n    /** Create Label Text */\n    handleGroup\n        .append('text')\n        .attr('display', getLabelTextVisibility)\n        .attr('class', 'y-text')\n        .attr('x', width - PADDING)\n        .attr('text-anchor', 'end')\n        .attr('y', -PADDING)\n        .text(getText)\n        .style('font-size', ANNOTATION_FONT_SIZE)\n        .style('user-select', 'none')\n        .style('pointer-events', 'none')\n        .style('fill', getColor);\n    /** Create lines for draggable annotation handle */\n    handleGroup\n        .append('line')\n        .attr('class', 'y-handle-one')\n        .attr('x1', getDraggableLineOneX)\n        .attr('x2', getDraggableLineOneX)\n        .attr('y1', DRAGGABLE_LINE_OFFSET_Y)\n        .attr('y2', DRAGGABLE_LINE_OFFSET_Y + DRAGGABLE_LINE_LENGTH)\n        .style('stroke', 'gray')\n        .style('stroke-width', DRAGGABLE_LINE_STROKE);\n    handleGroup\n        .append('line')\n        .attr('class', 'y-handle-two')\n        .attr('x1', getDraggableLineTwoX)\n        .attr('x2', getDraggableLineTwoX)\n        .attr('y1', DRAGGABLE_LINE_OFFSET_Y)\n        .attr('y2', DRAGGABLE_LINE_OFFSET_Y + DRAGGABLE_LINE_LENGTH)\n        .style('stroke', 'gray')\n        .style('stroke-width', DRAGGABLE_LINE_STROKE);\n    /** Update Subgroup Elements */\n    annotationSelectionEditable.select(ELEMENT_GROUP_SELECTOR).attr('transform', getGroupPosition);\n    /** Update Threshold Value Text */\n    annotationSelectionEditable\n        .select(TEXT_VALUE_SELECTOR)\n        .attr('display', getValueTextVisibility)\n        .attr('x', width + Y_ANNOTATION_TEXT_LEFT_PADDING)\n        .text(annotation => getValueText({ annotation, resolution, viewport, formatText: true }))\n        .style('fill', getColor)\n        .style('font-size', getValueFontSize);\n    /** Update Label Text */\n    annotationSelectionEditable\n        .select(TEXT_SELECTOR)\n        .attr('display', getLabelTextVisibility)\n        .attr('x', width - PADDING)\n        .text(getText)\n        .style('fill', getColor);\n    /** Update Threshold Line */\n    annotationSelectionEditable\n        .select(LINE_SELECTOR)\n        .attr('x2', width)\n        .style('stroke', getColor);\n    /** Update Handle Lines */\n    annotationSelectionEditable\n        .select(DRAGGABLE_LINE_ONE_SELECTOR)\n        .attr('x1', getDraggableLineOneX)\n        .attr('x2', getDraggableLineOneX);\n    annotationSelectionEditable\n        .select(DRAGGABLE_LINE_TWO_SELECTOR)\n        .attr('x1', getDraggableLineTwoX)\n        .attr('x2', getDraggableLineTwoX);\n    /** Update Draggable Annotation Handle Rectangle */\n    annotationSelectionEditable\n        .select(DRAGGABLE_HANDLE_SELECTOR)\n        .attr('y', getYAnnotationHandleY)\n        .attr('x', width + HANDLE_OFFSET_X)\n        .attr('width', getYHandleWidth)\n        .style('stroke', getColor);\n    // Note: the order in which we render the elements matters\n    // the draggable handle MUST be rendered first in order to be at the bottom and not cover up any other draggable annotation elements\n    /** Exit */\n    annotationSelectionEditable.exit().remove();\n    return dragHandle;\n};\nconst renderYAnnotations = ({ container, yAnnotations, viewport, resolution, size: { width, height }, }) => {\n    const getYPosition = (annotation) => getY({\n        annotation,\n        height,\n        viewport,\n    });\n    const getGroupPosition = (yAnnotation) => {\n        return `translate(0,${getYPosition(yAnnotation)})`;\n    };\n    /** Not Editable Annotations */\n    const annotationSelectionNotEditable = select(container)\n        .selectAll(ANNOTATION_GROUP_SELECTOR)\n        .data(yAnnotations.filter(annotation => !annotation.isEditable));\n    /** Add group for all elements */\n    const annotationGroup = annotationSelectionNotEditable\n        .enter()\n        .append('g')\n        .attr('transform', getGroupPosition)\n        .attr('class', 'y-annotation');\n    /** Create Line */\n    annotationGroup\n        .append('line')\n        .attr('class', 'y-line')\n        .attr('x1', 0)\n        .attr('x2', width)\n        .attr('y1', 0)\n        .attr('y2', 0)\n        .style('stroke', getColor)\n        .style('stroke-width', ANNOTATION_STROKE_WIDTH);\n    /** Create Value Text */\n    annotationGroup\n        .append('text')\n        .attr('display', getValueTextVisibility)\n        .attr('font-size', ANNOTATION_FONT_SIZE)\n        .attr('class', 'y-value-text')\n        .attr('x', width + Y_ANNOTATION_TEXT_LEFT_PADDING)\n        .attr('text-anchor', 'start')\n        .attr('y', Y_ANNOTATION_TEXT_PADDING)\n        .text(annotation => getValueText({ annotation, resolution, viewport, formatText: true }))\n        .style('user-select', 'none')\n        .style('pointer-events', 'none')\n        .style('fill', getColor);\n    /** Create Label Text */\n    annotationGroup\n        .append('text')\n        .attr('display', getLabelTextVisibility)\n        .attr('font-size', ANNOTATION_FONT_SIZE)\n        .attr('class', 'y-text')\n        .attr('x', width - PADDING)\n        .attr('text-anchor', 'end')\n        .attr('y', -PADDING)\n        .text(getText)\n        .style('user-select', 'none')\n        .style('pointer-events', 'none')\n        .style('fill', getColor);\n    /** Update Group Position */\n    annotationSelectionNotEditable.attr('transform', getGroupPosition);\n    /** Update Threshold Value Text */\n    annotationSelectionNotEditable\n        .select(TEXT_VALUE_SELECTOR)\n        .attr('display', getValueTextVisibility)\n        .attr('x', width + Y_ANNOTATION_TEXT_LEFT_PADDING)\n        .text(annotation => getValueText({ annotation, resolution, viewport, formatText: true }))\n        .style('fill', getColor);\n    /** Update Label Text */\n    annotationSelectionNotEditable\n        .select(TEXT_SELECTOR)\n        .attr('display', getLabelTextVisibility)\n        .attr('x', width - PADDING)\n        .text(getText)\n        .style('fill', getColor);\n    /** Update Threshold Line */\n    annotationSelectionNotEditable\n        .select(LINE_SELECTOR)\n        .attr('x2', width)\n        .style('stroke', getColor);\n    /** Exit */\n    annotationSelectionNotEditable.exit().remove();\n};\nconst removeYAnnotations = ({ container }) => {\n    /**\n     * Y Annotation Threshold Groups\n     */\n    select(container)\n        .selectAll(ANNOTATION_GROUP_SELECTOR)\n        .remove();\n    select(container)\n        .selectAll(ANNOTATION_GROUP_SELECTOR_EDITABLE)\n        .remove();\n};\n\nconst withinViewport = (viewport) => {\n    return ({ value }) => {\n        if (typeof value === 'number') {\n            return viewport.yMin <= value && viewport.yMax >= value;\n        }\n        return viewport.start <= value && viewport.end >= value;\n    };\n};\nlet dragHandler; // need to hold onto the dragHandle selector to dispose of it properly to prevent memory leak\nconst renderAnnotations = ({ container, resolution, annotations, viewport, size, onUpdate, activeViewPort, emitUpdatedWidgetConfiguration, draggable, startStopDragging, inDragState, }) => {\n    if (typeof annotations === 'object' && typeof annotations.show === 'boolean' && !annotations.show) {\n        removeXAnnotations({ container });\n        removeYAnnotations({ container });\n        return;\n    }\n    // get annotations which have a value that lays within the viewport.\n    const xAnnotations = annotations.x == null ? [] : annotations.x.filter(withinViewport(viewport));\n    const yAnnotations = annotations.y == null ? [] : annotations.y.filter(withinViewport(viewport));\n    /**\n     * X Annotations\n     */\n    renderXAnnotations({\n        container,\n        xAnnotations,\n        viewport,\n        resolution,\n        size,\n    });\n    /**\n     * Y Annotations\n     */\n    renderYAnnotations({\n        container,\n        yAnnotations,\n        viewport,\n        resolution,\n        size,\n    });\n    if (!inDragState()) {\n        // do not re-render editable annotations in drag state\n        /**\n         * Y Annotations Editable (Draggable)\n         */\n        dragHandler = renderYAnnotationsEditable({\n            container,\n            yAnnotations,\n            viewport,\n            resolution,\n            size,\n        });\n        // prevents more event listeners from being attached when we drag\n        draggable({\n            container,\n            size,\n            onUpdate,\n            activeViewPort,\n            emitUpdatedWidgetConfiguration,\n            startStopDragging,\n            resolution,\n            dragHandle: dragHandler,\n        });\n    }\n};\n\nconst getLinearPathCommand = ({ trendResult, size: { width, height }, viewport: { start, end, yMin, yMax }, }) => {\n    // convert y-value to pixel position for start and end points of path\n    const startY = Math.round(height - ((getTrendValue(trendResult, start.getTime()) - yMin) * height) / (yMax - yMin));\n    const endY = Math.round(height - ((getTrendValue(trendResult, end.getTime()) - yMin) * height) / (yMax - yMin));\n    // create draw commands for SVG paths\n    return `M 0 ${startY} L ${width} ${endY}`;\n};\nconst renderTrendLines = ({ container, viewport, size: { width, height }, dataStreams, trendResults, }) => {\n    const linearPathCommands = [];\n    trendResults.forEach(trendResult => {\n        const dataStream = dataStreams.find(elt => elt.id === trendResult.dataStreamId);\n        if (dataStream) {\n            switch (trendResult.type) {\n                case TREND_TYPE.LINEAR:\n                    linearPathCommands.push({\n                        color: trendResult.color || dataStream.color || 'black',\n                        command: getLinearPathCommand({\n                            trendResult,\n                            size: { width, height },\n                            viewport,\n                        }),\n                    });\n                    break;\n                default:\n                    /* eslint-disable-next-line no-console */\n                    console.error(`Unable to render trend line for trend type '${trendResult.type}'.`);\n            }\n        }\n    });\n    // select existing path elements\n    const linearSelection = select(container)\n        .selectAll('path.linear-regression')\n        .data(linearPathCommands);\n    // create\n    linearSelection\n        .enter()\n        .append('path')\n        .attr('class', 'linear-regression')\n        .attr('stroke', data => data.color)\n        .attr('stroke-dasharray', TREND_LINE_DASH_ARRAY)\n        .attr('stroke-linecap', 'round')\n        .attr('stroke-width', TREND_LINE_STROKE_WIDTH)\n        .attr('d', data => data.command);\n    // update\n    linearSelection.attr('stroke', data => data.color).attr('d', data => data.command);\n    // clean up extra path elements\n    linearSelection.exit().remove();\n};\n\nvar slice = Array.prototype.slice;\n\nfunction identity$1(x) {\n  return x;\n}\n\nvar top = 1,\n    right = 2,\n    bottom = 3,\n    left = 4,\n    epsilon = 1e-6;\n\nfunction translateX(x) {\n  return \"translate(\" + (x + 0.5) + \",0)\";\n}\n\nfunction translateY(y) {\n  return \"translate(0,\" + (y + 0.5) + \")\";\n}\n\nfunction number(scale) {\n  return function(d) {\n    return +scale(d);\n  };\n}\n\nfunction center(scale) {\n  var offset = Math.max(0, scale.bandwidth() - 1) / 2; // Adjust for 0.5px offset.\n  if (scale.round()) offset = Math.round(offset);\n  return function(d) {\n    return +scale(d) + offset;\n  };\n}\n\nfunction entering() {\n  return !this.__axis;\n}\n\nfunction axis(orient, scale) {\n  var tickArguments = [],\n      tickValues = null,\n      tickFormat = null,\n      tickSizeInner = 6,\n      tickSizeOuter = 6,\n      tickPadding = 3,\n      k = orient === top || orient === left ? -1 : 1,\n      x = orient === left || orient === right ? \"x\" : \"y\",\n      transform = orient === top || orient === bottom ? translateX : translateY;\n\n  function axis(context) {\n    var values = tickValues == null ? (scale.ticks ? scale.ticks.apply(scale, tickArguments) : scale.domain()) : tickValues,\n        format = tickFormat == null ? (scale.tickFormat ? scale.tickFormat.apply(scale, tickArguments) : identity$1) : tickFormat,\n        spacing = Math.max(tickSizeInner, 0) + tickPadding,\n        range = scale.range(),\n        range0 = +range[0] + 0.5,\n        range1 = +range[range.length - 1] + 0.5,\n        position = (scale.bandwidth ? center : number)(scale.copy()),\n        selection = context.selection ? context.selection() : context,\n        path = selection.selectAll(\".domain\").data([null]),\n        tick = selection.selectAll(\".tick\").data(values, scale).order(),\n        tickExit = tick.exit(),\n        tickEnter = tick.enter().append(\"g\").attr(\"class\", \"tick\"),\n        line = tick.select(\"line\"),\n        text = tick.select(\"text\");\n\n    path = path.merge(path.enter().insert(\"path\", \".tick\")\n        .attr(\"class\", \"domain\")\n        .attr(\"stroke\", \"currentColor\"));\n\n    tick = tick.merge(tickEnter);\n\n    line = line.merge(tickEnter.append(\"line\")\n        .attr(\"stroke\", \"currentColor\")\n        .attr(x + \"2\", k * tickSizeInner));\n\n    text = text.merge(tickEnter.append(\"text\")\n        .attr(\"fill\", \"currentColor\")\n        .attr(x, k * spacing)\n        .attr(\"dy\", orient === top ? \"0em\" : orient === bottom ? \"0.71em\" : \"0.32em\"));\n\n    if (context !== selection) {\n      path = path.transition(context);\n      tick = tick.transition(context);\n      line = line.transition(context);\n      text = text.transition(context);\n\n      tickExit = tickExit.transition(context)\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { return isFinite(d = position(d)) ? transform(d) : this.getAttribute(\"transform\"); });\n\n      tickEnter\n          .attr(\"opacity\", epsilon)\n          .attr(\"transform\", function(d) { var p = this.parentNode.__axis; return transform(p && isFinite(p = p(d)) ? p : position(d)); });\n    }\n\n    tickExit.remove();\n\n    path\n        .attr(\"d\", orient === left || orient == right\n            ? (tickSizeOuter ? \"M\" + k * tickSizeOuter + \",\" + range0 + \"H0.5V\" + range1 + \"H\" + k * tickSizeOuter : \"M0.5,\" + range0 + \"V\" + range1)\n            : (tickSizeOuter ? \"M\" + range0 + \",\" + k * tickSizeOuter + \"V0.5H\" + range1 + \"V\" + k * tickSizeOuter : \"M\" + range0 + \",0.5H\" + range1));\n\n    tick\n        .attr(\"opacity\", 1)\n        .attr(\"transform\", function(d) { return transform(position(d)); });\n\n    line\n        .attr(x + \"2\", k * tickSizeInner);\n\n    text\n        .attr(x, k * spacing)\n        .text(format);\n\n    selection.filter(entering)\n        .attr(\"fill\", \"none\")\n        .attr(\"font-size\", 10)\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"text-anchor\", orient === right ? \"start\" : orient === left ? \"end\" : \"middle\");\n\n    selection\n        .each(function() { this.__axis = position; });\n  }\n\n  axis.scale = function(_) {\n    return arguments.length ? (scale = _, axis) : scale;\n  };\n\n  axis.ticks = function() {\n    return tickArguments = slice.call(arguments), axis;\n  };\n\n  axis.tickArguments = function(_) {\n    return arguments.length ? (tickArguments = _ == null ? [] : slice.call(_), axis) : tickArguments.slice();\n  };\n\n  axis.tickValues = function(_) {\n    return arguments.length ? (tickValues = _ == null ? null : slice.call(_), axis) : tickValues && tickValues.slice();\n  };\n\n  axis.tickFormat = function(_) {\n    return arguments.length ? (tickFormat = _, axis) : tickFormat;\n  };\n\n  axis.tickSize = function(_) {\n    return arguments.length ? (tickSizeInner = tickSizeOuter = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeInner = function(_) {\n    return arguments.length ? (tickSizeInner = +_, axis) : tickSizeInner;\n  };\n\n  axis.tickSizeOuter = function(_) {\n    return arguments.length ? (tickSizeOuter = +_, axis) : tickSizeOuter;\n  };\n\n  axis.tickPadding = function(_) {\n    return arguments.length ? (tickPadding = +_, axis) : tickPadding;\n  };\n\n  return axis;\n}\n\nfunction axisBottom(scale) {\n  return axis(bottom, scale);\n}\n\nfunction axisLeft(scale) {\n  return axis(left, scale);\n}\n\nfunction formatDecimal(x) {\n  return Math.abs(x = Math.round(x)) >= 1e21\n      ? x.toLocaleString(\"en\").replace(/,/g, \"\")\n      : x.toString(10);\n}\n\n// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimalParts(1.23) returns [\"123\", 0].\nfunction formatDecimalParts(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, ±Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n\nfunction exponent(x) {\n  return x = formatDecimalParts(Math.abs(x)), x ? x[1] : NaN;\n}\n\nfunction formatGroup(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n\nfunction formatNumerals(numerals) {\n  return function(value) {\n    return value.replace(/[0-9]/g, function(i) {\n      return numerals[+i];\n    });\n  };\n}\n\n// [[fill]align][sign][symbol][0][width][,][.precision][~][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?(~)?([a-z%])?$/i;\n\nfunction formatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n  var match;\n  return new FormatSpecifier({\n    fill: match[1],\n    align: match[2],\n    sign: match[3],\n    symbol: match[4],\n    zero: match[5],\n    width: match[6],\n    comma: match[7],\n    precision: match[8] && match[8].slice(1),\n    trim: match[9],\n    type: match[10]\n  });\n}\n\nformatSpecifier.prototype = FormatSpecifier.prototype; // instanceof\n\nfunction FormatSpecifier(specifier) {\n  this.fill = specifier.fill === undefined ? \" \" : specifier.fill + \"\";\n  this.align = specifier.align === undefined ? \">\" : specifier.align + \"\";\n  this.sign = specifier.sign === undefined ? \"-\" : specifier.sign + \"\";\n  this.symbol = specifier.symbol === undefined ? \"\" : specifier.symbol + \"\";\n  this.zero = !!specifier.zero;\n  this.width = specifier.width === undefined ? undefined : +specifier.width;\n  this.comma = !!specifier.comma;\n  this.precision = specifier.precision === undefined ? undefined : +specifier.precision;\n  this.trim = !!specifier.trim;\n  this.type = specifier.type === undefined ? \"\" : specifier.type + \"\";\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width === undefined ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision === undefined ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + (this.trim ? \"~\" : \"\")\n      + this.type;\n};\n\n// Trims insignificant zeros, e.g., replaces 1.2000k with 1.2k.\nfunction formatTrim(s) {\n  out: for (var n = s.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (s[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      default: if (!+s[i]) break out; if (i0 > 0) i0 = 0; break;\n    }\n  }\n  return i0 > 0 ? s.slice(0, i0) + s.slice(i1 + 1) : s;\n}\n\nvar prefixExponent;\n\nfunction formatPrefixAuto(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimalParts(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n\nfunction formatRounded(x, p) {\n  var d = formatDecimalParts(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n\nconst formatTypes = {\n  \"%\": (x, p) => (x * 100).toFixed(p),\n  \"b\": (x) => Math.round(x).toString(2),\n  \"c\": (x) => x + \"\",\n  \"d\": formatDecimal,\n  \"e\": (x, p) => x.toExponential(p),\n  \"f\": (x, p) => x.toFixed(p),\n  \"g\": (x, p) => x.toPrecision(p),\n  \"o\": (x) => Math.round(x).toString(8),\n  \"p\": (x, p) => formatRounded(x * 100, p),\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": (x) => Math.round(x).toString(16).toUpperCase(),\n  \"x\": (x) => Math.round(x).toString(16)\n};\n\nfunction identity(x) {\n  return x;\n}\n\nvar map = Array.prototype.map,\n    prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"µ\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction formatLocale(locale) {\n  var group = locale.grouping === undefined || locale.thousands === undefined ? identity : formatGroup(map.call(locale.grouping, Number), locale.thousands + \"\"),\n      currencyPrefix = locale.currency === undefined ? \"\" : locale.currency[0] + \"\",\n      currencySuffix = locale.currency === undefined ? \"\" : locale.currency[1] + \"\",\n      decimal = locale.decimal === undefined ? \".\" : locale.decimal + \"\",\n      numerals = locale.numerals === undefined ? identity : formatNumerals(map.call(locale.numerals, String)),\n      percent = locale.percent === undefined ? \"%\" : locale.percent + \"\",\n      minus = locale.minus === undefined ? \"−\" : locale.minus + \"\",\n      nan = locale.nan === undefined ? \"NaN\" : locale.nan + \"\";\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        trim = specifier.trim,\n        type = specifier.type;\n\n    // The \"n\" type is an alias for \",g\".\n    if (type === \"n\") comma = true, type = \"g\";\n\n    // The \"\" type, and any invalid type, is an alias for \".12~g\".\n    else if (!formatTypes[type]) precision === undefined && (precision = 12), trim = true, type = \"g\";\n\n    // If zero fill is specified, padding goes after sign and before digits.\n    if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currencyPrefix : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currencySuffix : /[%p]/.test(type) ? percent : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision === undefined ? 6\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Determine the sign. -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = value < 0 || 1 / value < 0;\n\n        // Perform the initial formatting.\n        value = isNaN(value) ? nan : formatType(Math.abs(value), precision);\n\n        // Trim insignificant zeros.\n        if (trim) value = formatTrim(value);\n\n        // If a negative value rounds to zero after formatting, and no explicit positive sign is requested, hide the sign.\n        if (valueNegative && +value === 0 && sign !== \"+\") valueNegative = false;\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : minus) : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + valueSuffix + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer “value” part that can be\n        // grouped, and fractional or exponential “suffix” part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": value = valuePrefix + value + valueSuffix + padding; break;\n        case \"=\": value = valuePrefix + padding + value + valueSuffix; break;\n        case \"^\": value = padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length); break;\n        default: value = padding + valuePrefix + value + valueSuffix; break;\n      }\n\n      return numerals(value);\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n\nvar locale;\nvar format;\n\ndefaultLocale({\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nfunction defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  return locale;\n}\n\nconst X_TICK_DISTANCE_PX = 100;\n// Y ticks can be closer since the height of a label is much less than the max width of a label across multiple resolutions\nconst Y_TICK_DISTANCE_PX = 30;\nconst MIN_TICK_COUNT = 2;\nconst getTickCount = ({ width, height }, { yScaleType }) => {\n    const xTickCount = Math.max(Math.floor(width / X_TICK_DISTANCE_PX), MIN_TICK_COUNT);\n    const yTickCount = Math.max(Math.floor(height / (Y_TICK_DISTANCE_PX + (yScaleType === ScaleType.Log ? 60 : 0))), MIN_TICK_COUNT);\n    return { xTickCount, yTickCount };\n};\n\n/**\n * Axis Display Constants\n */\nconst TICK_SIZE = 0;\nconst TICK_PADDING = 10;\n\nconst DEFAULT_AXIS_OPTIONS = {\n    showX: true,\n    showY: true,\n};\n/**\n *\n * Utils\n *\n */\nconst scales = (size, viewport) => {\n    const xScale = time()\n        .domain([viewport.start.getTime(), viewport.end.getTime()])\n        .range([0, size.width]);\n    const yScale = linear()\n        .domain([viewport.yMin, viewport.yMax])\n        .range([size.height, 0]);\n    return {\n        xScale,\n        yScale,\n    };\n};\nconst tickCount = (size) => getTickCount({ width: size.width, height: size.height }, {\n    xScaleSide: 'bottom',\n    yScaleSide: 'left',\n    yScaleType: ScaleType.Linear,\n    xScaleType: ScaleType.Linear,\n});\n/**\n *\n * Axis Construction\n *\n */\nconst xAxisConstructor = (size, viewport) => {\n    const { xTickCount } = tickCount(size);\n    const { xScale } = scales(size, viewport);\n    return axisBottom(xScale)\n        .ticks(xTickCount)\n        .tickPadding(TICK_PADDING)\n        .tickSize(TICK_SIZE);\n};\nconst yAxisConstructor = (size, viewport) => {\n    const { yTickCount } = tickCount(size);\n    const { yScale } = scales(size, viewport);\n    return axisLeft(yScale)\n        .ticks(yTickCount)\n        .tickFormat(format('.2s'))\n        .tickSize(-size.width)\n        .tickPadding(TICK_PADDING);\n};\n/** D3 call to construct the X Axis */\nconst xAxisCall = (size, viewport) => (selection) => selection\n    .attr('transform', `translate(${size.marginLeft}, ${size.marginTop + size.height})`)\n    .call(xAxisConstructor(size, viewport));\n/** D3 call to construct the Y Axis */\nconst yAxisCall = (size, viewport) => (selection) => selection\n    .attr('transform', `translate(${size.marginLeft}, ${size.marginTop})`)\n    .call(yAxisConstructor(size, viewport));\nconst renderAxis = () => {\n    // Store axis element references to prevent re-querying DOM nodes on every render.\n    let yAxis;\n    let xAxisSeparator;\n    let xAxis;\n    const axisRenderer = ({ container, viewport, size, axis }) => {\n        const sel = select(container);\n        const { showX, showY, labels } = Object.assign(Object.assign({}, DEFAULT_AXIS_OPTIONS), axis);\n        if (!showX && xAxis && xAxisSeparator) {\n            xAxis.remove();\n            xAxis = null;\n            xAxisSeparator.remove();\n            xAxisSeparator = null;\n        }\n        if (!showY && yAxis) {\n            yAxis.remove();\n            yAxis = null;\n        }\n        if (showX && !xAxis) {\n            // Adds the x axis separator between the chart and the y axis points\n            sel\n                .append('line')\n                .attr('class', 'x-axis-separator')\n                .attr('x1', size.marginLeft)\n                .attr('y1', size.height + size.marginTop)\n                .attr('x2', size.width + size.marginLeft)\n                .attr('y2', size.height + size.marginTop);\n            // Create X Axis\n            sel\n                .append('g')\n                .attr('class', 'axis x-axis')\n                .call(xAxisCall(size, viewport));\n            // Note: We are assuming that axis within a component aren't destroyed and recreated.\n            xAxis = select(container.querySelector('.x-axis'));\n            xAxisSeparator = select(container.querySelector('.x-axis-separator'));\n            if (!xAxis) {\n                // This implies there's a issue in the utilization of this method. Should never occur.\n                throw new Error('Failed to initialize the axis component');\n            }\n        }\n        if (showY && !yAxis) {\n            // Create Y Axis\n            sel\n                .append('g')\n                .attr('class', 'axis y-axis')\n                .call(yAxisCall(size, viewport));\n            // Note: We are assuming that axis within a component aren't destroyed and recreated.\n            yAxis = select(container.querySelector('.y-axis'));\n            if (!yAxis) {\n                // This implies there's a issue in the utilization of this method. Should never occur.\n                throw new Error('Failed to initialize the axis component');\n            }\n        }\n        if (xAxis) {\n            xAxis.call(xAxisCall(size, viewport));\n            /** Update X Axis Separator */\n            if (xAxisSeparator) {\n                xAxisSeparator\n                    .attr('x1', size.marginLeft)\n                    .attr('y1', size.height + size.marginTop)\n                    .attr('x2', size.width + size.marginLeft)\n                    .attr('y2', size.height + size.marginTop);\n            }\n        }\n        if (yAxis) {\n            /** Update Y Axis */\n            if (labels && labels.yAxis) {\n                const newContent = labels.yAxis.content;\n                const currentLabel = sel.select('.y-axis-label');\n                if (currentLabel.empty() || newContent !== currentLabel.text()) {\n                    if (!currentLabel.empty()) {\n                        currentLabel.remove();\n                    }\n                    sel\n                        .append('text')\n                        .attr('class', 'y-axis-label')\n                        .attr('transform', 'translate(10, 10)')\n                        .text(() => newContent);\n                }\n            }\n            yAxis.call(yAxisCall(size, viewport));\n        }\n    };\n    return axisRenderer;\n};\n\nconst orderOfMagnitude = (n) => {\n    const o = Math.log10(Math.abs(n));\n    return Math.ceil(o);\n};\nconst roundedMagnitude = (n) => {\n    const m = orderOfMagnitude(n);\n    return n > 0 ? 10 ** m : -1 * 10 ** m;\n};\nconst DEFAULT_ROUNDING_DIVISOR = 50;\nconst roundedToNearest = (rMag, n) => (roundUp) => {\n    const a = n / (rMag / DEFAULT_ROUNDING_DIVISOR);\n    const b = rMag / DEFAULT_ROUNDING_DIVISOR;\n    return roundUp ? Math.ceil(a) * b : Math.floor(a) * b;\n};\nconst roundToOrderOfMagnitude = (n, min) => {\n    if (n === 0) {\n        return 0;\n    }\n    const roundedY = roundedToNearest(roundedMagnitude(n), n);\n    return n < 0 ? roundedY(min) : roundedY(!min);\n};\nconst DEFAULT_Y_RANGE = {\n    yMax: 1000,\n    yMin: 1,\n};\nconst getBufferHeightByRange = (yMin, yMax) => {\n    let bufferHeight = 0;\n    // Adding padding such that the data's y-values are not flush with the view port\n    if (yMax === yMin) {\n        // Taking care of the case where yMax === yMin as well as a special case where both are 0\n        bufferHeight = yMax !== 0 ? Math.abs(yMax * 0.5 /* SAME_VALUE */) : 0.5 /* SAME_VALUE */;\n    }\n    else {\n        bufferHeight = (yMax - yMin) * 0.15 /* STANDARD */;\n    }\n    return bufferHeight;\n};\nconst getYRangeWithBuffers = ({ yValues, startFromZero }) => {\n    if (yValues.length === 0) {\n        return DEFAULT_Y_RANGE;\n    }\n    const dataRange = yValues.reduce((yRange, currentY) => ({\n        yMin: Math.min(currentY, yRange.yMin),\n        yMax: Math.max(currentY, yRange.yMax),\n    }), {\n        yMin: Infinity,\n        yMax: -Infinity,\n    });\n    const noNegativeValues = dataRange.yMin >= 0;\n    const noPositiveValues = dataRange.yMax <= 0;\n    const bufferHeight = getBufferHeightByRange(dataRange.yMin, dataRange.yMax);\n    let yMax = dataRange.yMax + bufferHeight;\n    let yMin = dataRange.yMin - bufferHeight;\n    // Special case where yMax ans yMin is both zero. We will want to have padding.\n    if (dataRange.yMax !== 0 || dataRange.yMin !== 0) {\n        // If should start from zero and all in view points are positive, we set the yMin to zero\n        if (startFromZero && noNegativeValues) {\n            yMin = 0;\n        }\n        // If should start from zero and all in view points are negative, we set the yMax to zero.\n        if (startFromZero && noPositiveValues) {\n            yMax = 0;\n        }\n    }\n    return {\n        yMin: roundToOrderOfMagnitude(yMin, true),\n        yMax: roundToOrderOfMagnitude(yMax, false),\n    };\n};\nconst getYRange = ({ points, yAnnotations, startFromZero, }) => {\n    // Extract out Y values for each of the data set for normalization.\n    const yDataValues = points.map(point => point.y);\n    const yAnnotationValues = yAnnotations.map(yAnnotation => yAnnotation.value);\n    return getYRangeWithBuffers({ yValues: [...yDataValues, ...yAnnotationValues], startFromZero });\n};\n\n/**\n * Provide messaging to clarify that the data/stream has invalid DataType(s)\n */\nconst UnsupportedDataTypeStatus = ({ supportedDataTypes, messageOverrides, size, }) => {\n    const { width, height, marginLeft, marginRight, marginTop, marginBottom } = size;\n    return (h(\"div\", { id: \"unsupported-data-type-error\", class: \"unsupported-data-type-status\", style: {\n            width: `${width + marginLeft + marginRight}px`,\n            height: `${height + marginBottom + marginTop}px`,\n            padding: '24px',\n            background: 'white',\n            border: 'solid 4px black',\n        } },\n        h(\"h2\", null, messageOverrides.unsupportedDataTypeHeader || 'Unable to render your data'),\n        h(\"h2\", null, messageOverrides.unsupportedDataTypeSubHeader || 'This chart only supports the following DataType(s):'),\n        h(\"div\", null, messageOverrides.supportedTypes || supportedDataTypes.map(type => h(\"div\", null, type)))));\n};\n\n/**\n * Calculate new threshold value based on where the cursor is dragged\n * Returns the new threshold value and whether the viewport needs to be adjusted\n */\nconst calculateNewThreshold = ({ yPos, viewport, size, }) => {\n    const { height } = size;\n    const { yMax, yMin } = viewport;\n    const newVal = (height * yMax - yMax * yPos + yMin * yPos) / height;\n    /** We truncate the newVal to 1/1000 of the axis scale to prevent unnecessary precision */\n    const yAxisScale = (yMax - yMin) / 1000;\n    const decimalDigits = Math.log(yAxisScale) / Math.log(10);\n    return +newVal.toFixed(decimalDigits >= 0 ? 0 : -decimalDigits);\n};\nconst needAxisRescale = ({ annotationValue, viewport }) => {\n    const { yMax, yMin } = viewport;\n    const lowerThreshold = yMin + 0.01 * (yMax - yMin);\n    const upperThreshold = yMin + 0.99 * (yMax - yMin);\n    return annotationValue < lowerThreshold || annotationValue > upperThreshold;\n};\nconst FOCUS_TRANSITION_TIME = 100; // milliseconds of the focus mode transition\nconst FOCUS_OPACITY = 0.32; // the opacity of the other handles that are not selected for dragging\nconst UPDATE_THROTTLE_MS = 90;\n/**\n * Given a annotation container, it will mask by change the opacity of all Y annotation that is not\n * the currentDraggedAnnotation\n */\nconst maskNonDraggedAnnotations = ({ on, container, currentDraggedAnnotation, }) => {\n    select(container)\n        .selectAll(`${ANNOTATION_GROUP_SELECTOR_EDITABLE},${ANNOTATION_GROUP_SELECTOR}`)\n        .filter(annotation => annotation !== currentDraggedAnnotation)\n        .transition()\n        .duration(FOCUS_TRANSITION_TIME)\n        .attr('opacity', on ? FOCUS_OPACITY : 1);\n};\n/**\n * Draggable Thresholds Feature\n */\nconst attachDraggable = () => {\n    let draggedAnnotationValue; // this is necessary to prevent race condition (new annotation value) from occurring during the drag process\n    const internalUpdate = lodash_throttle(([onUpdate, viewport]) => {\n        onUpdate(viewport, false, false, true);\n    }, UPDATE_THROTTLE_MS);\n    const draggable = ({ container, size, onUpdate, activeViewPort, emitUpdatedWidgetConfiguration, startStopDragging, dragHandle, resolution, }) => {\n        const { height } = size;\n        const getGroupPosition = (annotation, viewport) => {\n            return `translate(0,${getY({ annotation, height, viewport })})`;\n        };\n        const getHandlePosition = (annotation, viewport) => {\n            return getY({ annotation, height, viewport }) + HANDLE_OFFSET_Y;\n        };\n        dragHandle.call(drag()\n            .on('start', function dragStarted(yAnnotation) {\n            const annotationDragged = yAnnotation;\n            if (!annotationDragged.isEditable) {\n                return;\n            }\n            startStopDragging(true);\n            draggedAnnotationValue = +annotationDragged.value;\n            select(this).classed('active', true);\n            maskNonDraggedAnnotations({\n                container,\n                on: true,\n                currentDraggedAnnotation: yAnnotation,\n            });\n        })\n            .on('drag', function handleDragged(yAnnotation) {\n            /** Drag Event */\n            const annotationDragged = yAnnotation;\n            if (!annotationDragged.isEditable) {\n                return;\n            }\n            let viewport = activeViewPort();\n            const { y: yPos } = event;\n            const draggedValue = calculateNewThreshold({ yPos, viewport, size });\n            annotationDragged.value = draggedValue;\n            draggedAnnotationValue = draggedValue;\n            // re-rendering of everything except annotation movement\n            const axisRescale = needAxisRescale({ annotationValue: annotationDragged.value, viewport });\n            if (axisRescale) {\n                // prevent the user from dragging off the page\n                onUpdate(viewport, false, axisRescale, true);\n                viewport = activeViewPort();\n            }\n            else {\n                internalUpdate([onUpdate, viewport]);\n            }\n            // Update draggable annotation element groups\n            select(container)\n                .selectAll(ANNOTATION_GROUP_SELECTOR_EDITABLE)\n                .selectAll(ELEMENT_GROUP_SELECTOR)\n                .attr('transform', annotation => getGroupPosition(annotation, viewport));\n            // Update draggable annotation handles\n            select(container)\n                .selectAll(DRAGGABLE_HANDLE_SELECTOR)\n                .attr('y', annotation => getHandlePosition(annotation, viewport));\n            // Update all annotation text values\n            select(container)\n                .selectAll(`${ANNOTATION_GROUP_SELECTOR_EDITABLE},${ANNOTATION_GROUP_SELECTOR}`)\n                .select(TEXT_VALUE_SELECTOR)\n                .text(annotation => getValueText({ annotation: annotation, resolution, viewport, formatText: true }));\n            // Update non-draggable annotation groups\n            select(container)\n                .selectAll(ANNOTATION_GROUP_SELECTOR)\n                .attr('transform', annotation => getGroupPosition(annotation, viewport));\n        })\n            .on('end', function dragEnded(yAnnotation) {\n            const annotationDragged = yAnnotation;\n            if (!annotationDragged.isEditable) {\n                return;\n            }\n            annotationDragged.value = draggedAnnotationValue != null ? draggedAnnotationValue : annotationDragged.value;\n            const viewport = activeViewPort();\n            /** emit event updating annotation on mouse up */\n            emitUpdatedWidgetConfiguration();\n            const axisRescale = needAxisRescale({ annotationValue: annotationDragged.value, viewport });\n            onUpdate(viewport, false, axisRescale, true);\n            select(this).classed('active', false);\n            startStopDragging(false);\n            maskNonDraggedAnnotations({\n                container,\n                on: false,\n                currentDraggedAnnotation: yAnnotation,\n            });\n        }));\n    };\n    return draggable;\n};\n\nconst scWebglBaseChartCss = \"sc-webgl-base-chart .sc-webgl-base-chart{height:0}sc-webgl-base-chart .empty-status{z-index:11;position:absolute;width:100%;height:100%;display:flex;justify-content:center;text-align:center;flex-direction:column;align-items:center;pointer-events:none;color:var(--light-text);font-size:var(--font-size-1)}sc-webgl-base-chart .empty-status h3{font-size:var(--font-size-3);line-height:var(--line-height-3);padding-bottom:var(--font-size-2);font-weight:normal}sc-webgl-base-chart .data-container{position:absolute}sc-webgl-base-chart .selection{fill:rgba(41, 168, 221, var(--selection-opacity));stroke-width:var(--selection-width);stroke:var(--selection-color);stroke-opacity:var(--selection-opacity);z-index:11}sc-webgl-base-chart .chart-legend-container{-ms-overflow-style:none;scrollbar-width:none}sc-webgl-base-chart .chart-legend-container::-webkit-scrollbar{display:none}sc-webgl-base-chart .threshold-container{z-index:5;position:absolute;pointer-events:none;font-size:12px}sc-webgl-base-chart .trend-container{z-index:4;position:absolute;pointer-events:none}\";\n\nconst MIN_WIDTH = 50;\nconst MIN_HEIGHT = 50;\nconst LEGEND_HEIGHT = 100;\nconst DEFAULT_SHOW_DATA_STREAM_COLOR = true;\nconst ScWebglBaseChart = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n    this.widgetUpdated = createEvent(this, \"widgetUpdated\", 7);\n    this.dateRangeChange = createEvent(this, \"dateRangeChange\", 7);\n    this.isEditing = false;\n    this.renderLegend = props => h(\"sc-legend\", Object.assign({}, props));\n    this.annotations = {};\n    this.trends = [];\n    this.displaysError = true;\n    this.supportedDataTypes = Object.values(DataType);\n    this.yRangeStartFromZero = false;\n    // Utilized to trigger a re-render once the data container is present to allow the\n    // tooltip component to be properly rendered.\n    this.isMounted = false;\n    /**\n     * Active View Port Config\n     */\n    this.yMin = this.viewport.yMin || 0;\n    this.yMax = this.viewport.yMax || 100;\n    // NOTE: If a start and end date are not provided, that means we are in 'live' mode\n    this.start = isMinimalStaticViewport(this.viewport)\n      ? new Date(this.viewport.start)\n      : new Date(Date.now() - parseDuration(this.viewport.duration));\n    this.end = isMinimalStaticViewport(this.viewport) ? new Date(this.viewport.end) : new Date();\n    this.trendResults = [];\n    this.axisRenderer = renderAxis();\n    this.draggable = attachDraggable();\n    this.isDragging = false;\n    this.startStopDragging = (dragState) => {\n      this.isDragging = dragState;\n    };\n    this.inDragState = () => {\n      return this.isDragging;\n    };\n    this.getAxisContainer = () => {\n      if (!this.axisContainer) {\n        // Grab the svg within `<sc-webgl-axis />` component\n        this.axisContainer = this.el.querySelector('svg.axis');\n      }\n      return this.axisContainer;\n    };\n    /**\n     * Emit the current widget configuration\n     */\n    this.emitUpdatedWidgetConfiguration = (dataStreams) => {\n      const configUpdate = {\n        movement: undefined,\n        scale: undefined,\n        layout: undefined,\n        legend: this.legend,\n        annotations: this.internalAnnotations,\n        axis: this.axis,\n        widgetId: this.configId,\n        dataStreams: dataStreams ? getDataStreamForEventing(dataStreams) : this.dataStreams,\n      };\n      this.widgetUpdated.emit(configUpdate);\n    };\n    /**\n     * On Widget Updated - Persist `DataStreamInfo`\n     *\n     * Emits an event which persists the current `NameValue[]` state into the\n     * data stream.\n     */\n    this.updateDataStreamName = ({ streamId, name }) => {\n      const updatedDataStreams = this.dataStreams.map(dataStream => {\n        return Object.assign(Object.assign({}, dataStream), { name: dataStream.id === streamId ? name : dataStream.name });\n      });\n      this.emitUpdatedWidgetConfiguration(updatedDataStreams);\n    };\n    this.onDateRangeChange = lodash_throttle(([start, end, from]) => {\n      this.dateRangeChange.emit([start, end, from]);\n    }, DATE_RANGE_EMIT_EVENT_MS, {\n      leading: true,\n      trailing: true,\n    });\n    this.chartSizeConfig = () => {\n      const size = this.chartSize();\n      const { marginTop, marginBottom, marginLeft, marginRight, height, width } = size;\n      const chartHeight = height - marginBottom - marginTop;\n      const isRightLegend = this.legend && this.legend.position === LEGEND_POSITION.RIGHT;\n      const isBottomLegend = this.legend && this.legend.position === LEGEND_POSITION.BOTTOM;\n      return Object.assign(Object.assign({}, size), { width: Math.max(width - marginLeft - marginRight - (isRightLegend ? this.legend.width : 0), MIN_WIDTH), height: chartHeight - (isBottomLegend ? LEGEND_HEIGHT : 0) });\n    };\n    /**\n     * Get Active View Port\n     *\n     * Returns a view port with the current y range applied.\n     * This can differ from the view port passed in, as\n     * translations to the y range are only applied locally\n     * as opposed to being applied via config changes from above.\n     */\n    this.activeViewPort = () => ({\n      start: this.start,\n      end: this.end,\n      yMin: this.yMin,\n      yMax: this.yMax,\n      group: this.viewport.group,\n      duration: !isMinimalStaticViewport(this.viewport) ? parseDuration(this.viewport.duration) : undefined,\n    });\n    this.handleCameraEvent = ({ start, end }) => {\n      if (this.scene) {\n        const oldViewport = { yMin: this.yMin, yMax: this.yMax, start, end };\n        if (this.shouldRerenderOnViewportChange &&\n          this.shouldRerenderOnViewportChange({ oldViewport, newViewport: this.activeViewPort() })) {\n          this.onUpdate({ start, end }, false, false, false, true);\n        }\n        // Update Camera\n        webGLRenderer.updateViewPorts({ start, end, manager: this.scene });\n      }\n    };\n    /**\n     * Updates the active view port y range.\n     */\n    this.updateYRange = () => {\n      // Filter down the data streams to only contain data within the viewport\n      const inViewPoints = this.dataStreams\n        .filter(isNumberDataStream)\n        .map(stream => getVisibleData(getDataPoints(stream, stream.resolution), { start: this.start, end: this.end }, false))\n        .flat();\n      const yAnnotations = (this.internalAnnotations && Array.isArray(this.internalAnnotations.y) && this.internalAnnotations.y) || [];\n      const { yMin, yMax } = getYRange({\n        points: inViewPoints,\n        yAnnotations: yAnnotations.filter(annotation => isNumeric(annotation.value)),\n        startFromZero: this.yRangeStartFromZero,\n      });\n      const prevYMin = this.yMin;\n      const prevYMax = this.yMax;\n      /** Update active viewport. */\n      this.yMin = this.viewport.yMin != null ? this.viewport.yMin : yMin;\n      this.yMax = this.viewport.yMax != null ? this.viewport.yMax : yMax;\n      const oldViewport = { yMin: prevYMin, yMax: prevYMax, start: this.start, end: this.end };\n      if (this.shouldRerenderOnViewportChange &&\n        this.shouldRerenderOnViewportChange({ oldViewport, newViewport: this.activeViewPort() })) {\n        this.onUpdate(this.activeViewPort(), false, false, false, true);\n      }\n      this.applyYRangeChanges();\n    };\n    /**\n     * Apply Y Range Changes\n     *\n     * Updates the scene camera to point to the correct location\n     */\n    this.applyYRangeChanges = () => {\n      if (this.scene) {\n        /** Update threejs camera to have the updated viewport */\n        this.scene.camera.top = this.yMax;\n        this.scene.camera.bottom = this.yMin;\n        // NOTE: This is required to make the changes to the camera take effect.\n        // This updates the matricies which represent the cameras transformation.\n        // This is done by setting a uniform for the shaders which are referenced to the\n        // vertex shaders to translate and skew the coordinate space.\n        this.scene.camera.updateProjectionMatrix();\n      }\n    };\n    /**\n     * Container Helpers\n     *\n     * Help provide an efficient way to have the correct mount point on the DOM.\n     * We want to prevent the DOM from being re-queried for performance concerns.\n     */\n    this.getDataContainer = () => {\n      if (this.dataContainer == null) {\n        this.dataContainer = this.el.querySelector('.data-container');\n      }\n      return this.dataContainer;\n    };\n    this.getThresholdContainer = () => {\n      if (this.thresholdContainer == null) {\n        this.thresholdContainer = this.el.querySelector('.threshold-container');\n      }\n      return this.thresholdContainer;\n    };\n    this.getTrendContainer = () => {\n      if (this.trendContainer == null) {\n        this.trendContainer = this.el.querySelector('.trend-container');\n      }\n      return this.trendContainer;\n    };\n    this.getHasSupportedData = () => {\n      return this.dataStreams.every(({ streamType, dataType }) => streamType === StreamType.ALARM || this.supportedDataTypes.includes(dataType));\n    };\n    this.thresholds = () => this.internalAnnotations && this.internalAnnotations.y ? this.internalAnnotations.y.filter(isThreshold) : [];\n    this.getThresholdOptions = () => {\n      // If user did not pass in any threshold options, we just use default\n      if (this.internalAnnotations == null || this.internalAnnotations.thresholdOptions == null) {\n        return DEFAULT_THRESHOLD_OPTIONS;\n      }\n      const { thresholdOptions } = this.internalAnnotations;\n      // if threshold option is a type of bool, it means that we either turn on all defaults or\n      // disable all defaults.\n      if (typeof thresholdOptions === 'boolean') {\n        return thresholdOptions ? DEFAULT_THRESHOLD_OPTIONS : DEFAULT_THRESHOLD_OPTIONS_OFF;\n      }\n      // If its a threshold object, then we just use the user's setting and override it with the default settings\n      // that we have\n      return Object.assign(Object.assign({}, DEFAULT_THRESHOLD_OPTIONS), thresholdOptions);\n    };\n    /**\n     * Lifecycle method\n     *\n     * Called every time the component mounts, or has it's data, viewport, or size changed.\n     *\n     * Provide no `hasDataChanged` to prevent a re-processing of the chart scenes.\n     */\n    this.onUpdate = ({ start, end, shouldBlockDateRangeChangedEvent, }, hasDataChanged = false, hasSizeChanged = false, hasAnnotationChanged = false, shouldRerender = false) => {\n      /**\n       * Failure Handling\n       */\n      // avoid updating if dataStream has unsupported data\n      if (!this.getHasSupportedData())\n        return;\n      // why do we have this condition?\n      // - if one of the watched props e.g. dataStreams changes this will call onUpdate\n      // - if the component unmounts before this this.scene is set to null\n      // - if we do not have a scene or a component to render it in we should bail\n      if (!this.scene && !this.el.isConnected)\n        return;\n      if (!this.el.isConnected && this.scene) {\n        // Disconnected failure case:\n        // This can occur in very 'stressed' performance situations where updates get called\n        // and then a chart is disconnected. We can recover from this by removing itself\n        // from the view port manager and bailing on the update.\n        /* eslint-disable-next-line no-console */\n        console.error(`[SynchroCharts] chart with associated scene id of ${this.scene.id} is disconnected,\n         but still being called via the view port manager. removing from the view port manager.`);\n        // necessary to make sure that the allocated memory is released, and nothing is incorrectly rendered.\n        webGLRenderer.removeChartScene(this.scene.id);\n        this.scene = null;\n        return;\n      }\n      if (!this.scene) {\n        // This should never occur - if it does, it's not recoverable so we just bail.\n        throw new Error('[SynchroCharts] Scene is not present but update is being called.');\n      }\n      /**\n       * Update Procedure\n       */\n      const hasViewPortChanged = this.start.getTime() !== start.getTime() || this.end.getTime() !== end.getTime();\n      if (hasViewPortChanged && !shouldBlockDateRangeChangedEvent) {\n        this.onDateRangeChange([start, end, this.viewport.group]);\n      }\n      // Update Active Viewport\n      this.start = start;\n      this.end = end;\n      if (!this.supportString && !shouldRerender) {\n        this.updateYRange();\n      }\n      // Render chart scene\n      this.updateAndRegisterChartScene({\n        hasDataChanged,\n        hasSizeChanged,\n        hasAnnotationChanged,\n        shouldRerender,\n      });\n      // settings to utilize in all feature updates.\n      const viewport = this.activeViewPort();\n      const size = this.chartSizeConfig();\n      if (this.onUpdateLifeCycle) {\n        // Call all passed in updates - custom features\n        this.onUpdateLifeCycle(this.activeViewPort());\n      }\n      /**\n       *\n       * Features\n       *\n       * Place custom features which are built into the chart at the base level here.\n       * Non-base chart features should instead be delegated via the `onUpdateLifeCycle` hook.\n       */\n      /**\n       * Annotations Feature\n       *\n       * Currently only supports rendering annotations for number data streams\n       */\n      if (!this.supportString) {\n        const numberAnnotations = getNumberAnnotations(this.internalAnnotations);\n        renderAnnotations({\n          container: this.getThresholdContainer(),\n          annotations: numberAnnotations,\n          viewport,\n          size,\n          // TODO: Revisit this.\n          // If no data streams are present we will fallback to a resolution of 0, i.e. 'raw' data\n          resolution: this.dataStreams[0] ? this.dataStreams[0].resolution : 0,\n          onUpdate: this.onUpdate,\n          activeViewPort: this.activeViewPort,\n          emitUpdatedWidgetConfiguration: this.emitUpdatedWidgetConfiguration,\n          draggable: this.draggable,\n          startStopDragging: this.startStopDragging,\n          inDragState: this.inDragState,\n        });\n      }\n      /**\n       * Trend Lines Feature\n       *\n       * Currently only supports rendering trends for number data streams\n       */\n      if (!this.supportString) {\n        const dataStreamsWithTrends = this.visualizedDataStreams().filter(isNumberDataStream);\n        this.trendResults = getAllTrendResults(viewport, dataStreamsWithTrends, this.trends);\n        renderTrendLines({\n          container: this.getTrendContainer(),\n          viewport,\n          size,\n          dataStreams: this.visualizedDataStreams(),\n          trendResults: this.trendResults,\n        });\n      }\n      /**\n       * Axis Feature\n       */\n      this.axisRenderer({\n        container: this.getAxisContainer(),\n        viewport,\n        size,\n        axis: this.axis,\n      });\n    };\n    /**\n     * Set Chart Rendering Position\n     *\n     * Registers the chart rectangle, which tells webGL where to render the data-vizualization to.\n     * This must be called each time after a scene is set.\n     *\n     */\n    this.setChartRenderingPosition = () => {\n      if (this.scene) {\n        const chartSize = this.chartSizeConfig();\n        webGLRenderer.setChartRect(this.scene.id, {\n          width: chartSize.width,\n          height: chartSize.height,\n          x: this.size.x + chartSize.marginLeft,\n          y: this.size.y + chartSize.marginTop,\n          left: this.size.left + chartSize.marginLeft,\n          top: this.size.top + chartSize.marginTop,\n          right: this.size.left + chartSize.marginLeft + chartSize.width,\n          bottom: this.size.top + chartSize.marginTop + chartSize.height,\n          density: window.devicePixelRatio,\n        });\n      }\n    };\n    this.chartSize = () => {\n      const marginLeft = this.size.marginLeft == null ? DEFAULT_CHART_CONFIG.size.marginLeft : this.size.marginLeft;\n      const marginRight = this.size.marginRight == null ? DEFAULT_CHART_CONFIG.size.marginRight : this.size.marginRight;\n      const marginTop = this.size.marginTop == null ? DEFAULT_CHART_CONFIG.size.marginTop : this.size.marginTop;\n      const marginBottom = this.size.marginBottom == null ? DEFAULT_CHART_CONFIG.size.marginBottom : this.size.marginBottom;\n      const minWidth = marginLeft + marginRight + MIN_WIDTH;\n      const minHeight = marginTop + marginBottom + MIN_HEIGHT;\n      return {\n        marginLeft,\n        marginRight,\n        marginTop,\n        marginBottom,\n        width: Math.max(this.size.width, minWidth),\n        height: Math.max(this.size.height, minHeight),\n      };\n    };\n    this.renderTooltipComponent = (marginLeft, marginTop, thresholds) => this.renderTooltip({\n      size: this.chartSizeConfig(),\n      style: { marginLeft: `${marginLeft}px`, marginTop: `${marginTop}px` },\n      dataStreams: this.dataStreams,\n      viewport: this.activeViewPort(),\n      dataContainer: this.getDataContainer(),\n      thresholds,\n      trendResults: this.trendResults,\n      visualizesAlarms: this.visualizesAlarms,\n    });\n    this.renderLegendComponent = ({ isLoading, thresholds, showDataStreamColor, }) => this.renderLegend({\n      config: this.legend,\n      dataStreams: this.dataStreams,\n      visualizesAlarms: this.visualizesAlarms,\n      updateDataStreamName: this.updateDataStreamName,\n      viewport: this.activeViewPort(),\n      isEditing: this.isEditing,\n      isLoading,\n      thresholds,\n      supportString: this.supportString,\n      trendResults: this.trendResults,\n      showDataStreamColor,\n    });\n  }\n  componentDidLoad() {\n    // Why do we have this condition?\n    //  - If componentDidUnload is called before componentDidLoad this.el.isConnected will be false\n    //  - This can happen when scrolling page very quickly\n    //  - If the component is unmounted before this.setupChartScene is complete we run into a race condition\n    //  where the scene gets created and assigned to this.scene but we override it with null before\n    //  this.setupChartScene calls this.onUpdate\n    //  - Without the component mounted there is no point in calling onUpdate since we have nowhere to render this.scene\n    if (this.el.isConnected) {\n      this.setupChartScene();\n      this.isMounted = true;\n    }\n  }\n  componentWillLoad() {\n    if (!this.isDragging) {\n      this.setInternalAnnotations();\n    }\n  }\n  setInternalAnnotations() {\n    // Internal annotations are mutated, so we clone it to prevent altering the inputs.\n    this.internalAnnotations = lodash_clonedeep(this.annotations);\n  }\n  /**\n   * Visualized Data Streams\n   *\n   * Returns the data streams we want to directly visualize\n   * Depending on if visualizeAlarms is false, this will filter out alarm data.\n   */\n  visualizedDataStreams() {\n    if (this.visualizesAlarms) {\n      return this.dataStreams;\n    }\n    return this.dataStreams.filter(({ streamType }) => streamType !== StreamType.ALARM);\n  }\n  onViewPortChange(newViewPort, oldViewPort) {\n    if (this.scene && !lodash_isequal(newViewPort, oldViewPort)) {\n      const hasYRangeChanged = newViewPort.yMin !== oldViewPort.yMin || newViewPort.yMax !== oldViewPort.yMax;\n      if (hasYRangeChanged) {\n        /** Update active viewport. */\n        this.yMin = newViewPort.yMin;\n        this.yMax = newViewPort.yMax;\n        /** Apply Changes */\n        this.applyYRangeChanges();\n      }\n      // All charts are correctly synced.\n      /** Update active viewport */\n      this.start = isMinimalStaticViewport(newViewPort)\n        ? new Date(newViewPort.start)\n        : new Date(Date.now() - parseDuration(newViewPort.duration));\n      this.end = isMinimalStaticViewport(newViewPort) ? new Date(newViewPort.end) : new Date();\n      /**\n       * Updates viewport to the active viewport\n       */\n      this.scene.updateViewPort(this.activeViewPort());\n      /** Re-render scene */\n      // This is a necessary call to ensure that the view port group is correctly set.\n      // If `updateViewPorts` is **not** called, `updateAndRegisterChartScene` in an edge case may\n      // re-create the chart resources, and set the new viewport equal to the view port groups stale viewport.\n      webGLRenderer.updateViewPorts({\n        start: this.start,\n        end: this.end,\n        manager: this.scene,\n        duration: this.activeViewPort().duration,\n      });\n      this.updateAndRegisterChartScene({\n        hasDataChanged: false,\n        hasSizeChanged: false,\n        hasAnnotationChanged: false,\n        shouldRerender: false,\n      });\n      if (this.shouldRerenderOnViewportChange &&\n        this.shouldRerenderOnViewportChange({ oldViewport: oldViewPort, newViewport: newViewPort })) {\n        this.onUpdate({ start: this.start, end: this.end }, false, false, false, true);\n      }\n    }\n    const { duration } = this.activeViewPort();\n    if (this.scene != null && duration != null) {\n      webGLRenderer.stopTick({ manager: this.scene });\n      webGLRenderer.startTick({ manager: this.scene, duration, chartSize: this.chartSizeConfig() });\n    }\n  }\n  onSizeChange(newProp, oldProp) {\n    // NOTE: Change of legend can effect sizing\n    if (!lodash_isequal(newProp, oldProp)) {\n      this.onUpdate(this.activeViewPort(), false, true);\n    }\n    // Since internal clocks are depended on width, when we detect a width change, we want to re-start the timer.\n    if (newProp.width != null && newProp.width !== oldProp.width) {\n      const { duration } = this.activeViewPort();\n      if (this.scene != null && duration != null) {\n        webGLRenderer.stopTick({ manager: this.scene });\n        webGLRenderer.startTick({ manager: this.scene, duration, chartSize: this.chartSizeConfig() });\n      }\n    }\n  }\n  onDataStreamsChange() {\n    // Avoiding a deep equality check due to the cost on a potentially large object.\n    this.onUpdate(this.activeViewPort(), true);\n  }\n  onAnnotationsChange(newProp, oldProp) {\n    if (!lodash_isequal(newProp, oldProp) && !this.isDragging) {\n      this.setInternalAnnotations();\n      this.onUpdate(this.activeViewPort(), false, false, true);\n    }\n  }\n  onTrendsChange(newProp, oldProp) {\n    if (!lodash_isequal(newProp, oldProp)) {\n      this.onUpdate(this.activeViewPort(), false);\n    }\n  }\n  onAxisChange(newProp, oldProp) {\n    const viewport = this.activeViewPort();\n    const size = this.chartSizeConfig();\n    if (!lodash_isequal(newProp, oldProp)) {\n      this.axisRenderer({\n        container: this.getAxisContainer(),\n        viewport,\n        size,\n        axis: this.axis,\n      });\n    }\n  }\n  // NOTE: While `componentDidUnload` is deprecated, `disconnectedCallback` causes critical issues\n  //       causing orphaned updates to occur, where no `scene` is present.\n  componentDidUnload() {\n    if (this.scene) {\n      // necessary to make sure that the allocated memory is released, and nothing is incorrectly rendered.\n      webGLRenderer.removeChartScene(this.scene.id);\n    }\n    this.scene = null;\n  }\n  setupChartScene() {\n    this.scene = this.createChartScene({\n      viewport: this.activeViewPort(),\n      chartSize: this.chartSizeConfig(),\n      dataStreams: this.visualizedDataStreams(),\n      alarms: this.alarms,\n      container: this.getDataContainer(),\n      minBufferSize: this.minBufferSize,\n      bufferFactor: this.bufferFactor,\n      onUpdate: this.onUpdate,\n      thresholdOptions: this.getThresholdOptions(),\n      thresholds: this.thresholds(),\n    });\n    const { duration } = this.activeViewPort();\n    webGLRenderer.addChartScene({ manager: this.scene, duration, chartSize: this.chartSizeConfig() });\n    this.setChartRenderingPosition();\n    webGLRenderer.render(this.scene);\n    this.onUpdate(this.activeViewPort());\n  }\n  /**\n   * Update and register chart scene\n   *\n   * handles the updating of the chart scene, and handles registering the new\n   * chart scene if a new chart scene is returned.\n   *\n   * A new chart scene will be returned if the new data passed in has\n   * more data points that the previous chart scene had room allocated for.\n   */\n  updateAndRegisterChartScene({ hasDataChanged, hasSizeChanged, hasAnnotationChanged, shouldRerender, }) {\n    if (this.scene) {\n      if (hasSizeChanged) {\n        this.setChartRenderingPosition();\n      }\n      const container = this.getDataContainer();\n      const updatedScene = this.updateChartScene({\n        scene: this.scene,\n        chartSize: this.chartSizeConfig(),\n        dataStreams: this.visualizedDataStreams(),\n        alarms: this.alarms,\n        container,\n        viewport: this.activeViewPort(),\n        minBufferSize: this.minBufferSize,\n        bufferFactor: this.bufferFactor,\n        onUpdate: this.onUpdate,\n        thresholdOptions: this.getThresholdOptions(),\n        thresholds: this.thresholds(),\n        hasSizeChanged,\n        hasDataChanged,\n        shouldRerender,\n        hasAnnotationChanged,\n      });\n      // update chart scene will return a new scene if it needed to delete the old one to make\n      // the changes necessary and reconstruct a entirely new scene in it's place.\n      // in this scenario we need to remove it's old scene from the global chart registry within webGL Renderer.\n      const isNewChartScene = updatedScene.id !== this.scene.id;\n      if (isNewChartScene) {\n        // Must unregister the previous chart scene and register the new one with webgl\n        webGLRenderer.removeChartScene(this.scene.id);\n        this.scene = updatedScene;\n        const { duration } = this.activeViewPort();\n        webGLRenderer.addChartScene({\n          manager: updatedScene,\n          duration,\n          shouldSync: false,\n          chartSize: this.chartSizeConfig(),\n        });\n        this.setChartRenderingPosition();\n      }\n      /** Render to canvas */\n      webGLRenderer.render(this.scene);\n      if (hasSizeChanged) {\n        // if the size has changed, then we need to wait till the next 'frame'\n        // until the DOM has updated to it's new position.\n        window.setTimeout(() => {\n          if (this.scene) {\n            webGLRenderer.render(this.scene);\n          }\n        }, 0);\n      }\n    }\n  }\n  render() {\n    const chartSizeConfig = this.chartSizeConfig();\n    const { marginLeft, marginTop, marginRight, marginBottom } = chartSizeConfig;\n    const hasError = this.dataStreams.some(({ error }) => error != null);\n    const shouldDisplayAsLoading = !hasError && this.visualizedDataStreams().some(({ isLoading }) => isLoading);\n    const hasNoDataStreamsPresent = this.visualizedDataStreams().length === 0;\n    const hasNoDataPresent = this.visualizedDataStreams().every(stream => {\n      const points = getDataPoints(stream, stream.resolution);\n      if (points.length === 0) {\n        return true;\n      }\n      // Check the latest datapoint to see if its before the start of viewport\n      const isDataOutOfRange = points[points.length - 1].x < this.start.getTime();\n      return isDataOutOfRange;\n    });\n    const thresholds = this.thresholds();\n    const showDataStreamColor = this.legend != null && this.legend.showDataStreamColor != null\n      ? this.legend.showDataStreamColor\n      : DEFAULT_SHOW_DATA_STREAM_COLOR;\n    if (!this.getHasSupportedData()) {\n      return (h(\"div\", { class: \"awsui sc-webgl-base-chart\" }, h(UnsupportedDataTypeStatus, { size: chartSizeConfig, messageOverrides: this.messageOverrides || {}, supportedDataTypes: this.supportedDataTypes })));\n    }\n    return [\n      h(\"div\", { class: \"awsui sc-webgl-base-chart\" }, this.displaysError && h(ErrorStatus, { hasError: hasError, size: chartSizeConfig }), h(\"sc-webgl-axis\", { size: chartSizeConfig }), h(DataContainer, { size: chartSizeConfig }, h(EmptyStatus, { displaysNoDataPresentMsg: this.displaysNoDataPresentMsg != null ? this.displaysNoDataPresentMsg : true, messageOverrides: this.messageOverrides || {}, isLoading: shouldDisplayAsLoading, hasNoDataPresent: hasNoDataPresent, hasNoDataStreamsPresent: hasNoDataStreamsPresent }), h(LoadingStatus, { isLoading: shouldDisplayAsLoading }), this.gestures && (h(\"sc-gesture-handler\", { onDateRangeChange: this.handleCameraEvent, size: chartSizeConfig, viewport: this.activeViewPort() }))), this.legend && (h(ChartLegendContainer, { config: this.legend, legendHeight: LEGEND_HEIGHT, size: chartSizeConfig }, this.renderLegendComponent({ isLoading: shouldDisplayAsLoading, thresholds, showDataStreamColor })))),\n      this.isMounted && this.renderTooltipComponent(marginLeft, marginTop, thresholds),\n      h(\"svg\", { class: \"threshold-container\", width: chartSizeConfig.width + marginRight, height: chartSizeConfig.height + marginBottom, style: { marginLeft: `${marginLeft}px`, marginTop: `${marginTop}px` } }),\n      h(\"svg\", { class: \"trend-container\", width: chartSizeConfig.width, height: chartSizeConfig.height, style: { marginLeft: `${marginLeft}px`, marginTop: `${marginTop}px` } }),\n    ];\n  }\n  get el() { return getElement(this); }\n  static get watchers() { return {\n    \"viewport\": [\"onViewPortChange\"],\n    \"size\": [\"onSizeChange\"],\n    \"legend\": [\"onSizeChange\"],\n    \"dataStreams\": [\"onDataStreamsChange\"],\n    \"annotations\": [\"onAnnotationsChange\"],\n    \"trends\": [\"onTrendsChange\"],\n    \"axis\": [\"onAxisChange\"]\n  }; }\n};\nScWebglBaseChart.style = scWebglBaseChartCss;\n\nconst scWebglContextCss = \"sc-webgl-context{--scroll-bar-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;pointer-events:none}.webgl-context-canvas{position:absolute;left:0;top:0;width:100%;height:100%;max-width:100vw;max-height:100vh;display:block;pointer-events:none;z-index:10}.webgl-context-canvas-viewport{width:calc(100vw - var(--scroll-bar-size));height:calc(100vh - var(--scroll-bar-size))}\";\n\nconst ScWebglContext = class {\n  constructor(hostRef) {\n    registerInstance(this, hostRef);\n  }\n  componentDidLoad() {\n    const canvas = this.el.querySelector('canvas');\n    webGLRenderer.initRendering(canvas, this.onContextInitialization, this.viewFrame);\n  }\n  render() {\n    const viewportViewFrame = this.viewFrame === undefined || this.viewFrame instanceof Window;\n    const classes = `webgl-context-canvas ${viewportViewFrame ? 'webgl-context-canvas-viewport' : ''}`;\n    return h(\"canvas\", { class: classes });\n  }\n  get el() { return getElement(this); }\n};\nScWebglContext.style = scWebglContextCss;\n\nexport { ScChartIcon as sc_chart_icon, ScDataStreamName as sc_data_stream_name, ScExpandableInput as sc_expandable_input, ScGestureHandler as sc_gesture_handler, ScLegend as sc_legend, ScLegendRow as sc_legend_row, ScLoadingSpinner as sc_loading_spinner, ScSizeProvider as sc_size_provider, ScTooltip as sc_tooltip, ScTooltipRow as sc_tooltip_row, ScTooltipRows as sc_tooltip_rows, ScWebglAxis as sc_webgl_axis, ScWebglBaseChart as sc_webgl_base_chart, ScWebglContext as sc_webgl_context };\n"],"names":["EmptyStatus","_ref","isLoading","hasNoDataPresent","hasNoDataStreamsPresent","messageOverrides","displaysNoDataPresentMsg","h","class","style","display","undefined","noDataStreamsPresentHeader","NO_DATA_STREAMS_PRESENT_HEADER","noDataStreamsPresentSubHeader","NO_DATA_STREAMS_PRESENT_SUB_HEADER","noDataPresentHeader","NO_DATA_PRESENT_HEADER","noDataPresentSubHeader","NO_DATA_PRESENT_SUB_HEADER","DEFAULT_CHART_CONFIG","widgetId","viewport","start","Date","end","yMin","yMax","size","width","height","marginLeft","marginRight","marginTop","marginBottom","movement","enableXScroll","enableYScroll","zoomMax","Infinity","zoomMin","layout","xGridVisible","yGridVisible","xTicksVisible","yTicksVisible","scale","xScaleType","ScaleType","TimeSeries","yScaleType","Linear","xScaleSide","yScaleSide","dataStreams","legend","position","LEGEND_POSITION","BOTTOM","DEFAULT_THRESHOLD_OPTIONS","showColor","DEFAULT_THRESHOLD_OPTIONS_OFF","bisectRight","bisector","ascending$1","right","x","NaN","center","e10","Math","sqrt","e5","e2","tickIncrement","stop","count","step","max","power","floor","log","LN10","error","pow","tickStep","step0","abs","step1","define","constructor","factory","prototype","extend","parent","definition","Object","create","key","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","this","rgb","formatHex","color_formatRgb","formatRgb","color","format","m","l","trim","toLowerCase","exec","length","parseInt","rgbn","Rgb","rgba","hsla","hasOwnProperty","n","r","g","b","a","opacity","arguments","o","rgb_formatHex","hex","rgb_formatRgb","isNaN","min","round","value","toString","s","Hsl","hslConvert","hsl2rgb","m1","m2","constant$3","gamma","y","nogamma","t","exponential","d","linear$1","copy","channels","assign","displayable","formatHsl","k","interpolateRgb","rgbGamma","rgb$1","numberArray","i","c","slice","genericArray","nb","na","Array","interpolate$1","date$1","setTime","interpolateNumber","object","reA","reB","source","interpolateString","am","bm","bs","bi","lastIndex","q","index","push","one","zero","join","ArrayBuffer","isView","DataView","isArray","valueOf","interpolateRound","cssNode","cssRoot","cssView","svgNode","degrees","PI","identity$5","translateX","translateY","rotate","skewX","scaleX","scaleY","decompose","e","f","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","xa","ya","xb","yb","translate","interpolateTransformCss","document","createElement","documentElement","defaultView","transform","getComputedStyle","appendChild","getPropertyValue","removeChild","split","interpolateTransformSvg","createElementNS","setAttribute","baseVal","consolidate","matrix","rho","SQRT2","rho2","rho4","epsilon2","cosh","exp","interpolateZoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","d1","b0","b1","r0","r1","coshr0","u","sinh","duration","t0$1","t1$1","newInterval$1","floori","offseti","field","interval","date","ceil","d0","offset","range","previous","filter","test","every","isFinite","durationDay$1","durationWeek$1","day$1","setHours","setDate","getDate","getTimezoneOffset","weekday$1","getDay","sunday$1","monday","thursday","year$1","setMonth","setFullYear","getFullYear","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcThursday","utcYear","setUTCMonth","setUTCFullYear","getUTCFullYear","localDate","H","M","L","utcDate","UTC","newDate","locale$2","timeFormat","pads","numberRe","percentRe","requoteRe","pad","fill","sign","string","requote","replace","formatRe","names","map","formatLookup","parseWeekdayNumberSunday","w","parseWeekdayNumberMonday","parseWeekNumberSunday","U","parseWeekNumberISO","V","parseWeekNumberMonday","W","parseFullYear","parseYear","parseZone","Z","parseQuarter","parseMonthNumber","parseDayOfMonth","parseDayOfYear","parseHour24","parseMinutes","parseSeconds","parseMilliseconds","parseMicroseconds","parseLiteralPercent","parseUnixTimestamp","Q","parseUnixTimestampSeconds","formatDayOfMonth","p","formatHour24","getHours","formatHour12","formatDayOfYear","formatMilliseconds","getMilliseconds","formatMicroseconds","formatMonthNumber","getMonth","formatMinutes","getMinutes","formatSeconds","getSeconds","formatWeekdayNumberMonday","day","formatWeekNumberSunday","dISO","formatWeekNumberISO","formatWeekdayNumberSunday","formatWeekNumberMonday","formatYear","formatYearISO","formatFullYear","formatFullYearISO","formatZone","z","formatUTCDayOfMonth","formatUTCHour24","getUTCHours","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","getUTCMilliseconds","formatUTCMicroseconds","formatUTCMonthNumber","getUTCMonth","formatUTCMinutes","getUTCMinutes","formatUTCSeconds","getUTCSeconds","formatUTCWeekdayNumberMonday","dow","formatUTCWeekNumberSunday","UTCdISO","formatUTCWeekNumberISO","formatUTCWeekdayNumberSunday","formatUTCWeekNumberMonday","formatUTCYear","formatUTCYearISO","formatUTCFullYear","formatUTCFullYearISO","formatUTCZone","formatLiteralPercent","formatUnixTimestamp","formatUnixTimestampSeconds","locale","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","periodLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","utcFormats","parses","parseSpecifier","newFormat","specifier","j","charCodeAt","charAt","newParse","week","X","utcFormat","utcParse","formatLocale$2","DEFAULT_SIZE_PX","icons","normal","concat","viewBox","active","cx","cy","stroke","id","mask","acknowledged","disabled","latched","snoozed","ScChartIcon","hostRef","_classCallCheck","registerInstance","name","StatusIcon","NORMAL","_createClass","console","warn","getIcons","ScDataStreamName","_this","displayTooltip","renderTooltip","container","el","querySelector","tooltip","tippy","TIPPY_SETTINGS","content","destroy","_this2","isDisabled","isEditing","onValueChange","onNameChange","onMouseOver","onFocus","label","detailedLabel","pointType","toLocaleString","hour12","minute","hour","year","month","get","getElement","ScExpandableInput","_this3","onChange","span","target","innerText","_this$isDisabled","contentEditable","onBlur","initRange","domain","number$2","unit","identity$4","normalize","bimap","interpolate","polymap","reverse","clamp","unknown","transformer","untransform","piecewise","output","input","rescale","clamper","invert","_","from","rangeRound","continuous","formatDecimalParts$1","toExponential","indexOf","coefficient","exponent$1","prefixExponent$1","re$1","formatSpecifier$1","match","Error","FormatSpecifier$1","align","symbol","comma","precision","type","formatRounded$1","exponent","formatTypes$1","toFixed","toPrecision","toUpperCase","identity$3","locale$1","format$1","formatPrefix","map$1","prefixes$1","formatLocale$1","grouping","thousands","group","call","Number","substring","currencyPrefix","currency","currencySuffix","decimal","numerals","formatNumerals$1","String","percent","minus","nan","prefix","suffix","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","out","i1","i0","formatTrim$1","padding","tickFormat","precisionPrefix","precisionRound","precisionFixed","linearish","ticks","nice","prestep","maxIter","linear","apply","defaultLocale$1","t0","t1","newInterval","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","durationMonth","durationYear","second","weekday","sunday","_ticker","tickIntervals","tickInterval","_ref2","_slicedToArray","_tickIntervals","ticker","_ticker2","timeTicks","timeTickInterval","number$1","calendar","formatMillisecond","formatSecond","formatMinute","formatHour","formatDay","formatWeek","formatMonth","x0","x1","xhtml","namespaces","svg","xlink","xml","xmlns","namespace","space","local","creatorInherit","ownerDocument","uri","namespaceURI","creatorFixed","fullname","creator","none","selector","empty","selectorAll","querySelectorAll","matcher","matches","sparse","update","EnterNode","datum","_next","_parent","__data__","child","insertBefore","next","keyPrefix","bindIndex","enter","exit","data","node","groupLength","dataLength","bindKey","keyValue","nodeByKeyValue","keyValues","ascending","attrRemove$1","removeAttribute","attrRemoveNS$1","removeAttributeNS","attrConstant$1","attrConstantNS$1","setAttributeNS","attrFunction$1","v","attrFunctionNS$1","styleRemove$1","removeProperty","styleConstant$1","priority","setProperty","styleFunction$1","styleValue","propertyRemove","propertyConstant","propertyFunction","classArray","classList","ClassList","_node","_names","getAttribute","classedAdd","list","add","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant$1","textFunction$1","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","constantNull","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","splice","contains","filterEvents","event","mouseenter","mouseleave","filterContextListener","listener","contextListener","related","relatedTarget","compareDocumentPosition","event1","event0","onRemove","typename","on","__on","removeEventListener","capture","onAdd","wrap","addEventListener","customEvent","that","args","sourceEvent","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","root$1","Selection$1","groups","parents","_groups","_parents","selection","select","current","point","ownerSVGElement","createSVGPoint","clientX","clientY","matrixTransform","getScreenCTM","inverse","rect","getBoundingClientRect","left","clientLeft","top","clientTop","mouse","changedTouches","touch","touches","identifier","subgroups","subnode","subgroup","selectAll","each","bind","enterGroup","updateGroup","_enter","_exit","onenter","onupdate","onexit","append","merge","order","groups0","groups1","m0","merges","group0","group1","sort","compare","compareNode","sortgroups","sortgroup","callback","nodes","attr","getAttributeNS","property","classed","text","html","insert","before","deep","typenames","parseTypenames$1","dispatch","noop$2","Dispatch","get$1","set$1","nopropagation$1","stopImmediatePropagation","noevent$1","preventDefault","dragDisable","view","root","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","constant$1","DragEvent","subject","defaultFilter$1","ctrlKey","button","defaultContainer","defaultSubject","defaultTouchable$1","navigator","maxTouchPoints","types","T","taskHead","taskTail","frame","timeout$1","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","setFrame","requestAnimationFrame","clearNow","Timer","_call","_time","timer","delay","restart","wake","timerFlush","t2","sleep","nap","poke","clearTimeout","clearInterval","setInterval","timeout","elapsed","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","schedule","timing","schedules","__transition","self","tween","state","tick","ease","init","set","interrupt","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","attrRemove","attrRemoveNS","attrConstant","value1","string00","interpolate0","string1","string0","attrConstantNS","attrFunction","string10","attrFunctionNS","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Selection","styleRemove","Transition","_name","newId","selection_prototype","children","inherit","id0","id1","on0","on1","sit","onFunction","styleTween","styleNull","styleFunction","listener0","styleMaybeRemove","styleConstant","styleInterpolate","textFunction","textConstant","textTween","textInterpolate","removeFunction","easeConstant","Promise","resolve","reject","cancel","defaultTiming","constant","ZoomEvent","Transform","applyX","applyY","location","invertX","invertY","rescaleX","rescaleY","identity$2","nopropagation","noevent","defaultFilter","defaultExtent","SVGElement","hasAttribute","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","transformScales","movementOptions","_ref4","xScale","yScale","filterGestures","shiftKey","Zoom","_ref7","getContainer","zoomBehavior","touchstarting","touchending","constrain","wheelDelta","touchable","scaleExtent","listeners","touchDelay","wheelDelay","clickDistance2","zoom","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","clean","__zooming","Gesture","taps","wheel","moved","y0","k1","started","touch0","touch1","l0","l1","dp","dl","collection","scaleBy","scaleTo","translateBy","translateTo","emit","clickDistance","transitionContainer","_this4","_getTransformedDateRa","_ref6","_transformedScale$dom","_transformedScale$dom2","startTime","endTime","startDate","endDate","getTransformedDateRange","_ref8","_this$xScale$domain","_this$xScale$domain2","prevStart","prevEnd","_ref5","prevXScale","prevDates","currDates","getTime","getTransformFromDates","setTransform","_ref9","xMin","xMax","_this$getTransform","getTransform","_this$xScale$range","_this$xScale$range2","prevXMin","xRatio","MOVEMENT_CONFIG","ScGestureHandler","_this5","zoomContainer","beginBrush","_ref11","offsetX","moveBrush","_ref12","buttons","finishBrush","_ref13","startPx","endPx","initiateTransform","cancelBrush","brushTransform","_ref10","xSelectedPixelMax","xSelectedPixelMin","xScaleOriginal","timeSpan","prevTimeSpan","createBrushTransform","initialViewPort","getZoomContainer","setupZoom","newViewPort","updateViewPort","_this$size","chartWidth","chartHeight","updateSize","_this$viewport","_this$size2","_this6","_this$scales","scales","onDateRangeChange","_this$size3","y1","x2","y2","computeTrendResult","dataStream","trendType","TREND_TYPE","LINEAR","dataPoints","len","sumX","sumY","sumXX","sumXY","_dataPoints$i","run","gradient","intercept","dataStreamId","equation","linearRegression","getTrendValue","trendResult","timestamp","getTrendLabel","dataStreamName","trendTypeLabel","noop$1","ScLegend","_this7","trendResults","visualizedDataStreams","streams","isSupportedDataType","supportString","visualizesAlarms","_ref16","streamType","StreamType","ALARM","breachedThresholdColor","threshold","breachedThreshold","thresholds","icon","_this8","points","activePoints","selectedDate","allowMultipleDates","dataAlignment","DATA_ALIGNMENT","EITHER","lastDate","flexDirection","config","RIGHT","dataPoint","find","streamId","_ref17","_ref17$color","valueColor","_ref17$icon","detailedName","updateDataStreamName","showDataStreamColor","_toConsumableArray","reduce","rows","EDIT_MODE_STYLE","VIEW_MODE_STYLE","ScLegendRow","_this9","updateName","isTrendPoint","Host","dark","TREND_ICON_DASH_ARRAY","STREAM_ICON_STROKE_LINECAP","STREAM_ICON_STROKE_WIDTH","STREAM_ICON_PATH_COMMAND","Value","ScLoadingSpinner","_this$dark","in","stdDeviation","xlinkHref","ScSizeProvider","_this10","computedSize","rectPollingHandler","setRect","isConnected","newRect","rectScrollFixed","lodash_isequal","density","webGLRenderer","onResolutionChange","_this11","resizer","entries","forEach","entry","_entry$contentRect","contentRect","observe","firstElementChild","disconnect","renderFunction","renderFunc","ScTooltip","_this12","showBlankTooltipRows","sortPoints","setSelectedDate","_ref18","_this12$viewport","ratio","viewportDuration","selectedDateMS","hideTooltip","dataContainer","resolution","maxDurationFromDate","ScTooltipRow","getAggregationFrequency","LARGE_ARRAY_SIZE","HASH_UNDEFINED","funcTag","genTag","reIsHostCtor","freeGlobal","commonjsGlobal","freeSelf","Function","arrayIncludes","array","fromIndex","predicate","fromRight","baseFindIndex","baseIsNaN","baseIndexOf","arrayIncludesWith","comparator","cacheHas","cache","has","setToArray","result","arrayProto","funcProto","objectProto","coreJsData","maskSrcKey","uid","keys","IE_PROTO","funcToString","objectToString","reIsNative","Map","getNative","Set","nativeCreate","Hash","clear","ListCache","MapCache","SetCache","values","assocIndexOf","other","baseIsNative","isObject","func","pattern","tag","isFunction","isHostObject","toSource","getMapData","createSet","isKeyable","getValue","lodash_uniq","iteratee","includes","isCommon","seen","outer","computed","seenIndex","baseUniq","ScTooltipRows","_this13","tooltipHeight","numRows","rowsValueColorAndIcon","_ref26","info","getDisplayedDate","resolutions","_ref27","firstPoint","firstPointTrend","_ref28","getTooltipPoints","_ref29","minResolution","trendPoints","_ref22","displayedDate","_ref23","some","_ref24","_ref25","isDefined","trendLinePoints","tooltipPoints","sortTooltipPoints","_ref30","_this14","_ref31","isCrossResolution","_ref20","_ref20$size","selectedTimestamp","_ref19","isRaw","pointDate","utilizedTimestamp","pixelX","modelY","_ref21","isNumber","tooltipPosition","tooltipContainerTop","toolTipPositioning","displayDate","tooltipPoint","_ref32","_ref33","_ref33$color","_ref33$icon","ScWebglAxis","_this$size4","dragHandler","lodash_clonedeep","createCommonjsModule","module","exports","MAX_SAFE_INTEGER","argsTag","boolTag","dateTag","mapTag","numberTag","objectTag","promiseTag","regexpTag","setTag","stringTag","symbolTag","weakMapTag","arrayBufferTag","dataViewTag","float32Tag","float64Tag","int8Tag","int16Tag","int32Tag","uint8Tag","uint8ClampedTag","uint16Tag","uint32Tag","reFlags","reIsUint","cloneableTags","freeExports","nodeType","freeModule","moduleExports","addMapEntry","pair","addSetEntry","arrayReduce","accumulator","initAccum","mapToArray","overArg","arg","Buffer","Symbol","Uint8Array","getPrototype","getPrototypeOf","objectCreate","propertyIsEnumerable","nativeGetSymbols","getOwnPropertySymbols","nativeIsBuffer","isBuffer","nativeKeys","WeakMap","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","symbolProto","symbolValueOf","Stack","arrayLikeKeys","inherited","isObjectLike","isArrayLike","isArrayLikeObject","isArguments","baseTimes","skipIndexes","isIndex","assignValue","objValue","eq","baseClone","isDeep","isFull","customizer","stack","isArr","initCloneArray","copyArray","getTag","isFunc","buffer","cloneBuffer","isPrototype","proto","initCloneObject","copyObject","getSymbols","copySymbols","baseAssign","cloneFunc","Ctor","cloneArrayBuffer","dataView","byteOffset","byteLength","cloneDataView","typedArray","cloneTypedArray","cloneMap","regexp","cloneRegExp","cloneSet","initCloneByTag","stacked","props","keysFunc","symbolsFunc","arrayPush","baseGetAllKeys","getAllKeys","arrayEach","subValue","arrayBuffer","newValue","pairs","ctorString","isLength","baseKeys","LoadingStatus","_ref34","zIndex","justifyContent","alignItems","pointerEvents","ErrorStatus","_ref35","hasError","_ref35$size","chartLegendContainerClassName","ChartLegendContainer","_ref36","legendHeight","_ref36$size","sharedStyles","overflowY","msOverflowStyle","DataContainer","_ref37","_ref37$size","ANNOTATION_FONT_SIZE","ANNOTATION_STROKE_WIDTH","getX","_ref38","annotation","ANNOTATION_GROUP_SELECTOR$1","getY","_ref41","TEXT_SELECTOR","TEXT_VALUE_SELECTOR","ANNOTATION_GROUP_SELECTOR","ANNOTATION_GROUP_SELECTOR_EDITABLE","LINE_SELECTOR","DRAGGABLE_HANDLE_SELECTOR","ELEMENT_GROUP_SELECTOR","renderYAnnotations","_ref43","yAnnotations","_ref43$size","getGroupPosition","yAnnotation","annotationSelectionNotEditable","isEditable","annotationGroup","getColor","getValueTextVisibility","getValueText","formatText","getLabelTextVisibility","getText","withinViewport","_ref45","renderAnnotations","_ref46","annotations","onUpdate","activeViewPort","emitUpdatedWidgetConfiguration","draggable","startStopDragging","inDragState","show","_ref44","removeYAnnotations","xAnnotations","_ref39","_ref39$size","annotationSelection","getXAnnotationTextX","getValueAndText","getValueAndTextVisibility","renderXAnnotations","_ref42","_ref42$size","getYPosition","getYHandleWidth","getDraggableLineTwoX","getDraggableLineOneX","getYAnnotationHandleY","getValueFontSize","annotationSelectionEditable","annotationGroupEditable","dragHandle","handleGroup","DRAGGABLE_LINE_OFFSET_Y","renderYAnnotationsEditable","getLinearPathCommand","_ref47","_ref47$size","_ref47$viewport","startY","endY","identity$1","bottom","epsilon","number","bandwidth","entering","__axis","axis","orient","tickArguments","tickValues","tickSizeInner","tickSizeOuter","tickPadding","context","spacing","range0","range1","path","tickExit","tickEnter","line","tickSize","formatDecimalParts","prefixExponent","re","formatSpecifier","FormatSpecifier","formatRounded","formatTypes","identity","prefixes","formatLocale","formatNumerals","formatTrim","defaultLocale","DEFAULT_AXIS_OPTIONS","showX","showY","tickCount","_ref49","_ref50","xTickCount","yTickCount","Log","getTickCount","xAxisConstructor","yAxisConstructor","xAxisCall","yAxisCall","roundedMagnitude","log10","orderOfMagnitude","roundToOrderOfMagnitude","roundedY","rMag","roundUp","roundedToNearest","DEFAULT_Y_RANGE","getYRangeWithBuffers","_ref52","yValues","startFromZero","dataRange","yRange","currentY","noNegativeValues","noPositiveValues","bufferHeight","getBufferHeightByRange","UnsupportedDataTypeStatus","_ref54","supportedDataTypes","background","border","unsupportedDataTypeHeader","unsupportedDataTypeSubHeader","supportedTypes","needAxisRescale","_ref56","annotationValue","maskNonDraggedAnnotations","_ref57","currentDraggedAnnotation","attachDraggable","draggedAnnotationValue","internalUpdate","lodash_throttle","_ref58","_ref59","_ref60","mousedownx","mousedowny","mousemoving","gestures","drag","beforestart","mousemoved","mouseupped","sublisteners","annotationDragged","draggedValue","_ref55","yPos","newVal","yAxisScale","decimalDigits","calculateNewThreshold","axisRescale","getHandlePosition","ScWebglBaseChart","_this15","widgetUpdated","dateRangeChange","renderLegend","trends","displaysError","DataType","yRangeStartFromZero","isMounted","isMinimalStaticViewport","parseDuration","axisRenderer","yAxis","xAxisSeparator","xAxis","_ref51","sel","_Object$assign","labels","newContent","currentLabel","renderAxis","isDragging","dragState","getAxisContainer","axisContainer","configUpdate","internalAnnotations","configId","getDataStreamForEventing","_ref61","updatedDataStreams","_ref62","_ref63","DATE_RANGE_EMIT_EVENT_MS","leading","trailing","chartSizeConfig","chartSize","isRightLegend","isBottomLegend","handleCameraEvent","_ref64","scene","oldViewport","shouldRerenderOnViewportChange","newViewport","updateViewPorts","manager","updateYRange","_getYRange","_ref53","yDataValues","yAnnotationValues","getYRange","isNumberDataStream","stream","getVisibleData","getDataPoints","flat","isNumeric","prevYMin","prevYMax","applyYRangeChanges","camera","updateProjectionMatrix","getDataContainer","getThresholdContainer","thresholdContainer","getTrendContainer","trendContainer","getHasSupportedData","_ref65","dataType","isThreshold","getThresholdOptions","thresholdOptions","_ref66","shouldBlockDateRangeChangedEvent","hasDataChanged","hasSizeChanged","hasAnnotationChanged","shouldRerender","removeChartScene","updateAndRegisterChartScene","onUpdateLifeCycle","numberAnnotations","getNumberAnnotations","dataStreamsWithTrends","dataInViewport","_ref14","_ref15","getAllTrendResults","_ref48","_ref48$size","linearPathCommands","elt","command","linearSelection","renderTrendLines","setChartRenderingPosition","setChartRect","devicePixelRatio","minWidth","minHeight","renderTooltipComponent","renderLegendComponent","_ref67","setupChartScene","setInternalAnnotations","_ref68","oldViewPort","stopTick","startTick","newProp","oldProp","createChartScene","alarms","minBufferSize","bufferFactor","addChartScene","render","_ref69","_this16","updatedScene","updateChartScene","shouldSync","_this17","_ref70","shouldDisplayAsLoading","_ref71","ScWebglContext","canvas","initRendering","onContextInitialization","viewFrame","viewportViewFrame","Window","classes"],"sourceRoot":""}