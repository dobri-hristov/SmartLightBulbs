"use strict";(self.webpackChunksmart_light_bulbs=self.webpackChunksmart_light_bulbs||[]).push([[6170],{6170:function(e,t,i){i.r(t),i.d(t,{iot_resource_explorer:function(){return c}});var n=i(5671),s=i(3144),r=i(8427),a=i(5451),o=i(9108),d=(i(7775),i(6591),i(339),i(7142),i(8858),i(553),i(7671),i(630),i(8828),i(4540),function e(t,i,n){i.forEach((function(i){t.push(Object.assign(Object.assign({},i.asset),{hasChildren:i.hierarchies.size>0,parentId:n})),i.hierarchies.forEach((function(n){e(t,n.children,i.asset.id)}))}))}),l=function(e){var t=[];return d(t,e),t},h=[{sortingField:"name",id:"name",header:"Asset Name",cell:function(e){return e.name}},{sortingField:"status",id:"status",header:"Status",cell:function(e){var t=e.status;return null===t||void 0===t?void 0:t.state}},{sortingField:"creationDate",id:"creationDate",header:"Created",cell:function(e){var t=e.creationDate;return null===t||void 0===t?void 0:t.toUTCString()}},{sortingField:"lastUpdateDate",id:"lastUpdateDate",header:"Updated",cell:function(e){var t=e.lastUpdateDate;return null===t||void 0===t?void 0:t.toUTCString()}}],c=function(){function e(t){var i=this;(0,n.Z)(this,e),(0,r.r)(this,t),this.columnDefinitions=h,this.filterEnabled=!0,this.sortingEnabled=!0,this.paginationEnabled=!0,this.wrapLines=!1,this.widgetId=(0,o.v)(),this.expanded=!1,this.items=[],this.expandedItems={},this.errors=[],this.defaults={selectionType:"single",loadingText:"loading...",filterText:{placeholder:"Filter by name",empty:"No assets found.",noMatch:"We can't find a match."},empty:{header:"No assets",description:"You don't have any asset."}},this.expandNode=function(e){var t;null===(t=e.hierarchies)||void 0===t||t.forEach((function(t){i.provider.expand(new a.B(e.id,t.id))}))}}return(0,s.Z)(e,[{key:"buildProvider",value:function(){return this.query.build(this.widgetId)}},{key:"componentWillLoad",value:function(){var e=this;this.provider=this.buildProvider(),this.provider.subscribe({next:function(t){e.items=l(t)},error:function(t){e.errors=t}})}},{key:"componentWillUnmount",value:function(){this.provider.unsubscribe()}},{key:"watchItems",value:function(e){var t=this;if(this.expanded){var i={};e.forEach((function(e){var n=e.id,s=e.hierarchies,r=e.hasChildren;!t.expandedItems[n]&&r&&(null===s||void 0===s||s.forEach((function(e){t.provider.expand(new a.B(n,e.id))})),i[n]=!0)})),this.expandedItems=Object.assign(Object.assign({},this.expandedItems),i)}}},{key:"render",value:function(){var e,t=this.filterEnabled?this.filterTexts||this.defaults.filterText:void 0,i={columnDefinitions:this.columnDefinitions,keyPropertyName:"id",parentKeyPropertyName:"parentId",selection:{keepSelection:!0},sorting:{defaultState:{sortingColumn:{sortingField:"name"},isDescending:!0}},filtering:t};this.paginationEnabled&&(i.pagination={pageSize:20});var n=this.defaults.empty;return this.empty&&(n=this.empty),this.errors.length>0&&(n={header:"Error",description:null===(e=this.errors[this.errors.length-1])||void 0===e?void 0:e.msg}),(0,r.h)("iot-tree-table",{items:this.items,collectionOptions:i,columnDefinitions:this.columnDefinitions,selectionType:this.selectionType||this.defaults.selectionType,loadingText:this.loadingText||this.defaults.loadingText,filterPlaceholder:null===t||void 0===t?void 0:t.placeholder,onExpandChildren:this.expandNode,onSelectionChange:this.onSelectionChange,empty:n,sortingDisabled:!this.sortingEnabled,wrapLines:this.wrapLines,expanded:this.expanded})}}],[{key:"watchers",get:function(){return{items:["watchItems"]}}}]),e}()}}]);
//# sourceMappingURL=6170.7ea94d27.chunk.js.map