"use strict";(self.webpackChunksmart_light_bulbs=self.webpackChunksmart_light_bulbs||[]).push([[5451],{5451:function(e,t,n){n.d(t,{B:function(){return uf},i:function(){return ap},t:function(){return Fd}});var r,i,o,a,s,u,c,l,d,f,p,h,v,y,m,g,b,w,E,S,x,A,_,I,k,Z,T,P,R=n(4506),O=n(5987),M=n(4942),C=n(7326),D=n(8737),N=n(3433),L=n(1413),F=n(9439),j=n(4165),U=n(5861),q=n(7762),B=n(5671),H=n(3144),z=n(1752),V=n(1120),W=n(136),G=n(7277),K=n(7775),$=n(6591),Q=(n(339),n(7142),n(7671),n(630)),Y=n(8828),J=n(4540),X=n(9108),ee=["$metadata"],te=["headers","query"],ne=["assign"];var re=Object.freeze({__proto__:null,fromUtf8:function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},toUtf8:function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}}),ie={};var oe=Object.freeze({__proto__:null,locateWindow:function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:ie}}),ae=(0,Y.g)(re),se=(0,Y.g)(oe),ue=(0,Y.c)((function(e,t){Y.b,e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var l=s.default.find(a,(function(e){return t.isPlatform(e)}));if(l){var d=this.satisfies(n[l]);if(void 0!==d)return d}}if(o>0){var f=Object.keys(i),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=c,e.exports=t.default},92:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})})),ce=(0,Y.a)(ue),le=(0,Q.a)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),de=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(){var e;return(0,B.Z)(this,n),(e=t.call(this)).closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return(0,H.Z)(n,[{key:"lift",value:function(e){var t=new fe(this,this);return t.operator=e,t}},{key:"_throwIfClosed",value:function(){if(this.closed)throw new le}},{key:"next",value:function(e){var t=this;(0,Q.e)((function(){if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));var n,r=(0,q.Z)(t.currentObservers);try{for(r.s();!(n=r.n()).done;){n.value.next(e)}}catch(i){r.e(i)}finally{r.f()}}}))}},{key:"error",value:function(e){var t=this;(0,Q.e)((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))}},{key:"complete",value:function(){var e=this;(0,Q.e)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))}},{key:"unsubscribe",value:function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}},{key:"observed",get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}},{key:"_trySubscribe",value:function(e){return this._throwIfClosed(),(0,z.Z)((0,V.Z)(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}},{key:"_innerSubscribe",value:function(e){var t=this,n=this.hasError,r=this.isStopped,i=this.observers;return n||r?Q.E:(this.currentObservers=null,i.push(e),new Q.S((function(){t.currentObservers=null,(0,Q.b)(i,e)})))}},{key:"_checkFinalizedStatuses",value:function(e){var t=this.hasError,n=this.thrownError,r=this.isStopped;t?e.error(n):r&&e.complete()}},{key:"asObservable",value:function(){var e=new Q.O;return e.source=this,e}}]),n}(Q.O);de.create=function(e,t){return new fe(e,t)};var fe=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e,r){var i;return(0,B.Z)(this,n),(i=t.call(this)).destination=e,i.source=r,i}return(0,H.Z)(n,[{key:"next",value:function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)}},{key:"error",value:function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)}},{key:"complete",value:function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}},{key:"_subscribe",value:function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:Q.E}}]),n}(de),pe=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this))._value=e,r}return(0,H.Z)(n,[{key:"value",get:function(){return this.getValue()}},{key:"_subscribe",value:function(e){var t=(0,z.Z)((0,V.Z)(n.prototype),"_subscribe",this).call(this,e);return!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){var e=this.hasError,t=this.thrownError,n=this._value;if(e)throw t;return this._throwIfClosed(),n}},{key:"next",value:function(e){(0,z.Z)((0,V.Z)(n.prototype),"next",this).call(this,this._value=e)}}]),n}(de),he={now:function(){return(he.delegate||Date).now()},delegate:void 0},ve=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he;return(0,B.Z)(this,n),(e=t.call(this))._bufferSize=r,e._windowTime=i,e._timestampProvider=o,e._buffer=[],e._infiniteTimeWindow=!0,e._infiniteTimeWindow=i===1/0,e._bufferSize=Math.max(1,r),e._windowTime=Math.max(1,i),e}return(0,H.Z)(n,[{key:"next",value:function(e){var t=this.isStopped,r=this._buffer,i=this._infiniteTimeWindow,o=this._timestampProvider,a=this._windowTime;t||(r.push(e),!i&&r.push(o.now()+a)),this._trimBuffer(),(0,z.Z)((0,V.Z)(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t}},{key:"_trimBuffer",value:function(){var e=this._bufferSize,t=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,i=(r?1:2)*e;if(e<1/0&&i<n.length&&n.splice(0,n.length-i),!r){for(var o=t.now(),a=0,s=1;s<n.length&&n[s]<=o;s+=2)a=s;a&&n.splice(0,a+1)}}}]),n}(de),ye=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e,r){return(0,B.Z)(this,n),t.call(this)}return(0,H.Z)(n,[{key:"schedule",value:function(e){return this}}]),n}(Q.S),me={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){for(var n=me.delegate,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return(null===n||void 0===n?void 0:n.setInterval)?n.setInterval.apply(n,[e,t].concat(i)):setInterval.apply(void 0,[e,t].concat(i))})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){var t=me.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)})),delegate:void 0},ge=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e,r){var i;return(0,B.Z)(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return(0,H.Z)(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return me.setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!=n&&this.delay===n&&!1===this.pending)return t;me.clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n,r=!1;try{this.work(e)}catch(bl){r=!0,n=bl||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n}},{key:"unsubscribe",value:function(){if(!this.closed){var e=this.id,t=this.scheduler,r=t.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Q.b)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,(0,z.Z)((0,V.Z)(n.prototype),"unsubscribe",this).call(this)}}}]),n}(ye),be=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;(0,B.Z)(this,e),this.schedulerActionCtor=t,this.now=n}return(0,H.Z)(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.schedulerActionCtor(this,e).schedule(n,t)}}]),e}();be.now=he.now;var we=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be.now;return(0,B.Z)(this,n),(r=t.call(this,e,i)).actions=[],r._active=!1,r._scheduled=void 0,r}return(0,H.Z)(n,[{key:"flush",value:function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(be),Ee=new we(ge),Se=new Q.O((function(e){return e.complete()})),xe=(0,Q.a)((function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}}));function Ae(e,t){var n="object"===typeof t;return new Promise((function(r,i){var o,a=!1;e.subscribe({next:function(e){o=e,a=!0},error:i,complete:function(){a?r(o):n?r(t.defaultValue):i(new xe)}})}))}function _e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,n=arguments.length>2?arguments[2]:void 0;return t=(t||0)<1?1/0:t,(0,Q.o)((function(r,i){return(0,Q.m)(r,i,e,t,void 0,!0,n)}))}var Ie=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(null===t||void 0===t?void 0:t.Bucket)||"","string"===typeof t.Bucket&&(t.Bucket=n.replace(/#/g,encodeURIComponent("#")).replace(/\?/g,encodeURIComponent("?"))),!Re(n)){e.next=7;break}if(!0!==t.ForcePathStyle){e.next=5;break}throw new Error("Path-style addressing cannot be used with ARN buckets");case 5:e.next=8;break;case 7:(!Pe(n)||-1!==n.indexOf(".")&&!String(t.Endpoint).startsWith("http:")||n.toLowerCase()!==n||n.length<3)&&(t.ForcePathStyle=!0);case 8:return t.DisableMultiRegionAccessPoints&&(t.disableMultiRegionAccessPoints=!0,t.DisableMRAP=!0),e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ke=/^[a-z0-9][a-z0-9\.\-]{1,61}[a-z0-9]$/,Ze=/(\d+\.){3}\d+/,Te=/\.\./,Pe=function(e){return ke.test(e)&&!Ze.test(e)&&!Te.test(e)},Re=function(e){var t=e.split(":"),n=(0,F.Z)(t,6),r=n[0],i=n[1],o=n[2],a=(n[3],n[4]),s=n[5],u="arn"===r&&e.split(":").length>=6,c=5===[r,i,o,a,s].filter(Boolean).length;if(u&&!c)throw new Error("Invalid ARN: ".concat(e," was an invalid ARN."));return"arn"===r&&!!i&&!!o&&!!a&&!!s},Oe=function(e,t,n){var r=function(){var r=(0,U.Z)((0,j.Z)().mark((function r(){var i,o;return(0,j.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if("function"!==typeof(o=null!==(i=n[e])&&void 0!==i?i:n[t])){r.next=3;break}return r.abrupt("return",o());case 3:return r.abrupt("return",o);case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}();return"endpoint"===e||"endpoint"===t?(0,U.Z)((0,j.Z)().mark((function e(){var t,n,i,o,a;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:if(!(t=e.sent)||"object"!==typeof t){e.next=9;break}if(!("url"in t)){e.next=6;break}return e.abrupt("return",t.url.href);case 6:if(!("hostname"in t)){e.next=9;break}return n=t.protocol,i=t.hostname,o=t.port,a=t.path,e.abrupt("return","".concat(n,"//").concat(i).concat(o?":"+o:"").concat(a));case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e)}))):r},Me=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n,r,i){var o,a;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ce(t,n,r);case 2:if(o=e.sent,"function"===typeof r.endpointProvider){e.next=5;break}throw new Error("config.endpointProvider is not set.");case 5:return a=r.endpointProvider(o,i),e.abrupt("return",a);case 7:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),Ce=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n,r){var i,o,a,s,u,c,l,d;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o={},a=(null===n||void 0===n||null===(i=n.getEndpointParameterInstructions)||void 0===i?void 0:i.call(n))||{},s=0,u=Object.entries(a);case 3:if(!(s<u.length)){e.next=20;break}c=(0,F.Z)(u[s],2),l=c[0],d=c[1],e.t0=d.type,e.next="staticContextParams"===e.t0?8:"contextParams"===e.t0?10:"clientContextParams"===e.t0||"builtInParams"===e.t0?12:16;break;case 8:return o[l]=d.value,e.abrupt("break",17);case 10:return o[l]=t[d.name],e.abrupt("break",17);case 12:return e.next=14,Oe(d.name,l,r)();case 14:return o[l]=e.sent,e.abrupt("break",17);case 16:throw new Error("Unrecognized endpoint parameter instruction: "+JSON.stringify(d));case 17:s++,e.next=3;break;case 20:if(0===Object.keys(a).length&&Object.assign(o,r),"s3"!==String(r.serviceId).toLowerCase()){e.next=24;break}return e.next=24,Ie(o);case 24:return e.abrupt("return",o);case 25:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();var De=function e(t){if("string"===typeof t)return e(new URL(t));var n,r=t.hostname,i=t.pathname,o=t.port,a=t.protocol,s=t.search;return s&&(n=function(e){var t={};if(e=e.replace(/^\?/,"")){var n,r=(0,q.Z)(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value.split("="),o=(0,F.Z)(i,2),a=o[0],s=o[1],u=void 0===s?null:s;a=decodeURIComponent(a),u&&(u=decodeURIComponent(u)),a in t?Array.isArray(t[a])?t[a].push(u):t[a]=[t[a],u]:t[a]=u}}catch(c){r.e(c)}finally{r.f()}}return t}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:n}},Ne=function(e){return"object"===typeof e?"url"in e?De(e.url):e:De(e)},Le={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Fe={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function je(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(){var r=(0,U.Z)((0,j.Z)().mark((function r(i){var o,a,s;return(0,j.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,n(i);case 2:return o=r.sent,a=o.response,r.prev=4,r.next=7,t(a,e);case 7:return s=r.sent,r.abrupt("return",{response:a,output:s});case 11:throw r.prev=11,r.t0=r.catch(4),Object.defineProperty(r.t0,"$response",{value:a}),r.t0;case 15:case"end":return r.stop()}}),r,null,[[4,11]])})));return function(e){return r.apply(this,arguments)}}()}}(e,n),Le),r.add(function(e,t){return function(n,r){return function(){var i=(0,U.Z)((0,j.Z)().mark((function i(o){var a,s,u;return(0,j.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=null!==(a=r.endpointV2)&&void 0!==a&&a.url&&e.urlParser?(0,U.Z)((0,j.Z)().mark((function t(){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.urlParser(r.endpointV2.url));case 1:case"end":return t.stop()}}),t)}))):e.endpoint){i.next=3;break}throw new Error("No valid endpoint provider available.");case 3:return i.next=5,t(o.input,(0,L.Z)((0,L.Z)({},e),{},{endpoint:s}));case 5:return u=i.sent,i.abrupt("return",n((0,L.Z)((0,L.Z)({},o),{},{request:u})));case 7:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}}(e,t),Fe)}}}var Ue={step:"serialize",tags:["ENDPOINT_PARAMETERS","ENDPOINT_V2","ENDPOINT"],name:"endpointV2Middleware",override:!0,relation:"before",toMiddleware:Fe.name},qe=function(e,t){return{applyToStack:function(n){n.addRelativeTo(function(e){var t=e.config,n=e.instructions;return function(e,r){return function(){var i=(0,U.Z)((0,j.Z)().mark((function i(o){var a,s,u,c;return(0,j.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Me(o.input,{getEndpointParameterInstructions:function(){return n}},(0,L.Z)({},t),r);case 2:return u=i.sent,r.endpointV2=u,r.authSchemes=null===(a=u.properties)||void 0===a?void 0:a.authSchemes,(c=null===(s=r.authSchemes)||void 0===s?void 0:s[0])&&(r.signing_region=c.signingRegion,r.signing_service=c.signingName),i.abrupt("return",e((0,L.Z)({},o)));case 8:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()}}({config:e,instructions:t}),Ue)}}},Be=function(e){if("function"===typeof e)return e;var t=Promise.resolve(e);return function(){return t}},He=function(e){var t,n,r,i=null===(t=e.tls)||void 0===t||t,o=e.endpoint,a=null!=o?(0,U.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Ne,e.next=3,Be(o)();case 3:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 5:case"end":return e.stop()}}),e)}))):void 0,s=!!o;return(0,L.Z)((0,L.Z)({},e),{},{endpoint:a,tls:i,isCustomEndpoint:s,useDualstackEndpoint:Be(null!==(n=e.useDualstackEndpoint)&&void 0!==n&&n),useFipsEndpoint:Be(null!==(r=e.useFipsEndpoint)&&void 0!==r&&r)})},ze=function(){function e(){(0,B.Z)(this,e)}return(0,H.Z)(e,[{key:"trace",value:function(){}},{key:"debug",value:function(){}},{key:"info",value:function(){}},{key:"warn",value:function(){}},{key:"error",value:function(){}}]),e}(),Ve=function e(){var t=[],n=[],r=new Set,i=function(e){return t.forEach((function(t){e.add(t.middleware,(0,L.Z)({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,(0,L.Z)({},t))})),e},o=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,N.Z)(e(t)))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,N.Z)(e(t)))})),n},a=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=[],i=[],a={};t.forEach((function(e){var t=(0,L.Z)((0,L.Z)({},e),{},{before:[],after:[]});t.name&&(a[t.name]=t),r.push(t)})),n.forEach((function(e){var t=(0,L.Z)((0,L.Z)({},e),{},{before:[],after:[]});t.name&&(a[t.name]=t),i.push(t)})),i.forEach((function(t){if(t.toMiddleware){var n=a[t.toMiddleware];if(void 0===n){if(e)return;throw new Error("".concat(t.toMiddleware," is not found when adding ").concat(t.name||"anonymous"," middleware ").concat(t.relation," ").concat(t.toMiddleware))}"after"===t.relation&&n.after.push(t),"before"===t.relation&&n.before.push(t)}}));var s,u=(s=r,s.sort((function(e,t){return We[t.step]-We[e.step]||Ge[t.priority||"normal"]-Ge[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,(0,N.Z)(t)),e}),[]);return u},s={add:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.name,o=n.override,a=(0,L.Z)({step:"initialize",priority:"normal",middleware:e},n);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'.concat(i,'" middleware with ').concat(u.priority," priority in ").concat(u.step," step cannot be ")+"overridden by same-name middleware with ".concat(a.priority," priority in ").concat(a.step," step."));t.splice(s,1)}r.add(i)}t.push(a)},addRelativeTo:function(e,t){var i=t.name,o=t.override,a=(0,L.Z)({middleware:e},t);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '".concat(i,"'"));var s=n.findIndex((function(e){return e.name===i})),u=n[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'.concat(i,'" middleware ').concat(u.relation,' "').concat(u.toMiddleware,'" middleware cannot be overridden ')+"by same-name middleware ".concat(a.relation,' "').concat(a.toMiddleware,'" middleware.'));n.splice(s,1)}r.add(i)}n.push(a)},clone:function(){return i(e())},use:function(e){e.applyToStack(s)},remove:function(e){return"string"===typeof e?function(e){var i=!1,o=function(t){return!t.name||t.name!==e||(i=!0,r.delete(e),!1)};return t=t.filter(o),n=n.filter(o),i}(e):function(e){var i=!1,o=function(t){return t.middleware!==e||(i=!0,t.name&&r.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),i}(e)},removeByTag:function(e){var i=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&r.delete(o),i=!0,!1)};return t=t.filter(o),n=n.filter(o),i},concat:function(t){var n=i(e());return n.use(t),n},applyToStack:i,identify:function(){return a(!0).map((function(e){return e.name+": "+(e.tags||[]).join(",")}))},resolve:function(e,t){var n,r=(0,q.Z)(a().map((function(e){return e.middleware})).reverse());try{for(r.s();!(n=r.n()).done;){e=(0,n.value)(e,t)}}catch(i){r.e(i)}finally{r.f()}return e}};return s},We={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},Ge={high:3,normal:2,low:1},Ke=function(){function e(t){(0,B.Z)(this,e),this.middlewareStack=Ve(),this.config=t}return(0,H.Z)(e,[{key:"send",value:function(e,t,n){var r="function"!==typeof t?t:void 0,i="function"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))}},{key:"destroy",value:function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()}}]),e}(),$e=(0,H.Z)((function e(){(0,B.Z)(this,e),this.middlewareStack=Ve()})),Qe=function(e){if(null!==e&&void 0!==e){if("number"===typeof e){if(0!==e&&1!==e||lt.warn(ct("Expected boolean, got ".concat(typeof e,": ").concat(e))),0===e)return!1;if(1===e)return!0}if("string"===typeof e){var t=e.toLowerCase();if("false"!==t&&"true"!==t||lt.warn(ct("Expected boolean, got ".concat(typeof e,": ").concat(e))),"false"===t)return!1;if("true"===t)return!0}if("boolean"===typeof e)return e;throw new TypeError("Expected boolean, got ".concat(typeof e,": ").concat(e))}},Ye=function(e){if(null!==e&&void 0!==e){if("string"===typeof e){var t=parseFloat(e);if(!Number.isNaN(t))return String(t)!==String(e)&&lt.warn(ct("Expected number but observed string: ".concat(e))),t}if("number"===typeof e)return e;throw new TypeError("Expected number, got ".concat(typeof e,": ").concat(e))}},Je=function(e){if(null!==e&&void 0!==e){if(Number.isInteger(e)&&!Number.isNaN(e))return e;throw new TypeError("Expected integer, got ".concat(typeof e,": ").concat(e))}},Xe=function(e){return et(e,32)},et=function(e,t){var n=Je(e);if(void 0!==n&&tt(n,t)!==n)throw new TypeError("Expected ".concat(t,"-bit integer, got ").concat(e));return n},tt=function(e,t){switch(t){case 32:return Int32Array.of(e)[0];case 16:return Int16Array.of(e)[0];case 8:return Int8Array.of(e)[0]}},nt=function(e,t){if(null===e||void 0===e){if(t)throw new TypeError("Expected a non-null value for ".concat(t));throw new TypeError("Expected a non-null value")}return e},rt=function(e){if(null!==e&&void 0!==e){if("object"===typeof e&&!Array.isArray(e))return e;var t=Array.isArray(e)?"array":typeof e;throw new TypeError("Expected object, got ".concat(t,": ").concat(e))}},it=function(e){if(null!==e&&void 0!==e){if("string"===typeof e)return e;if(["boolean","number","bigint"].includes(typeof e))return lt.warn(ct("Expected string, got ".concat(typeof e,": ").concat(e))),String(e);throw new TypeError("Expected string, got ".concat(typeof e,": ").concat(e))}},ot=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,at=function(e){var t=e.match(ot);if(null===t||t[0].length!==e.length)throw new TypeError("Expected real number, got implicit NaN");return parseFloat(e)},st=function(e){return"string"==typeof e?ut(e):Ye(e)},ut=function(e){switch(e){case"NaN":return NaN;case"Infinity":return 1/0;case"-Infinity":return-1/0;default:throw new Error("Unable to parse float value: ".concat(e))}},ct=function(e){return String(new TypeError(e).stack||e).split("\n").slice(0,5).filter((function(e){return!e.includes("stackTraceWarning")})).join("\n")},lt={warn:console.warn},dt=function(e){if(null!==e&&void 0!==e){var t;if("number"===typeof e)t=e;else{if("string"!==typeof e)throw new TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");t=function(e){return Ye("string"==typeof e?at(e):e)}(e)}if(Number.isNaN(t)||t===1/0||t===-1/0)throw new TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*t))}},ft=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),r=t.call(this,e.message),Object.setPrototypeOf((0,C.Z)(r),n.prototype),r.name=e.name,r.$fault=e.$fault,r.$metadata=e.$metadata,r}return(0,H.Z)(n)}((0,D.Z)(Error)),pt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(t).filter((function(e){return void 0!==(0,F.Z)(e,2)[1]})).forEach((function(t){var n=(0,F.Z)(t,2),r=n[0],i=n[1];void 0!=e[r]&&""!==e[r]||(e[r]=i)}));var n=e.message||e.Message||"UnknownError";return e.message=n,delete e.Message,e},ht=function(e){var t=e.output,n=e.parsedBody,r=e.exceptionCtor,i=e.errorCode,o=vt(t),a=o.httpStatusCode?o.httpStatusCode+"":void 0,s=new r({name:(null===n||void 0===n?void 0:n.code)||(null===n||void 0===n?void 0:n.Code)||i||a||"UnknownError",$fault:"client",$metadata:o});throw pt(s,n)},vt=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},yt=function(e){switch(e){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}};function mt(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}var gt=function(){var e=Object.getPrototypeOf(this).constructor,t=new(Function.bind.apply(String,[null].concat(Array.prototype.slice.call(arguments))));return Object.setPrototypeOf(t,e.prototype),t};function bt(e,t,n){var r,i;if("undefined"===typeof t&&"undefined"===typeof n)r={},i=e;else{if(r=e,"function"===typeof t)return Mt(r,t,i=n);i=t}for(var o=0,a=Object.keys(i);o<a.length;o++){var s=a[o];if(Array.isArray(i[s])){var u=(0,F.Z)(i[s],2),c=u[0],l=u[1];if("function"===typeof l){var d=void 0,f=void 0===c&&null!=(d=l()),p="function"===typeof c&&!!c(void 0)||"function"!==typeof c&&!!c;f?r[s]=d:p&&(r[s]=l())}else{var h=void 0===c&&null!=l,v="function"===typeof c&&!!c(l)||"function"!==typeof c&&!!c;(h||v)&&(r[s]=l)}}else r[s]=i[s]}return r}gt.prototype=Object.create(String.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(gt,String);var wt,Et,St,xt,At,_t,It,kt,Zt,Tt,Pt,Rt,Ot,Mt=function(e,t,n){return bt(e,Object.entries(n).reduce((function(e,n){var r=(0,F.Z)(n,2),i=r[0],o=r[1];return Array.isArray(o)?e[i]=o:e[i]="function"===typeof o?[t,o()]:[t,o],e}),{}))},Ct=function(e,t,n,r,i,o){if(null==t||void 0===t[n])throw new Error("No value provided for input HTTP label: "+n+".");var a=r();if(a.length<=0)throw new Error("Empty value provided for input HTTP label: "+n+".");return e=e.replace(i,o?a.split("/").map((function(e){return mt(e)})).join("/"):mt(a))},Dt=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(ft);!function(e){e.ADMINISTRATOR="ADMINISTRATOR",e.VIEWER="VIEWER"}(wt||(wt={})),function(e){e.BAD="BAD",e.GOOD="GOOD",e.UNCERTAIN="UNCERTAIN"}(Et||(Et={})),function(e){e.AVERAGE="AVERAGE",e.COUNT="COUNT",e.MAXIMUM="MAXIMUM",e.MINIMUM="MINIMUM",e.STANDARD_DEVIATION="STANDARD_DEVIATION",e.SUM="SUM"}(St||(St={})),function(e){e.BOOLEAN="BOOLEAN",e.DOUBLE="DOUBLE",e.INTEGER="INTEGER",e.STRING="STRING",e.STRUCT="STRUCT"}(xt||(xt={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(At||(At={})),function(e){e.INTERNAL_FAILURE="INTERNAL_FAILURE"}(_t||(_t={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(It||(It={})),function(e){e.CLOUD="CLOUD",e.EDGE="EDGE"}(kt||(kt={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.FAILED="FAILED",e.PROPAGATING="PROPAGATING",e.UPDATING="UPDATING"}(Zt||(Zt={})),function(e){e.INTERNAL_FAILURE="INTERNAL_FAILURE",e.VALIDATION_ERROR="VALIDATION_ERROR"}(Tt||(Tt={})),function(e){e.INCOMPATIBLE_COMPUTE_LOCATION="INCOMPATIBLE_COMPUTE_LOCATION",e.INCOMPATIBLE_FORWARDING_CONFIGURATION="INCOMPATIBLE_FORWARDING_CONFIGURATION"}(Pt||(Pt={})),function(e){e.HIERARCHY="HIERARCHY"}(Rt||(Rt={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.FAILED="FAILED",e.UPDATING="UPDATING"}(Ot||(Ot={}));var Nt,Lt,Ft,jt,Ut=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"InternalFailureException",$fault:"server"},e))).name="InternalFailureException",r.$fault="server",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(Dt),qt=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"InvalidRequestException",$fault:"client"},e))).name="InvalidRequestException",r.$fault="client",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(Dt),Bt=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"ResourceNotFoundException",$fault:"client"},e))).name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(Dt),Ht=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"ThrottlingException",$fault:"client"},e))).name="ThrottlingException",r.$fault="client",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(Dt);!function(e){e.IAM="IAM",e.SSO="SSO"}(Nt||(Nt={})),function(e){e.ASCENDING="ASCENDING",e.DESCENDING="DESCENDING"}(Lt||(Lt={})),function(e){e.AccessDeniedException="AccessDeniedException",e.InvalidRequestException="InvalidRequestException",e.ResourceNotFoundException="ResourceNotFoundException"}(Ft||(Ft={})),function(e){e.ERROR="ERROR",e.SUCCESS="SUCCESS"}(jt||(jt={}));var zt,Vt,Wt,Gt,Kt,$t,Qt,Yt,Jt,Xt,en,tn,nn,rn,on,an,sn,un,cn,ln,dn,fn,pn,hn=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"ServiceUnavailableException",$fault:"server"},e))).name="ServiceUnavailableException",r.$fault="server",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(Dt);!function(e){e.AccessDeniedException="AccessDeniedException",e.InvalidRequestException="InvalidRequestException",e.ResourceNotFoundException="ResourceNotFoundException"}(zt||(zt={})),function(e){e.AccessDeniedException="AccessDeniedException",e.InvalidRequestException="InvalidRequestException",e.ResourceNotFoundException="ResourceNotFoundException"}(Vt||(Vt={})),function(e){e.AccessDeniedException="AccessDeniedException",e.ConflictingOperationException="ConflictingOperationException",e.InternalFailureException="InternalFailureException",e.InvalidRequestException="InvalidRequestException",e.LimitExceededException="LimitExceededException",e.ResourceNotFoundException="ResourceNotFoundException",e.ServiceUnavailableException="ServiceUnavailableException",e.ThrottlingException="ThrottlingException",e.TimestampOutOfRangeException="TimestampOutOfRangeException"}(Wt||(Wt={})),function(e){e.ALIAS="ALIAS",e.ASSET_ID="ASSET_ID",e.DATA_TYPE="DATA_TYPE",e.PROPERTY_ID="PROPERTY_ID",e.QUALITY="QUALITY",e.TIMESTAMP_NANO_OFFSET="TIMESTAMP_NANO_OFFSET",e.TIMESTAMP_SECONDS="TIMESTAMP_SECONDS",e.VALUE="VALUE"}(Gt||(Gt={})),function(e){e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.COMPLETED_WITH_FAILURES="COMPLETED_WITH_FAILURES",e.FAILED="FAILED",e.PENDING="PENDING",e.RUNNING="RUNNING"}(Kt||(Kt={})),function(e){e.PNG="PNG"}($t||($t={})),function(e){e.INTERNAL_FAILURE="INTERNAL_FAILURE",e.LIMIT_EXCEEDED="LIMIT_EXCEEDED",e.VALIDATION_ERROR="VALIDATION_ERROR"}(Qt||(Qt={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.FAILED="FAILED",e.UPDATING="UPDATING"}(Yt||(Yt={})),function(e){e.ACTIVE="ACTIVE",e.UPDATE_FAILED="UPDATE_FAILED",e.UPDATE_IN_PROGRESS="UPDATE_IN_PROGRESS"}(Jt||(Jt={})),function(e){e.KMS_BASED_ENCRYPTION="KMS_BASED_ENCRYPTION",e.SITEWISE_DEFAULT_ENCRYPTION="SITEWISE_DEFAULT_ENCRYPTION"}(Xt||(Xt={})),function(e){e.IN_SYNC="IN_SYNC",e.OUT_OF_SYNC="OUT_OF_SYNC",e.SYNC_FAILED="SYNC_FAILED",e.UNKNOWN="UNKNOWN"}(en||(en={})),function(e){e.ERROR="ERROR",e.INFO="INFO",e.OFF="OFF"}(tn||(tn={})),function(e){e.DISABLED="DISABLED",e.ENABLED="ENABLED"}(nn||(nn={})),function(e){e.MULTI_LAYER_STORAGE="MULTI_LAYER_STORAGE",e.SITEWISE_DEFAULT_STORAGE="SITEWISE_DEFAULT_STORAGE"}(rn||(rn={})),function(e){e.GROUP="GROUP",e.IAM="IAM",e.USER="USER"}(on||(on={})),function(e){e.PORTAL="PORTAL",e.PROJECT="PROJECT"}(an||(an={})),function(e){e.ALL="ALL",e.BASE="BASE"}(sn||(sn={})),function(e){e.ALL="ALL",e.BASE="BASE"}(un||(un={})),function(e){e.PATH_TO_ROOT="PATH_TO_ROOT"}(cn||(cn={})),function(e){e.ALL="ALL",e.TOP_LEVEL="TOP_LEVEL"}(ln||(ln={})),function(e){e.CHILD="CHILD",e.PARENT="PARENT"}(dn||(dn={})),function(e){e.ALL="ALL",e.CANCELLED="CANCELLED",e.COMPLETED="COMPLETED",e.COMPLETED_WITH_FAILURES="COMPLETED_WITH_FAILURES",e.FAILED="FAILED",e.PENDING="PENDING",e.RUNNING="RUNNING"}(fn||(fn={})),function(e){e.ASSOCIATED="ASSOCIATED",e.DISASSOCIATED="DISASSOCIATED"}(pn||(pn={}));var vn,yn=function(e){return(0,L.Z)({},e)},mn=function(e){return(0,L.Z)({},e)},gn=function(e){return(0,L.Z)({},e)},bn=function(e){return(0,L.Z)({},e)},wn=function(e){return(0,L.Z)({},e)},En=function(e){return(0,L.Z)({},e)},Sn=function(e){return(0,L.Z)({},e)},xn=function(e){return(0,L.Z)({},e)},An=function(e){return(0,L.Z)({},e)},_n=function(e){return(0,L.Z)({},e)},In=function(e){return(0,L.Z)({},e)},kn=function(e){return(0,L.Z)({},e)},Zn=function(e){return(0,L.Z)({},e)},Tn=function(e){return(0,L.Z)({},e)},Pn=function(e){return(0,L.Z)({},e)},Rn=function(e){return(0,L.Z)({},e)},On=function(e){return(0,L.Z)({},e)},Mn=function(e){return(0,L.Z)({},e)},Cn=function(e){return(0,L.Z)({},e)},Dn=function(e){return(0,L.Z)({},e)};!function(e){e[e.HEADER=0]="HEADER",e[e.TRAILER=1]="TRAILER"}(vn||(vn={}));var Nn=function(){function e(t){(0,B.Z)(this,e),this.method=t.method||"GET",this.hostname=t.hostname||"localhost",this.port=t.port,this.query=t.query||{},this.headers=t.headers||{},this.body=t.body,this.protocol=t.protocol?":"!==t.protocol.slice(-1)?"".concat(t.protocol,":"):t.protocol:"https:",this.path=t.path?"/"!==t.path.charAt(0)?"/".concat(t.path):t.path:"/"}return(0,H.Z)(e,[{key:"clone",value:function(){var t,n=new e((0,L.Z)((0,L.Z)({},this),{},{headers:(0,L.Z)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r=t[n];return(0,L.Z)((0,L.Z)({},e),{},(0,M.Z)({},n,Array.isArray(r)?(0,N.Z)(r):r))}),{}))),n}}],[{key:"isInstance",value:function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers}}]),e}();var Ln=function(){function e(t){(0,B.Z)(this,e),this.statusCode=t.statusCode,this.headers=t.headers||{},this.body=t.body}return(0,H.Z)(e,null,[{key:"isInstance",value:function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers}}]),e}();function Fn(e){return/^[a-z0-9][a-z0-9\.\-]*[a-z0-9]$/.test(e)}var jn,Un=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={"content-type":"application/json"},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/properties/batch/aggregates",l=JSON.stringify((0,L.Z)((0,L.Z)((0,L.Z)({},null!=t.entries&&{entries:xr(t.entries)}),null!=t.maxResults&&{maxResults:t.maxResults}),null!=t.nextToken&&{nextToken:t.nextToken})),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="data."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"POST",headers:u,path:c,body:l}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={"content-type":"application/json"},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/properties/batch/latest",l=JSON.stringify((0,L.Z)((0,L.Z)({},null!=t.entries&&{entries:_r(t.entries)}),null!=t.nextToken&&{nextToken:t.nextToken})),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="data."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"POST",headers:u,path:c,body:l}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Bn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={"content-type":"application/json"},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/properties/batch/history",l=JSON.stringify((0,L.Z)((0,L.Z)((0,L.Z)({},null!=t.entries&&{entries:kr(t.entries)}),null!=t.maxResults&&{maxResults:t.maxResults}),null!=t.nextToken&&{nextToken:t.nextToken})),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="data."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"POST",headers:u,path:c,body:l}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Hn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/assets/{assetId}",c=Ct(c,t,"assetId",(function(){return t.assetId}),"{assetId}",!1),l=yr({excludeProperties:[function(){return void 0!==t.excludeProperties},function(){return t.excludeProperties.toString()}]}),e.next=14,n.endpoint();case 14:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=20;break}if(Fn(f="api."+f)){e.next=20;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 20:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),zn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/asset-models/{assetModelId}",c=Ct(c,t,"assetModelId",(function(){return t.assetModelId}),"{assetModelId}",!1),l=yr({excludeProperties:[function(){return void 0!==t.excludeProperties},function(){return t.excludeProperties.toString()}]}),e.next=14,n.endpoint();case 14:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=20;break}if(Fn(f="api."+f)){e.next=20;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 20:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Vn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/properties/aggregates",l=yr({assetId:[,t.assetId],propertyId:[,t.propertyId],propertyAlias:[,t.propertyAlias],aggregateTypes:[null!=nt(t.aggregateTypes,"aggregateTypes"),function(){return(t.aggregateTypes||[]).map((function(e){return e}))}],resolution:[,nt(t.resolution,"resolution")],qualities:[function(){return void 0!==t.qualities},function(){return(t.qualities||[]).map((function(e){return e}))}],startDate:[null!=nt(t.startDate,"startDate"),function(){return(t.startDate.toISOString().split(".")[0]+"Z").toString()}],endDate:[null!=nt(t.endDate,"endDate"),function(){return(t.endDate.toISOString().split(".")[0]+"Z").toString()}],timeOrdering:[,t.timeOrdering],nextToken:[,t.nextToken],maxResults:[function(){return void 0!==t.maxResults},function(){return t.maxResults.toString()}]}),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="data."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/properties/latest",l=yr({assetId:[,t.assetId],propertyId:[,t.propertyId],propertyAlias:[,t.propertyAlias]}),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="data."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Gn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/properties/history",l=yr({assetId:[,t.assetId],propertyId:[,t.propertyId],propertyAlias:[,t.propertyAlias],startDate:[function(){return void 0!==t.startDate},function(){return(t.startDate.toISOString().split(".")[0]+"Z").toString()}],endDate:[function(){return void 0!==t.endDate},function(){return(t.endDate.toISOString().split(".")[0]+"Z").toString()}],qualities:[function(){return void 0!==t.qualities},function(){return(t.qualities||[]).map((function(e){return e}))}],timeOrdering:[,t.timeOrdering],nextToken:[,t.nextToken],maxResults:[function(){return void 0!==t.maxResults},function(){return t.maxResults.toString()}]}),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="data."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Kn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/assets",l=yr({nextToken:[,t.nextToken],maxResults:[function(){return void 0!==t.maxResults},function(){return t.maxResults.toString()}],assetModelId:[,t.assetModelId],filter:[,t.filter]}),e.next=13,n.endpoint();case 13:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=19;break}if(Fn(f="api."+f)){e.next=19;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 19:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$n=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,r.hostname,i=r.protocol,o=void 0===i?"https":i,a=r.port,s=r.path,u={},c="".concat(null!==s&&void 0!==s&&s.endsWith("/")?s.slice(0,-1):s||"")+"/assets/{assetId}/hierarchies",c=Ct(c,t,"assetId",(function(){return t.assetId}),"{assetId}",!1),l=yr({hierarchyId:[,t.hierarchyId],traversalDirection:[,t.traversalDirection],nextToken:[,t.nextToken],maxResults:[function(){return void 0!==t.maxResults},function(){return t.maxResults.toString()}]}),e.next=14,n.endpoint();case 14:if(d=e.sent,f=d.hostname,!0===n.disableHostPrefix){e.next=20;break}if(Fn(f="api."+f)){e.next=20;break}throw new Error("ValidationError: prefixed hostname must be hostname compatible.");case 20:return e.abrupt("return",new Nn({protocol:o,hostname:f,port:a,method:"GET",headers:u,path:c,query:l,body:undefined}));case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Qn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",Yn(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).errorEntries&&(r.errorEntries=Yr(i.errorEntries)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),null!=i.skippedEntries&&(r.skippedEntries=ei(i.skippedEntries)),null!=i.successEntries&&(r.successEntries=ni(i.successEntries)),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Yn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotsitewise#ServiceUnavailableException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,wr(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",Xn(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).errorEntries&&(r.errorEntries=ii(i.errorEntries)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),null!=i.skippedEntries&&(r.skippedEntries=hi(i.skippedEntries)),null!=i.successEntries&&(r.successEntries=yi(i.successEntries)),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xn=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotsitewise#ServiceUnavailableException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,wr(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),er=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",tr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).errorEntries&&(r.errorEntries=si(i.errorEntries)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),null!=i.skippedEntries&&(r.skippedEntries=li(i.skippedEntries)),null!=i.successEntries&&(r.successEntries=fi(i.successEntries)),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotsitewise#ServiceUnavailableException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,wr(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),nr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",rr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).assetArn&&(r.assetArn=it(i.assetArn)),null!=i.assetCompositeModels&&(r.assetCompositeModels=Or(i.assetCompositeModels)),null!=i.assetCreationDate&&(r.assetCreationDate=nt(dt(Ye(i.assetCreationDate)))),null!=i.assetDescription&&(r.assetDescription=it(i.assetDescription)),null!=i.assetHierarchies&&(r.assetHierarchies=Mr(i.assetHierarchies)),null!=i.assetId&&(r.assetId=it(i.assetId)),null!=i.assetLastUpdateDate&&(r.assetLastUpdateDate=nt(dt(Ye(i.assetLastUpdateDate)))),null!=i.assetModelId&&(r.assetModelId=it(i.assetModelId)),null!=i.assetName&&(r.assetName=it(i.assetName)),null!=i.assetProperties&&(r.assetProperties=qr(i.assetProperties)),null!=i.assetStatus&&(r.assetStatus=Vr(i.assetStatus)),e.abrupt("return",r);case 22:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),rr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ir=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",or(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).assetModelArn&&(r.assetModelArn=it(i.assetModelArn)),null!=i.assetModelCompositeModels&&(r.assetModelCompositeModels=Dr(i.assetModelCompositeModels)),null!=i.assetModelCreationDate&&(r.assetModelCreationDate=nt(dt(Ye(i.assetModelCreationDate)))),null!=i.assetModelDescription&&(r.assetModelDescription=it(i.assetModelDescription)),null!=i.assetModelHierarchies&&(r.assetModelHierarchies=Nr(i.assetModelHierarchies)),null!=i.assetModelId&&(r.assetModelId=it(i.assetModelId)),null!=i.assetModelLastUpdateDate&&(r.assetModelLastUpdateDate=nt(dt(Ye(i.assetModelLastUpdateDate)))),null!=i.assetModelName&&(r.assetModelName=it(i.assetModelName)),null!=i.assetModelProperties&&(r.assetModelProperties=Fr(i.assetModelProperties)),null!=i.assetModelStatus&&(r.assetModelStatus=Ur(i.assetModelStatus)),e.abrupt("return",r);case 21:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),or=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ar=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",sr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).aggregatedValues&&(r.aggregatedValues=Pr(i.aggregatedValues)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotsitewise#ServiceUnavailableException"===e.t5?21:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?24:27;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,wr(r);case 23:throw e.sent;case 24:return e.next=26,Er(r);case 26:throw e.sent;case 27:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 29:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ur=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",cr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).propertyValue&&(r.propertyValue=Hr(i.propertyValue)),e.abrupt("return",r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),cr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotsitewise#ServiceUnavailableException"===e.t5?21:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?24:27;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,wr(r);case 23:throw e.sent;case 24:return e.next=26,Er(r);case 26:throw e.sent;case 27:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 29:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",dr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).assetPropertyValueHistory&&(r.assetPropertyValueHistory=zr(i.assetPropertyValueHistory)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotsitewise#ServiceUnavailableException"===e.t5?21:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?24:27;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,wr(r);case 23:throw e.sent;case 24:return e.next=26,Er(r);case 26:throw e.sent;case 27:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 29:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",pr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).assetSummaries&&(r.assetSummaries=Wr(i.assetSummaries)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),hr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",vr(t,n));case 2:return r=yr({$metadata:Di(t)}),e.t0=nt,e.t1=rt,e.next=7,Li(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).assetSummaries&&(r.assetSummaries=Kr(i.assetSummaries)),null!=i.nextToken&&(r.nextToken=it(i.nextToken)),e.abrupt("return",r);case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),vr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,Fi(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ji(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotsitewise#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotsitewise#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotsitewise#ResourceNotFoundException"===e.t5?18:"ThrottlingException"===e.t5||"com.amazonaws.iotsitewise#ThrottlingException"===e.t5?21:24;break;case 12:return e.next=14,mr(r);case 14:throw e.sent;case 15:return e.next=17,gr(r);case 17:throw e.sent;case 18:return e.next=20,br(r);case 20:throw e.sent;case 21:return e.next=23,Er(r);case 23:throw e.sent;case 24:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:Dt,errorCode:i});case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),yr=bt,mr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yr({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new Ut((0,L.Z)({$metadata:Di(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),gr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yr({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new qt((0,L.Z)({$metadata:Di(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),br=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yr({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new Bt((0,L.Z)({$metadata:Di(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wr=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yr({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new hn((0,L.Z)({$metadata:Di(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Er=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=yr({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new Ht((0,L.Z)({$metadata:Di(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Sr=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},xr=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return Ar(e)}))},Ar=function(e,t){return(0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)({},null!=e.aggregateTypes&&{aggregateTypes:Sr(e.aggregateTypes)}),null!=e.assetId&&{assetId:e.assetId}),null!=e.endDate&&{endDate:Math.round(e.endDate.getTime()/1e3)}),null!=e.entryId&&{entryId:e.entryId}),null!=e.propertyAlias&&{propertyAlias:e.propertyAlias}),null!=e.propertyId&&{propertyId:e.propertyId}),null!=e.qualities&&{qualities:Tr(e.qualities)}),null!=e.resolution&&{resolution:e.resolution}),null!=e.startDate&&{startDate:Math.round(e.startDate.getTime()/1e3)}),null!=e.timeOrdering&&{timeOrdering:e.timeOrdering})},_r=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return Ir(e)}))},Ir=function(e,t){return(0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)({},null!=e.assetId&&{assetId:e.assetId}),null!=e.entryId&&{entryId:e.entryId}),null!=e.propertyAlias&&{propertyAlias:e.propertyAlias}),null!=e.propertyId&&{propertyId:e.propertyId})},kr=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return Zr(e)}))},Zr=function(e,t){return(0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)((0,L.Z)({},null!=e.assetId&&{assetId:e.assetId}),null!=e.endDate&&{endDate:Math.round(e.endDate.getTime()/1e3)}),null!=e.entryId&&{entryId:e.entryId}),null!=e.propertyAlias&&{propertyAlias:e.propertyAlias}),null!=e.propertyId&&{propertyId:e.propertyId}),null!=e.qualities&&{qualities:Tr(e.qualities)}),null!=e.startDate&&{startDate:Math.round(e.startDate.getTime()/1e3)}),null!=e.timeOrdering&&{timeOrdering:e.timeOrdering})},Tr=function(e,t){return e.filter((function(e){return null!=e})).map((function(e){return e}))},Pr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{quality:it(e.quality),timestamp:null!=e.timestamp?nt(dt(Ye(e.timestamp))):void 0,value:null!=e.value?Rr(e.value):void 0}}(e)}));return n},Rr=function(e,t){return{average:st(e.average),count:st(e.count),maximum:st(e.maximum),minimum:st(e.minimum),standardDeviation:st(e.standardDeviation),sum:st(e.sum)}},Or=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{description:it(e.description),id:it(e.id),name:it(e.name),properties:null!=e.properties?qr(e.properties):void 0,type:it(e.type)}}(e)}));return n},Mr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Cr(e)}));return n},Cr=function(e,t){return{id:it(e.id),name:it(e.name)}},Dr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{description:it(e.description),id:it(e.id),name:it(e.name),properties:null!=e.properties?Fr(e.properties):void 0,type:it(e.type)}}(e)}));return n},Nr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Lr(e)}));return n},Lr=function(e,t){return{childAssetModelId:it(e.childAssetModelId),id:it(e.id),name:it(e.name)}},Fr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:jr(e)}));return n},jr=function(e,t){return{dataType:it(e.dataType),dataTypeSpec:it(e.dataTypeSpec),id:it(e.id),name:it(e.name),type:null!=e.type?Zi(e.type):void 0,unit:it(e.unit)}},Ur=function(e,t){return{error:null!=e.error?bi(e.error):void 0,state:it(e.state)}},qr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Br(e)}));return n},Br=function(e,t){return{alias:it(e.alias),dataType:it(e.dataType),dataTypeSpec:it(e.dataTypeSpec),id:it(e.id),name:it(e.name),notification:null!=e.notification?ki(e.notification):void 0,unit:it(e.unit)}},Hr=function(e,t){return{quality:it(e.quality),timestamp:null!=e.timestamp?Ti(e.timestamp):void 0,value:null!=e.value?Ci(e.value):void 0}},zr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Hr(e)}));return n},Vr=function(e,t){return{error:null!=e.error?bi(e.error):void 0,state:it(e.state)}},Wr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Gr(e)}));return n},Gr=function(e,t){return{arn:it(e.arn),assetModelId:it(e.assetModelId),creationDate:null!=e.creationDate?nt(dt(Ye(e.creationDate))):void 0,description:it(e.description),hierarchies:null!=e.hierarchies?Mr(e.hierarchies):void 0,id:it(e.id),lastUpdateDate:null!=e.lastUpdateDate?nt(dt(Ye(e.lastUpdateDate))):void 0,name:it(e.name),status:null!=e.status?Vr(e.status):void 0}},Kr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:$r(e)}));return n},$r=function(e,t){return{arn:it(e.arn),assetModelId:it(e.assetModelId),creationDate:null!=e.creationDate?nt(dt(Ye(e.creationDate))):void 0,description:it(e.description),hierarchies:null!=e.hierarchies?Mr(e.hierarchies):void 0,id:it(e.id),lastUpdateDate:null!=e.lastUpdateDate?nt(dt(Ye(e.lastUpdateDate))):void 0,name:it(e.name),status:null!=e.status?Vr(e.status):void 0}},Qr=function(e,t){return{defaultValue:it(e.defaultValue)}},Yr=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:Jr(e)}));return n},Jr=function(e,t){return{entryId:it(e.entryId),errorCode:it(e.errorCode),errorMessage:it(e.errorMessage)}},Xr=function(e,t){return{errorCode:it(e.errorCode),errorTimestamp:null!=e.errorTimestamp?nt(dt(Ye(e.errorTimestamp))):void 0}},ei=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ti(e)}));return n},ti=function(e,t){return{completionStatus:it(e.completionStatus),entryId:it(e.entryId),errorInfo:null!=e.errorInfo?Xr(e.errorInfo):void 0}},ni=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ri(e)}));return n},ri=function(e,t){return{aggregatedValues:null!=e.aggregatedValues?Pr(e.aggregatedValues):void 0,entryId:it(e.entryId)}},ii=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:oi(e)}));return n},oi=function(e,t){return{entryId:it(e.entryId),errorCode:it(e.errorCode),errorMessage:it(e.errorMessage)}},ai=function(e,t){return{errorCode:it(e.errorCode),errorTimestamp:null!=e.errorTimestamp?nt(dt(Ye(e.errorTimestamp))):void 0}},si=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:ui(e)}));return n},ui=function(e,t){return{entryId:it(e.entryId),errorCode:it(e.errorCode),errorMessage:it(e.errorMessage)}},ci=function(e,t){return{errorCode:it(e.errorCode),errorTimestamp:null!=e.errorTimestamp?nt(dt(Ye(e.errorTimestamp))):void 0}},li=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:di(e)}));return n},di=function(e,t){return{completionStatus:it(e.completionStatus),entryId:it(e.entryId),errorInfo:null!=e.errorInfo?ci(e.errorInfo):void 0}},fi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:pi(e)}));return n},pi=function(e,t){return{assetPropertyValueHistory:null!=e.assetPropertyValueHistory?zr(e.assetPropertyValueHistory):void 0,entryId:it(e.entryId)}},hi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:vi(e)}));return n},vi=function(e,t){return{completionStatus:it(e.completionStatus),entryId:it(e.entryId),errorInfo:null!=e.errorInfo?ai(e.errorInfo):void 0}},yi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:mi(e)}));return n},mi=function(e,t){return{assetPropertyValue:null!=e.assetPropertyValue?Hr(e.assetPropertyValue):void 0,entryId:it(e.entryId)}},gi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{code:it(e.code),message:it(e.message)}}(e)}));return n},bi=function(e,t){return{code:it(e.code),details:null!=e.details?gi(e.details):void 0,message:it(e.message)}},wi=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{name:it(e.name),value:null!=e.value?Mi(e.value):void 0}}(e)}));return n},Ei=function(e,t){return{state:it(e.state)}},Si=function(e,t){return{processingConfig:null!=e.processingConfig?xi(e.processingConfig):void 0}},xi=function(e,t){return{forwardingConfig:null!=e.forwardingConfig?Ei(e.forwardingConfig):void 0}},Ai=function(e,t){return{expression:it(e.expression),processingConfig:null!=e.processingConfig?_i(e.processingConfig):void 0,variables:null!=e.variables?wi(e.variables):void 0,window:null!=e.window?Ii(e.window):void 0}},_i=function(e,t){return{computeLocation:it(e.computeLocation)}},Ii=function(e,t){return{tumbling:null!=e.tumbling?Oi(e.tumbling):void 0}},ki=function(e,t){return{state:it(e.state),topic:it(e.topic)}},Zi=function(e,t){return{attribute:null!=e.attribute?Qr(e.attribute):void 0,measurement:null!=e.measurement?Si(e.measurement):void 0,metric:null!=e.metric?Ai(e.metric):void 0,transform:null!=e.transform?Pi(e.transform):void 0}},Ti=function(e,t){return{offsetInNanos:Xe(e.offsetInNanos),timeInSeconds:Je(e.timeInSeconds)}},Pi=function(e,t){return{expression:it(e.expression),processingConfig:null!=e.processingConfig?Ri(e.processingConfig):void 0,variables:null!=e.variables?wi(e.variables):void 0}},Ri=function(e,t){return{computeLocation:it(e.computeLocation),forwardingConfig:null!=e.forwardingConfig?Ei(e.forwardingConfig):void 0}},Oi=function(e,t){return{interval:it(e.interval),offset:it(e.offset)}},Mi=function(e,t){return{hierarchyId:it(e.hierarchyId),propertyId:it(e.propertyId)}},Ci=function(e,t){return{booleanValue:Qe(e.booleanValue),doubleValue:st(e.doubleValue),integerValue:Xe(e.integerValue),stringValue:it(e.stringValue)}},Di=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ni=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},Li=function(e,t){return Ni(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Fi=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Li(t,n);case 2:return(i=e.sent).message=null!==(r=i.message)&&void 0!==r?r:i.Message,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ji=function(e,t){var n,r,i=function(e){var t=e;return"number"===typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):void 0},Ui=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"BatchGetAssetPropertyAggregatesCommand",inputFilterSensitiveLog:yn,outputFilterSensitiveLog:mn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Un(e,t)}},{key:"deserialize",value:function(e,t){return Qn(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),qi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"BatchGetAssetPropertyValueCommand",inputFilterSensitiveLog:gn,outputFilterSensitiveLog:bn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return qn(e,t)}},{key:"deserialize",value:function(e,t){return Jn(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),Bi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"BatchGetAssetPropertyValueHistoryCommand",inputFilterSensitiveLog:wn,outputFilterSensitiveLog:En},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Bn(e,t)}},{key:"deserialize",value:function(e,t){return er(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),Hi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"DescribeAssetCommand",inputFilterSensitiveLog:Sn,outputFilterSensitiveLog:xn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Hn(e,t)}},{key:"deserialize",value:function(e,t){return nr(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),zi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"DescribeAssetModelCommand",inputFilterSensitiveLog:An,outputFilterSensitiveLog:_n},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return zn(e,t)}},{key:"deserialize",value:function(e,t){return ir(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),Vi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"GetAssetPropertyAggregatesCommand",inputFilterSensitiveLog:In,outputFilterSensitiveLog:kn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Vn(e,t)}},{key:"deserialize",value:function(e,t){return ar(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),Wi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"GetAssetPropertyValueCommand",inputFilterSensitiveLog:Zn,outputFilterSensitiveLog:Tn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Wn(e,t)}},{key:"deserialize",value:function(e,t){return ur(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),Gi=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"GetAssetPropertyValueHistoryCommand",inputFilterSensitiveLog:Pn,outputFilterSensitiveLog:Rn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Gn(e,t)}},{key:"deserialize",value:function(e,t){return lr(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),Ki=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"ListAssetsCommand",inputFilterSensitiveLog:On,outputFilterSensitiveLog:Mn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return Kn(e,t)}},{key:"deserialize",value:function(e,t){return fr(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),$i=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTSiteWiseClient",commandName:"ListAssociatedAssetsCommand",inputFilterSensitiveLog:Cn,outputFilterSensitiveLog:Dn},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return $n(e,t)}},{key:"deserialize",value:function(e,t){return hr(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e);!function(e){e.ENV="env",e.CONFIG="shared config entry"}(jn||(jn={}));var Qi=function(e){return"string"===typeof e&&(e.startsWith("fips-")||e.endsWith("-fips"))},Yi=function(e){return Qi(e)?["fips-aws-global","aws-fips"].includes(e)?"us-east-1":e.replace(/fips-(dkr-|prod-)?|-fips/,""):e},Ji=function(e){var t=e.region,n=e.useFipsEndpoint;if(!t)throw new Error("Region is missing");return(0,L.Z)((0,L.Z)({},e),{},{region:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(){var n;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=2;break}return e.abrupt("return",Yi(t));case 2:return e.next=4,t();case 4:return n=e.sent,e.abrupt("return",Yi(n));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),useFipsEndpoint:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}e.t0=t,e.next=7;break;case 4:return e.next=6,t();case 6:e.t0=e.sent;case 7:if(r=e.t0,!Qi(r)){e.next=10;break}return e.abrupt("return",!0);case 10:return e.abrupt("return","function"!==typeof n?Promise.resolve(!!n):n());case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})},Xi="content-length";var eo={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},to=function(e){return{applyToStack:function(t){var n;t.add((n=e.bodyLengthChecker,function(e){return function(){var t=(0,U.Z)((0,j.Z)().mark((function t(r){var i,o,a,s;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=r.request,Nn.isInstance(i)&&(o=i.body,a=i.headers,o&&-1===Object.keys(a).map((function(e){return e.toLowerCase()})).indexOf(Xi)))try{s=n(o),i.headers=(0,L.Z)((0,L.Z)({},i.headers),{},(0,M.Z)({},Xi,String(s)))}catch(u){}return t.abrupt("return",e((0,L.Z)((0,L.Z)({},r),{},{request:i})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}),eo)}}};var no,ro={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},io=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(){var n=(0,U.Z)((0,j.Z)().mark((function n(r){var i,o,a,s;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Nn.isInstance(r.request)){n.next=2;break}return n.abrupt("return",t(r));case 2:return i=r.request,o=e.requestHandler.metadata||{},(void 0===(a=o.handlerProtocol)?"":a).indexOf("h2")>=0&&!i.headers[":authority"]?(delete i.headers.host,i.headers[":authority"]=""):i.headers.host||(s=i.hostname,null!=i.port&&(s+=":".concat(i.port)),i.headers.host=s),n.abrupt("return",t(r));case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}(e),ro)}}},oo={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},ao=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(){var n=(0,U.Z)((0,j.Z)().mark((function n(r){var i,o,a,s,u,c,l,d,f,p,h,v,y;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e(r);case 2:if(i=n.sent,o=t.clientName,a=t.commandName,s=t.logger,u=t.inputFilterSensitiveLog,c=t.outputFilterSensitiveLog,l=t.dynamoDbDocumentClientOptions,f=(d=void 0===l?{}:l).overrideInputFilterSensitiveLog,p=d.overrideOutputFilterSensitiveLog,s){n.next=7;break}return n.abrupt("return",i);case 7:return"function"===typeof s.info&&(h=i.output,v=h.$metadata,y=(0,O.Z)(h,ee),s.info({clientName:o,commandName:a,input:(null!==f&&void 0!==f?f:u)(r.input),output:(null!==p&&void 0!==p?p:c)(y),metadata:v})),n.abrupt("return",i);case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}),oo)}}},so="X-Amzn-Trace-Id",uo={step:"build",tags:["RECURSION_DETECTION"],name:"recursionDetectionMiddleware",override:!0,priority:"low"},co=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(){var n=(0,U.Z)((0,j.Z)().mark((function n(r){var i,o,a;return(0,j.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=r.request,Nn.isInstance(i)&&"node"===e.runtime&&!i.headers.hasOwnProperty(so)){n.next=3;break}return n.abrupt("return",t(r));case 3:return o={NODE_ENV:"production",PUBLIC_URL:"/SmartLightBulbs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AWS_ACCESS_KEY_ID:"AKIA4XDZQIATTDCYWBN5",REACT_APP_AWS_SECRET_ACCESS_KEY:"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",REACT_APP_FIREBASE_APP_ID:"1:57389928718:web:8c495671336b668b9d875f",REACT_APP_FIREBASE_AUTH_DOMAIN:"light-bulbs-2cf47.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://light-bulbs-2cf47-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_FIREBASE_API:"AIzaSyAYF8D3KMw3Ptuix6HRFiihxMhvVOykWFs",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-78T9HZK35B",REACT_APP_FIREBASE_MESSAGIN_SENDER_ID:"57389928718",REACT_APP_FIREBASE_PROJECT_ID:"light-bulbs-2cf47",REACT_APP_FIREBASE_STORAGE_BUCKET:"light-bulbs-2cf47.appspot.com"}._X_AMZN_TRACE_ID,(a=function(e){return"string"===typeof e&&e.length>0})({NODE_ENV:"production",PUBLIC_URL:"/SmartLightBulbs",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_AWS_ACCESS_KEY_ID:"AKIA4XDZQIATTDCYWBN5",REACT_APP_AWS_SECRET_ACCESS_KEY:"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",REACT_APP_FIREBASE_APP_ID:"1:57389928718:web:8c495671336b668b9d875f",REACT_APP_FIREBASE_AUTH_DOMAIN:"light-bulbs-2cf47.firebaseapp.com",REACT_APP_FIREBASE_DATABASE_URL:"https://light-bulbs-2cf47-default-rtdb.europe-west1.firebasedatabase.app",REACT_APP_FIREBASE_FIREBASE_API:"AIzaSyAYF8D3KMw3Ptuix6HRFiihxMhvVOykWFs",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-78T9HZK35B",REACT_APP_FIREBASE_MESSAGIN_SENDER_ID:"57389928718",REACT_APP_FIREBASE_PROJECT_ID:"light-bulbs-2cf47",REACT_APP_FIREBASE_STORAGE_BUCKET:"light-bulbs-2cf47.appspot.com"}.AWS_LAMBDA_FUNCTION_NAME)&&a(o)&&(i.headers[so]=o),n.abrupt("return",t((0,L.Z)((0,L.Z)({},r),{},{request:i})));case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}}(e),uo)}}};!function(e){e.STANDARD="standard",e.ADAPTIVE="adaptive"}(no||(no={}));for(var lo="STANDARD",fo=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],po=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],ho=[500,502,503,504],vo=["ECONNRESET","EPIPE","ETIMEDOUT"],yo=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||fo.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},mo=function(e){var t;return po.includes(e.name)||vo.includes((null===e||void 0===e?void 0:e.code)||"")||ho.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)},go=function(){function e(t){var n,r,i,o,a;(0,B.Z)(this,e),this.currentCapacity=0,this.enabled=!1,this.lastMaxRate=0,this.measuredTxRate=0,this.requestCount=0,this.lastTimestamp=0,this.timeWindow=0,this.beta=null!==(n=null===t||void 0===t?void 0:t.beta)&&void 0!==n?n:.7,this.minCapacity=null!==(r=null===t||void 0===t?void 0:t.minCapacity)&&void 0!==r?r:1,this.minFillRate=null!==(i=null===t||void 0===t?void 0:t.minFillRate)&&void 0!==i?i:.5,this.scaleConstant=null!==(o=null===t||void 0===t?void 0:t.scaleConstant)&&void 0!==o?o:.4,this.smooth=null!==(a=null===t||void 0===t?void 0:t.smooth)&&void 0!==a?a:.8;var s=this.getCurrentTimeInSeconds();this.lastThrottleTime=s,this.lastTxRateBucket=Math.floor(this.getCurrentTimeInSeconds()),this.fillRate=this.minFillRate,this.maxCapacity=this.minCapacity}return(0,H.Z)(e,[{key:"getCurrentTimeInSeconds",value:function(){return Date.now()/1e3}},{key:"getSendToken",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.acquireTokenBucket(1));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"acquireTokenBucket",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.enabled){e.next=2;break}return e.abrupt("return");case 2:if(this.refillTokenBucket(),!(t>this.currentCapacity)){e.next=7;break}return n=(t-this.currentCapacity)/this.fillRate*1e3,e.next=7,new Promise((function(e){return setTimeout(e,n)}));case 7:this.currentCapacity=this.currentCapacity-t;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refillTokenBucket",value:function(){var e=this.getCurrentTimeInSeconds();if(this.lastTimestamp){var t=(e-this.lastTimestamp)*this.fillRate;this.currentCapacity=Math.min(this.maxCapacity,this.currentCapacity+t),this.lastTimestamp=e}else this.lastTimestamp=e}},{key:"updateClientSendingRate",value:function(e){var t;if(this.updateMeasuredRate(),yo(e)){var n=this.enabled?Math.min(this.measuredTxRate,this.fillRate):this.measuredTxRate;this.lastMaxRate=n,this.calculateTimeWindow(),this.lastThrottleTime=this.getCurrentTimeInSeconds(),t=this.cubicThrottle(n),this.enableTokenBucket()}else this.calculateTimeWindow(),t=this.cubicSuccess(this.getCurrentTimeInSeconds());var r=Math.min(t,2*this.measuredTxRate);this.updateTokenBucketRate(r)}},{key:"calculateTimeWindow",value:function(){this.timeWindow=this.getPrecise(Math.pow(this.lastMaxRate*(1-this.beta)/this.scaleConstant,1/3))}},{key:"cubicThrottle",value:function(e){return this.getPrecise(e*this.beta)}},{key:"cubicSuccess",value:function(e){return this.getPrecise(this.scaleConstant*Math.pow(e-this.lastThrottleTime-this.timeWindow,3)+this.lastMaxRate)}},{key:"enableTokenBucket",value:function(){this.enabled=!0}},{key:"updateTokenBucketRate",value:function(e){this.refillTokenBucket(),this.fillRate=Math.max(e,this.minFillRate),this.maxCapacity=Math.max(e,this.minCapacity),this.currentCapacity=Math.min(this.currentCapacity,this.maxCapacity)}},{key:"updateMeasuredRate",value:function(){var e=this.getCurrentTimeInSeconds(),t=Math.floor(2*e)/2;if(this.requestCount++,t>this.lastTxRateBucket){var n=this.requestCount/(t-this.lastTxRateBucket);this.measuredTxRate=this.getPrecise(n*this.smooth+this.measuredTxRate*(1-this.smooth)),this.requestCount=0,this.lastTxRateBucket=t}}},{key:"getPrecise",value:function(e){return parseFloat(e.toFixed(8))}}]),e}(),bo=function(e,t,n,r){var i,o,a,s=e,u=null!==(i=null===r||void 0===r?void 0:r.retryCost)&&void 0!==i?i:5,c=null!==(o=null===r||void 0===r?void 0:r.timeoutRetryCost)&&void 0!==o?o:10,l=null!==(a=null===r||void 0===r?void 0:r.retryBackoffStrategy)&&void 0!==a?a:function(){var e=100;return{computeNextBackoffDelay:function(t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},setDelayBase:function(t){e=t}}}(),d=e,f=Math.min(2e4,t),p=void 0,h=null!==n&&void 0!==n?n:0,v=function(e){return"TRANSIENT"===e?c:u},y=function(e){return v(e)<=d};return{getRetryCount:function(){return h},getRetryDelay:function(){return f},getLastRetryCost:function(){return p},hasRetryTokens:y,getRetryTokenCount:function(e){var t=e.errorType;if(!y(t))throw new Error("No retry token available");var n=v(t),r="THROTTLING"===t?500:100;l.setDelayBase(r);var i=l.computeNextBackoffDelay(h);if(e.retryAfterHint){var o=e.retryAfterHint.getTime()-Date.now();f=Math.max(o||0,i)}else f=i;return h++,p=n,d-=n,n},releaseRetryTokens:function(e){d+=null!==e&&void 0!==e?e:1,d=Math.min(d,s)}}},wo=function(){function e(t){(0,B.Z)(this,e),this.maxAttemptsProvider=t,this.mode=no.STANDARD,this.retryToken=bo(500,100),this.maxAttemptsProvider=t}return(0,H.Z)(e,[{key:"acquireInitialRetryToken",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.retryToken);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshRetryTokenForRetry",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMaxAttempts();case 2:if(r=e.sent,!this.shouldRetry(t,n,r)){e.next=6;break}return t.getRetryTokenCount(n),e.abrupt("return",t);case 6:throw new Error("No retry token available");case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"recordSuccess",value:function(e){this.retryToken.releaseRetryTokens(e.getLastRetryCost())}},{key:"getMaxAttempts",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.maxAttemptsProvider();case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),console.warn("Max attempts provider could not resolve. Using default of ".concat(3)),e.abrupt("return",3);case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(){return e.apply(this,arguments)}}()},{key:"shouldRetry",value:function(e,t,n){return e.getRetryCount()<n&&e.hasRetryTokens(t.errorType)&&this.isRetryableError(t.errorType)}},{key:"isRetryableError",value:function(e){return"THROTTLING"===e||"TRANSIENT"===e}}]),e}(),Eo=function(){function e(t,n){(0,B.Z)(this,e),this.maxAttemptsProvider=t,this.mode=no.ADAPTIVE;var r=(null!==n&&void 0!==n?n:{}).rateLimiter;this.rateLimiter=null!==r&&void 0!==r?r:new go,this.standardRetryStrategy=new wo(t)}return(0,H.Z)(e,[{key:"acquireInitialRetryToken",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rateLimiter.getSendToken();case 2:return e.abrupt("return",this.standardRetryStrategy.acquireInitialRetryToken(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"refreshRetryTokenForRetry",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.rateLimiter.updateClientSendingRate(n),e.abrupt("return",this.standardRetryStrategy.refreshRetryTokenForRetry(t,n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"recordSuccess",value:function(e){this.rateLimiter.updateClientSendingRate({}),this.standardRetryStrategy.recordSuccess(e)}}]),e}(),So=function(e){var t,n=e.retryStrategy,r=Be(null!==(t=e.maxAttempts)&&void 0!==t?t:3);return(0,L.Z)((0,L.Z)({},e),{},{maxAttempts:r,retryStrategy:function(){var t=(0,U.Z)((0,j.Z)().mark((function t(){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=2;break}return t.abrupt("return",n);case 2:return t.next=4,Be(e.retryMode)();case 4:if(t.sent!==no.ADAPTIVE){t.next=7;break}return t.abrupt("return",new Eo(r));case 7:return t.abrupt("return",new wo(r));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()})},xo=function(e){return"undefined"!==typeof e.acquireInitialRetryToken&&"undefined"!==typeof e.refreshRetryTokenForRetry&&"undefined"!==typeof e.recordSuccess},Ao=function(e){var t={errorType:_o(e)},n=Zo(e.$response);return n&&(t.retryAfterHint=n),t},_o=function(e){return yo(e)?"THROTTLING":mo(e)?"TRANSIENT":function(e){var t;if(void 0!==(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)){var n=e.$metadata.httpStatusCode;return 500<=n&&n<=599&&!mo(e)}return!1}(e)?"SERVER_ERROR":"CLIENT_ERROR"},Io={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},ko=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(){var r=(0,U.Z)((0,j.Z)().mark((function r(i){var o,a,s,u,c,l,d,f,p,h;return(0,j.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.retryStrategy();case 2:return o=r.sent,r.next=5,e.maxAttempts();case 5:if(a=r.sent,!xo(o)){r.next=26;break}return r.next=10,o.acquireInitialRetryToken(n.partition_id);case 10:s=r.sent,u=new Error,c=0,l=0,d=i.request,Nn.isInstance(d)&&(d.headers["amz-sdk-invocation-id"]=(0,X.v)()),f=(0,j.Z)().mark((function e(){var n,r,f,p,h;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Nn.isInstance(d)&&(d.headers["amz-sdk-request"]="attempt=".concat(c+1,"; max=").concat(a)),e.next=4,t(i);case 4:return n=e.sent,r=n.response,f=n.output,o.recordSuccess(s),f.$metadata.attempts=c+1,f.$metadata.totalRetryDelay=l,e.abrupt("return",{v:{response:r,output:f}});case 13:return e.prev=13,e.t0=e.catch(0),p=Ao(e.t0),v=e.t0,u=v instanceof Error?v:v instanceof Object?Object.assign(new Error,v):"string"===typeof v?new Error(v):new Error("AWS SDK error wrapper for ".concat(v)),e.prev=17,e.next=20,o.refreshRetryTokenForRetry(s,p);case 20:s=e.sent,e.next=29;break;case 23:throw e.prev=23,e.t1=e.catch(17),u.$metadata||(u.$metadata={}),u.$metadata.attempts=c+1,u.$metadata.totalRetryDelay=l,u;case 29:return c=s.getRetryCount(),h=s.getRetryDelay(),l+=h,e.next=34,new Promise((function(e){return setTimeout(e,h)}));case 34:case"end":return e.stop()}var v}),e,null,[[0,13],[17,23]])}));case 17:return r.delegateYield(f(),"t0",19);case 19:if("object"!==typeof(p=r.t0)){r.next=22;break}return r.abrupt("return",p.v);case 22:r.next=17;break;case 24:r.next=29;break;case 26:return null!==(h=o)&&void 0!==h&&h.mode&&(n.userAgent=[].concat((0,N.Z)(n.userAgent||[]),[["cfg/retry-mode",o.mode]])),r.abrupt("return",o.retry(t,i));case 29:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}(e),Io)}}},Zo=function(e){if(Ln.isInstance(e)){var t=Object.keys(e.headers).find((function(e){return"retry-after"===e.toLowerCase()}));if(t){var n=e.headers[t],r=Number(n);return Number.isNaN(r)?new Date(n):new Date(1e3*r)}}},To=function(e,t,n){var r,i,o,a=!1,s=function(){var t=(0,U.Z)((0,j.Z)().mark((function t(){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i||(i=e()),t.prev=1,t.next=4,i;case 4:r=t.sent,o=!0,a=!1;case 7:return t.prev=7,i=void 0,t.finish(7);case 10:return t.abrupt("return",r);case 11:case"end":return t.stop()}}),t,null,[[1,,7,10]])})));return function(){return t.apply(this,arguments)}}();return void 0===t?function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&(null===t||void 0===t||!t.forceRefresh)){e.next=4;break}return e.next=3,s();case 3:r=e.sent;case 4:return e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():function(){var e=(0,U.Z)((0,j.Z)().mark((function e(i){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&(null===i||void 0===i||!i.forceRefresh)){e.next=4;break}return e.next=3,s();case 3:r=e.sent;case 4:if(!a){e.next=6;break}return e.abrupt("return",r);case 6:if(!n||n(r)){e.next=9;break}return a=!0,e.abrupt("return",r);case 9:if(!t(r)){e.next=13;break}return e.next=12,s();case 12:case 13:return e.abrupt("return",r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Po={},Ro=0;Ro<256;Ro++){var Oo=Ro.toString(16).toLowerCase();1===Oo.length&&(Oo="0".concat(Oo)),Po[Ro]=Oo}function Mo(e){for(var t="",n=0;n<e.byteLength;n++)t+=Po[e[n]];return t}var Co=function(e){return(new TextEncoder).encode(e)},Do=function(e){return"string"===typeof e?Co(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)},No=function(e){return new TextDecoder("utf-8").decode(e)},Lo="X-Amz-Date",Fo="X-Amz-Signature",jo="X-Amz-Security-Token",Uo="authorization",qo=Lo.toLowerCase(),Bo=[Uo,qo,"date"],Ho=Fo.toLowerCase(),zo="x-amz-content-sha256",Vo=jo.toLowerCase(),Wo={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},Go=/^proxy-/,Ko=/^sec-/,$o="AWS4-HMAC-SHA256",Qo="AWS4-HMAC-SHA256-PAYLOAD",Yo="aws4_request",Jo={},Xo=[],ea=function(e,t,n){return"".concat(e,"/").concat(t,"/").concat(n,"/").concat(Yo)},ta=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n,r,i,o){var a,s,u,c,l,d;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,na(t,n.secretAccessKey,n.accessKeyId);case 2:if(a=e.sent,!((s="".concat(r,":").concat(i,":").concat(o,":").concat(Mo(a),":").concat(n.sessionToken))in Jo)){e.next=6;break}return e.abrupt("return",Jo[s]);case 6:for(Xo.push(s);Xo.length>50;)delete Jo[Xo.shift()];u="AWS4".concat(n.secretAccessKey),c=0,l=[r,i,o,Yo];case 10:if(!(c<l.length)){e.next=18;break}return d=l[c],e.next=14,na(t,u,d);case 14:u=e.sent;case 15:c++,e.next=10;break;case 18:return e.abrupt("return",Jo[s]=u);case 19:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),na=function(e,t,n){var r=new e(t);return r.update(Do(n)),r.digest()},ra=function(e,t,n){var r,i=e.headers,o={},a=(0,q.Z)(Object.keys(i).sort());try{for(a.s();!(r=a.n()).done;){var s=r.value;if(void 0!=i[s]){var u=s.toLowerCase();(u in Wo||null!==t&&void 0!==t&&t.has(u)||Go.test(u)||Ko.test(u))&&(!n||n&&!n.has(u))||(o[u]=i[s].trim().replace(/\s+/g," "))}}}catch(c){a.e(c)}finally{a.f()}return o},ia=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,oa)},oa=function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())},aa=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.headers,i=t.body,o=0,a=Object.keys(r);case 2:if(!(o<a.length)){e.next=9;break}if((s=a[o]).toLowerCase()!==zo){e.next=6;break}return e.abrupt("return",r[s]);case 6:o++,e.next=2;break;case 9:if(void 0!=i){e.next=13;break}return e.abrupt("return","e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855");case 13:if(!("string"===typeof i||ArrayBuffer.isView(i)||(c=i,"function"===typeof ArrayBuffer&&c instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(c)))){e.next=21;break}return(u=new n).update(Do(i)),e.t0=Mo,e.next=19,u.digest();case 19:return e.t1=e.sent,e.abrupt("return",(0,e.t0)(e.t1));case 21:return e.abrupt("return","UNSIGNED-PAYLOAD");case 22:case"end":return e.stop()}var c}),e)})));return function(t,n){return e.apply(this,arguments)}}(),sa=function(e,t){e=e.toLowerCase();for(var n=0,r=Object.keys(t);n<r.length;n++){if(e===r[n].toLowerCase())return!0}return!1},ua=function(e){var t=e.headers,n=e.query,r=(0,O.Z)(e,te);return(0,L.Z)((0,L.Z)({},r),{},{headers:(0,L.Z)({},t),query:n?ca(n):void 0})},ca=function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return(0,L.Z)((0,L.Z)({},t),{},(0,M.Z)({},n,Array.isArray(r)?(0,N.Z)(r):r))}),{})},la=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="function"===typeof e.clone?e.clone():ua(e),r=n.headers,i=n.query,o=void 0===i?{}:i,a=0,s=Object.keys(r);a<s.length;a++){var u,c=s[a],l=c.toLowerCase();"x-amz-"!==l.slice(0,6)||null!==(u=t.unhoistableHeaders)&&void 0!==u&&u.has(l)||(o[c]=r[c],delete r[c])}return(0,L.Z)((0,L.Z)({},e),{},{headers:r,query:o})},da=function(e){e="function"===typeof e.clone?e.clone():ua(e);for(var t=0,n=Object.keys(e.headers);t<n.length;t++){var r=n[t];Bo.indexOf(r.toLowerCase())>-1&&delete e.headers[r]}return e},fa=function(e){return"number"===typeof e?new Date(1e3*e):"string"===typeof e?Number(e)?new Date(1e3*Number(e)):new Date(e):e},pa=function(){function e(t){var n=t.applyChecksum,r=t.credentials,i=t.region,o=t.service,a=t.sha256,s=t.uriEscapePath,u=void 0===s||s;(0,B.Z)(this,e),this.service=o,this.sha256=a,this.uriEscapePath=u,this.applyChecksum="boolean"!==typeof n||n,this.regionProvider=Be(i),this.credentialProvider=Be(r)}return(0,H.Z)(e,[{key:"presign",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u,c,l,d,f,p,h,v,y,m,g,b,w=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=w.length>1&&void 0!==w[1]?w[1]:{}).signingDate,i=void 0===r?new Date:r,o=n.expiresIn,a=void 0===o?3600:o,s=n.unsignableHeaders,u=n.unhoistableHeaders,c=n.signableHeaders,l=n.signingRegion,d=n.signingService,e.next=4,this.credentialProvider();case 4:if(f=e.sent,this.validateResolvedCredentials(f),null===l||void 0===l){e.next=10;break}e.t0=l,e.next=13;break;case 10:return e.next=12,this.regionProvider();case 12:e.t0=e.sent;case 13:if(p=e.t0,h=ha(i),v=h.longDate,y=h.shortDate,!(a>604800)){e.next=17;break}return e.abrupt("return",Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future"));case 17:return m=ea(y,p,null!==d&&void 0!==d?d:this.service),g=la(da(t),{unhoistableHeaders:u}),f.sessionToken&&(g.query[jo]=f.sessionToken),g.query["X-Amz-Algorithm"]=$o,g.query["X-Amz-Credential"]="".concat(f.accessKeyId,"/").concat(m),g.query[Lo]=v,g.query["X-Amz-Expires"]=a.toString(10),b=ra(g,s,c),g.query["X-Amz-SignedHeaders"]=va(b),e.t1=this,e.t2=v,e.t3=m,e.t4=this.getSigningKey(f,p,y,d),e.t5=this,e.t6=g,e.t7=b,e.next=35,aa(t,this.sha256);case 35:return e.t8=e.sent,e.t9=e.t5.createCanonicalRequest.call(e.t5,e.t6,e.t7,e.t8),e.next=39,e.t1.getSignature.call(e.t1,e.t2,e.t3,e.t4,e.t9);case 39:return g.query[Fo]=e.sent,e.abrupt("return",g);case 41:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sign",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"!==typeof t){e.next=4;break}return e.abrupt("return",this.signString(t,n));case 4:if(!t.headers||!t.payload){e.next=8;break}return e.abrupt("return",this.signEvent(t,n));case 8:return e.abrupt("return",this.signRequest(t,n));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signEvent",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d,f,p,h,v,y,m,g;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.headers,i=t.payload,o=n.signingDate,a=void 0===o?new Date:o,s=n.priorSignature,u=n.signingRegion,c=n.signingService,null===u||void 0===u){e.next=6;break}e.t0=u,e.next=9;break;case 6:return e.next=8,this.regionProvider();case 8:e.t0=e.sent;case 9:return l=e.t0,d=ha(a),f=d.shortDate,p=d.longDate,h=ea(f,l,null!==c&&void 0!==c?c:this.service),e.next=14,aa({headers:{},body:i},this.sha256);case 14:return v=e.sent,(y=new this.sha256).update(r),e.t1=Mo,e.next=20,y.digest();case 20:return e.t2=e.sent,m=(0,e.t1)(e.t2),g=[Qo,p,h,s,m,v].join("\n"),e.abrupt("return",this.signString(g,{signingDate:a,signingRegion:l,signingService:c}));case 24:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"signString",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u,c,l,d,f=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=f.length>1&&void 0!==f[1]?f[1]:{}).signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService,e.next=3,this.credentialProvider();case 3:if(s=e.sent,this.validateResolvedCredentials(s),null===o||void 0===o){e.next=9;break}e.t0=o,e.next=12;break;case 9:return e.next=11,this.regionProvider();case 11:e.t0=e.sent;case 12:return u=e.t0,c=ha(i),l=c.shortDate,e.t1=this.sha256,e.next=17,this.getSigningKey(s,u,l,a);case 17:return e.t2=e.sent,(d=new e.t1(e.t2)).update(Do(t)),e.t3=Mo,e.next=23,d.digest();case 23:return e.t4=e.sent,e.abrupt("return",(0,e.t3)(e.t4));case 25:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signRequest",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u,c,l,d,f,p,h,v,y,m,g,b=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=(n=b.length>1&&void 0!==b[1]?b[1]:{}).signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService,e.next=3,this.credentialProvider();case 3:if(c=e.sent,this.validateResolvedCredentials(c),null===s||void 0===s){e.next=9;break}e.t0=s,e.next=12;break;case 9:return e.next=11,this.regionProvider();case 11:e.t0=e.sent;case 12:return l=e.t0,d=da(t),f=ha(i),p=f.longDate,h=f.shortDate,v=ea(h,l,null!==u&&void 0!==u?u:this.service),d.headers[qo]=p,c.sessionToken&&(d.headers[Vo]=c.sessionToken),e.next=20,aa(d,this.sha256);case 20:return y=e.sent,!sa(zo,d.headers)&&this.applyChecksum&&(d.headers[zo]=y),m=ra(d,a,o),e.next=25,this.getSignature(p,v,this.getSigningKey(c,l,h,u),this.createCanonicalRequest(d,m,y));case 25:return g=e.sent,d.headers[Uo]="".concat($o," ")+"Credential=".concat(c.accessKeyId,"/").concat(v,", ")+"SignedHeaders=".concat(va(m),", ")+"Signature=".concat(g),e.abrupt("return",d);case 28:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createCanonicalRequest",value:function(e,t,n){var r=Object.keys(t).sort();return"".concat(e.method,"\n").concat(this.getCanonicalPath(e),"\n").concat(function(e){var t,n=e.query,r=void 0===n?{}:n,i=[],o={},a=(0,q.Z)(Object.keys(r).sort());try{var s=function(){var e=t.value;if(e.toLowerCase()===Ho)return"continue";i.push(e);var n=r[e];"string"===typeof n?o[e]="".concat(ia(e),"=").concat(ia(n)):Array.isArray(n)&&(o[e]=n.slice(0).sort().reduce((function(t,n){return t.concat(["".concat(ia(e),"=").concat(ia(n))])}),[]).join("&"))};for(a.s();!(t=a.n()).done;)s()}catch(u){a.e(u)}finally{a.f()}return i.map((function(e){return o[e]})).filter((function(e){return e})).join("&")}(e),"\n").concat(r.map((function(e){return"".concat(e,":").concat(t[e])})).join("\n"),"\n\n").concat(r.join(";"),"\n").concat(n)}},{key:"createStringToSign",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n,r){var i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(i=new this.sha256).update(Do(r)),e.next=4,i.digest();case 4:return o=e.sent,e.abrupt("return","".concat($o,"\n").concat(t,"\n").concat(n,"\n").concat(Mo(o)));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"getCanonicalPath",value:function(e){var t=e.path;if(this.uriEscapePath){var n,r=[],i=(0,q.Z)(t.split("/"));try{for(i.s();!(n=i.n()).done;){var o=n.value;0!==(null===o||void 0===o?void 0:o.length)&&("."!==o&&(".."===o?r.pop():r.push(o)))}}catch(s){i.e(s)}finally{i.f()}var a="".concat(null!==t&&void 0!==t&&t.startsWith("/")?"/":"").concat(r.join("/")).concat(r.length>0&&null!==t&&void 0!==t&&t.endsWith("/")?"/":"");return encodeURIComponent(a).replace(/%2F/g,"/")}return t}},{key:"getSignature",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n,r,i){var o,a;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.createStringToSign(t,n,i);case 2:return o=e.sent,e.t0=this.sha256,e.next=6,r;case 6:return e.t1=e.sent,(a=new e.t0(e.t1)).update(Do(o)),e.t2=Mo,e.next=12,a.digest();case 12:return e.t3=e.sent,e.abrupt("return",(0,e.t2)(e.t3));case 14:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"getSigningKey",value:function(e,t,n,r){return ta(this.sha256,e,n,t,r||this.service)}},{key:"validateResolvedCredentials",value:function(e){if("object"!==typeof e||"string"!==typeof e.accessKeyId||"string"!==typeof e.secretAccessKey)throw new Error("Resolved credential object is not valid")}}]),e}(),ha=function(e){var t,n=(t=e,fa(t).toISOString().replace(/\.\d{3}Z$/,"Z")).replace(/[\-:]/g,"");return{longDate:n,shortDate:n.slice(0,8)}},va=function(e){return Object.keys(e).sort().join(";")},ya=function(e){var t,n=e.credentials?ma(e.credentials):e.credentialDefaultProvider(e),r=e.signingEscapePath,i=void 0===r||r,o=e.systemClockOffset,a=void 0===o?e.systemClockOffset||0:o,s=e.sha256;return t=e.signer?Be(e.signer):e.regionInfoProvider?function(){return Be(e.region)().then(function(){var t=(0,U.Z)((0,j.Z)().mark((function t(n){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t1=e,t.t2=n,t.next=4,e.useFipsEndpoint();case 4:return t.t3=t.sent,t.next=7,e.useDualstackEndpoint();case 7:return t.t4=t.sent,t.t5={useFipsEndpoint:t.t3,useDualstackEndpoint:t.t4},t.next=11,t.t1.regionInfoProvider.call(t.t1,t.t2,t.t5);case 11:if(t.t0=t.sent,t.t0){t.next=14;break}t.t0={};case 14:return t.t6=t.t0,t.t7=n,t.abrupt("return",[t.t6,t.t7]);case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).then((function(t){var r=(0,F.Z)(t,2),o=r[0],a=r[1],u=o.signingRegion,c=o.signingService;e.signingRegion=e.signingRegion||u||a,e.signingName=e.signingName||c||e.serviceId;var l=(0,L.Z)((0,L.Z)({},e),{},{credentials:n,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:i});return new(e.signerConstructor||pa)(l)}))}:function(){var t=(0,U.Z)((0,j.Z)().mark((function t(r){var o,a,u,c;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Object,t.t1={},t.t2=e.signingName||e.defaultSigningName,t.next=5,Be(e.region)();case 5:return t.t3=t.sent,t.t4={},t.t5={name:"sigv4",signingName:t.t2,signingRegion:t.t3,properties:t.t4},t.t6=r,r=t.t0.assign.call(t.t0,t.t1,t.t5,t.t6),o=r.signingRegion,a=r.signingName,e.signingRegion=e.signingRegion||o,e.signingName=e.signingName||a||e.serviceId,u=(0,L.Z)((0,L.Z)({},e),{},{credentials:n,region:e.signingRegion,service:e.signingName,sha256:s,uriEscapePath:i}),c=e.signerConstructor||pa,t.abrupt("return",new c(u));case 17:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(0,L.Z)((0,L.Z)({},e),{},{systemClockOffset:a,signingEscapePath:i,credentials:n,signer:t})},ma=function(e){return"function"===typeof e?To(e,(function(e){return void 0!==e.expiration&&e.expiration.getTime()-Date.now()<3e5}),(function(e){return void 0!==e.expiration})):Be(e)},ga=function(e){return new Date(Date.now()+e)},ba=function(e,t){var n=Date.parse(e);return function(e,t){return Math.abs(ga(t).getTime()-e)>=3e5}(n,t)?n-Date.now():t},wa=function(e){var t,n,r;return Ln.isInstance(e)?null!==(t=null===(n=e.headers)||void 0===n?void 0:n.date)&&void 0!==t?t:null===(r=e.headers)||void 0===r?void 0:r.Date:void 0},Ea={name:"awsAuthMiddleware",tags:["SIGNATURE","AWSAUTH"],relation:"after",toMiddleware:"retryMiddleware",override:!0},Sa=function(e){return{applyToStack:function(t){t.addRelativeTo(function(e){return function(t,n){return function(){var r=(0,U.Z)((0,j.Z)().mark((function r(i){var o,a,s,u,c,l,d,f,p;return(0,j.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(Nn.isInstance(i.request)){r.next=2;break}return r.abrupt("return",t(i));case 2:return c=null===(o=n.endpointV2)||void 0===o||null===(a=o.properties)||void 0===a||null===(s=a.authSchemes)||void 0===s?void 0:s[0],l="sigv4a"===(null===c||void 0===c?void 0:c.name)?null===c||void 0===c||null===(u=c.signingRegionSet)||void 0===u?void 0:u.join(","):void 0,r.next=6,e.signer(c);case 6:return d=r.sent,r.t0=t,r.t1=L.Z,r.t2=(0,L.Z)({},i),r.t3={},r.next=13,d.sign(i.request,{signingDate:ga(e.systemClockOffset),signingRegion:l||n.signing_region,signingService:n.signing_service});case 13:return r.t4=r.sent,r.t5={request:r.t4},r.t6=(0,r.t1)(r.t2,r.t3,r.t5),r.next=18,(0,r.t0)(r.t6).catch((function(t){var n,r=null!==(n=t.ServerTime)&&void 0!==n?n:wa(t.$response);throw r&&(e.systemClockOffset=ba(r,e.systemClockOffset)),t}));case 18:return f=r.sent,(p=wa(f.response))&&(e.systemClockOffset=ba(p,e.systemClockOffset)),r.abrupt("return",f);case 22:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}(e),Ea)}}};function xa(e){return(0,L.Z)((0,L.Z)({},e),{},{customUserAgent:"string"===typeof e.customUserAgent?[[e.customUserAgent]]:e.customUserAgent})}var Aa="user-agent",_a="x-amz-user-agent",Ia=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,ka=function(e){var t=(0,F.Z)(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null===e||void 0===e?void 0:e.replace(Ia,"_")})).join("/")},Za={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Ta=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(){var r=(0,U.Z)((0,j.Z)().mark((function r(i){var o,a,s,u,c,l,d,f,p;return(0,j.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(s=i.request,Nn.isInstance(s)){r.next=3;break}return r.abrupt("return",e(i));case 3:return u=s.headers,c=(null===t||void 0===t||null===(o=t.userAgent)||void 0===o?void 0:o.map(ka))||[],r.next=7,n.defaultUserAgentProvider();case 7:return l=r.sent.map(ka),d=(null===n||void 0===n||null===(a=n.customUserAgent)||void 0===a?void 0:a.map(ka))||[],f=[].concat((0,N.Z)(l),(0,N.Z)(c),(0,N.Z)(d)).join(" "),p=[].concat((0,N.Z)(l.filter((function(e){return e.startsWith("aws-sdk-")}))),(0,N.Z)(d)).join(" "),"browser"!==n.runtime?(p&&(u[_a]=u[_a]?"".concat(u[Aa]," ").concat(p):p),u[Aa]=f):u[_a]=f,r.abrupt("return",e((0,L.Z)((0,L.Z)({},i),{},{request:s})));case 13:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}),Za)}}},Pa="3.281.0",Ra=function(e,t){return Ra=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Ra(e,t)};var Oa=function(){return Oa=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Oa.apply(this,arguments)};function Ma(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ca(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Da(e){return this instanceof Da?(this.v=e,this):new Da(e)}var Na=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Ra(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return Oa},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},__decorate:function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bl){o(bl)}}function s(e){try{u(r.throw(e))}catch(bl){o(bl)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bl){o=[6,bl],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Ma,__read:Ca,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Ca(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:Da,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Da?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(bl){l(o[0][3],bl)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:Da(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ma(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),La=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}})),Fa=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])})),ja=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){this.secret=e,this.reset()}return e.prototype.update=function(e){var t=this;(0,La.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(r(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e.prototype.reset=function(){var e;this.secret?(this.operation=(e=this.secret,new Promise((function(t,n){var i=(0,se.locateWindow)().msCrypto.subtle.importKey("raw",r(e),Fa.SHA_256_HMAC_ALGO,!1,["sign"]);i.oncomplete=function(){i.result&&t(i.result),n(new Error("ImportKey completed without importing key."))},i.onerror=function(){n(new Error("ImportKey failed to import key."))}}))).then((function(e){return(0,se.locateWindow)().msCrypto.subtle.sign(Fa.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,se.locateWindow)().msCrypto.subtle.digest("SHA-256"))},e}();function r(e){return"string"===typeof e?(0,ae.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=n})),Ua=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var n="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:ae.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?n(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}})),qa=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}})),Ba=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}})),Ha=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Uint32Array.from){for(var t=new Uint32Array(e.length),n=0;n<e.length;)t[n]=e[n],n+=1;return t}return Uint32Array.from(e)}})),za=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0,Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return Ua.convertToBuffer}}),Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return qa.isEmptyData}}),Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return Ba.numToUint8}}),Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return Ha.uint32ArrayFrom}})})),Va=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){this.toHash=new Uint8Array(0),this.secret=e,this.reset()}return e.prototype.update=function(e){if(!(0,za.isEmptyData)(e)){var t=(0,za.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,se.locateWindow)().crypto.subtle.sign(Fa.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,za.isEmptyData)(this.toHash)?Promise.resolve(Fa.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,se.locateWindow)().crypto.subtle.digest(Fa.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e.prototype.reset=function(){var e=this;this.toHash=new Uint8Array(0),this.secret&&void 0!==this.secret&&(this.key=new Promise((function(t,n){(0,se.locateWindow)().crypto.subtle.importKey("raw",(0,za.convertToBuffer)(e.secret),Fa.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))},e}();t.Sha256=n})),Wa=function(e,t){return Wa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Wa(e,t)};var Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ga.apply(this,arguments)};function Ka(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $a(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function Qa(e){return this instanceof Qa?(this.v=e,this):new Qa(e)}var Ya=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}Wa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return Ga},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},__decorate:function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bl){o(bl)}}function s(e){try{u(r.throw(e))}catch(bl){o(bl)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bl){o=[6,bl],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:Ka,__read:$a,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($a(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:Qa,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Qa?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(bl){l(o[0][3],bl)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:Qa(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ka(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),Ja=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1})),Xa=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var n=function(){function e(){this.state=Int32Array.from(Ja.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>Ja.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===Ja.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%Ja.BLOCK_SIZE>=Ja.BLOCK_SIZE-8){for(var r=this.bufferLength;r<Ja.BLOCK_SIZE;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<Ja.BLOCK_SIZE-8;r++)t.setUint8(r,0);t.setUint32(Ja.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(Ja.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var i=new Uint8Array(Ja.DIGEST_LENGTH);for(r=0;r<8;r++)i[4*r]=this.state[r]>>>24&255,i[4*r+1]=this.state[r]>>>16&255,i[4*r+2]=this.state[r]>>>8&255,i[4*r+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],u=t[6],c=t[7],l=0;l<Ja.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],f=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(f+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var h=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&s^~a&u)|0)+(c+(Ja.KEY[l]+this.temp[l]|0)|0)|0,v=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&i^r&i)|0;c=u,u=s,s=a,a=o+h|0,o=i,i=r,r=n,n=h+v|0}t[0]+=n,t[1]+=r,t[2]+=i,t[3]+=o,t[4]+=a,t[5]+=s,t[6]+=u,t[7]+=c},e}();t.RawSha256=n})),es=(0,Y.g)(Ya),ts=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){this.secret=e,this.hash=new Xa.RawSha256,this.reset()}return e.prototype.update=function(e){if(!(0,za.isEmptyData)(e)&&!this.error)try{this.hash.update((0,za.convertToBuffer)(e))}catch(bl){this.error=bl}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return es.__awaiter(this,void 0,void 0,(function(){return es.__generator(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new Xa.RawSha256,this.secret){this.outer=new Xa.RawSha256;var e=function(e){var t=(0,za.convertToBuffer)(e);if(t.byteLength>Ja.BLOCK_SIZE){var n=new Xa.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(Ja.BLOCK_SIZE);return r.set(t),r}(this.secret),t=new Uint8Array(Ja.BLOCK_SIZE);t.set(e);for(var n=0;n<Ja.BLOCK_SIZE;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(n=0;n<e.byteLength;n++)e[n]=0}},e}();t.Sha256=n})),ns=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),es.__exportStar(ts,t)})),rs=function(e,t){return rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},rs(e,t)};var is=function(){return is=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},is.apply(this,arguments)};function os(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function as(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ss(e){return this instanceof ss?(this.v=e,this):new ss(e)}var us=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}rs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return is},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},__decorate:function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bl){o(bl)}}function s(e){try{u(r.throw(e))}catch(bl){o(bl)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bl){o=[6,bl],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:os,__read:as,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(as(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:ss,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof ss?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(bl){l(o[0][3],bl)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:ss(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=os(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),cs=(0,Y.g)(us),ls=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function r(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}function i(e){return e&&n.every((function(t){return"function"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!r(e)||"object"!==typeof e.crypto.subtle)&&i(e.crypto.subtle)},t.supportsSecureRandom=r,t.supportsSubtleCrypto=i,t.supportsZeroByteGCM=function(e){return cs.__awaiter(this,void 0,void 0,(function(){var t;return cs.__generator(this,(function(n){switch(n.label){case 0:if(!i(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}})),ds=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),cs.__exportStar(ls,t)})),fs=function(e,t){return fs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},fs(e,t)};var ps=function(){return ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},ps.apply(this,arguments)};function hs(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vs(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function ys(e){return this instanceof ys?(this.v=e,this):new ys(e)}var ms=Object.freeze({__proto__:null,__extends:function(e,t){function n(){this.constructor=e}fs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},get __assign(){return ps},__rest:function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},__decorate:function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},__param:function(e,t){return function(n,r){t(n,r,e)}},__metadata:function(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)},__awaiter:function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bl){o(bl)}}function s(e){try{u(r.throw(e))}catch(bl){o(bl)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},__generator:function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bl){o=[6,bl],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},__createBinding:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},__exportStar:function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])},__values:hs,__read:vs,__spread:function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vs(arguments[t]));return e},__spreadArrays:function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r},__await:ys,__asyncGenerator:function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof ys?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(bl){l(o[0][3],bl)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}},__asyncDelegator:function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:ys(e[r](t)),done:"return"===r}:i?i(t):t}:i}},__asyncValues:function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=hs(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}},__makeTemplateObject:function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},__importStar:function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},__importDefault:function(e){return e&&e.__esModule?e:{default:e}},__classPrivateFieldGet:function(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)},__classPrivateFieldSet:function(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}}),gs=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),bs=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),ws=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Es=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0})})),Ss=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"===typeof e}))}return!1}})),xs=(0,Y.g)(ms),As=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),xs.__exportStar(gs,t),xs.__exportStar(bs,t),xs.__exportStar(ws,t),xs.__exportStar(Es,t),xs.__exportStar(Ss,t)})),_s=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var n=function(){function e(e){(0,ds.supportsWebCrypto)((0,se.locateWindow)())?this.hash=new Va.Sha256(e):(0,As.isMsWindow)((0,se.locateWindow)())?this.hash=new ja.Sha256(e):this.hash=new ns.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update((0,za.convertToBuffer)(e))},e.prototype.digest=function(){return this.hash.digest()},e.prototype.reset=function(){this.hash.reset()},e}();t.Sha256=n})),Is=(0,Y.g)(Na),ks=(0,Y.c)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,Is.__exportStar(_s,t),Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return ja.Sha256}}),Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return Va.Sha256}})}));function Zs(e){var t,n=[],r=(0,q.Z)(Object.keys(e).sort());try{for(r.s();!(t=r.n()).done;){var i=t.value,o=e[i];if(i=ia(i),Array.isArray(o))for(var a=0,s=o.length;a<s;a++)n.push("".concat(i,"=").concat(ia(o[a])));else{var u=i;(o||"string"===typeof o)&&(u+="=".concat(ia(o))),n.push(u)}}}catch(c){r.e(c)}finally{r.f()}return n.join("&")}function Ts(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(t,n){e&&setTimeout((function(){var t=new Error("Request did not complete within ".concat(e," ms"));t.name="TimeoutError",n(t)}),e)}))}for(var Ps=function(){function e(t){(0,B.Z)(this,e),"function"===typeof t?this.configProvider=t().then((function(e){return e||{}})):(this.config=null!==t&&void 0!==t?t:{},this.configProvider=Promise.resolve(this.config))}return(0,H.Z)(e,[{key:"destroy",value:function(){}},{key:"handle",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u,c,l,d,f,p,h=arguments;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(h.length>1&&void 0!==h[1]?h[1]:{}).abortSignal,this.config){e.next=5;break}return e.next=4,this.configProvider;case 4:this.config=e.sent;case 5:if(r=this.config.requestTimeout,null===n||void 0===n||!n.aborted){e.next=10;break}return(i=new Error("Request aborted")).name="AbortError",e.abrupt("return",Promise.reject(i));case 10:return o=t.path,t.query&&(a=Zs(t.query))&&(o+="?".concat(a)),s=t.port,u=t.method,c="".concat(t.protocol,"//").concat(t.hostname).concat(s?":".concat(s):"").concat(o),l="GET"===u||"HEAD"===u?void 0:t.body,d={body:l,headers:new Headers(t.headers),method:u},"undefined"!==typeof AbortController&&(d.signal=n),f=new Request(c,d),p=[fetch(f).then((function(e){var t,n=e.headers,r={},i=(0,q.Z)(n.entries());try{for(i.s();!(t=i.n()).done;){var o=t.value;r[o[0]]=o[1]}}catch(a){i.e(a)}finally{i.f()}return void 0!==e.body?{response:new Ln({headers:r,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Ln({headers:r,statusCode:e.status,body:t})}}))})),Ts(r)],n&&p.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),e.abrupt("return",Promise.race(p));case 21:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Rs={},Os=new Array(64),Ms=0,Cs="A".charCodeAt(0),Ds="Z".charCodeAt(0);Ms+Cs<=Ds;Ms++){var Ns=String.fromCharCode(Ms+Cs);Rs[Ns]=Ms,Os[Ms]=Ns}for(var Ls=0,Fs="a".charCodeAt(0),js="z".charCodeAt(0);Ls+Fs<=js;Ls++){var Us=String.fromCharCode(Ls+Fs),qs=Ls+26;Rs[Us]=qs,Os[qs]=Us}for(var Bs=0;Bs<10;Bs++){Rs[Bs.toString(10)]=Bs+52;var Hs=Bs.toString(10),zs=Bs+52;Rs[Hs]=zs,Os[zs]=Hs}Rs["+"]=62,Os[62]="+",Rs["/"]=63,Os[63]="/";var Vs=function(e){var t=e.length/4*3;"=="===e.slice(-2)?t-=2:"="===e.slice(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)if("="!==e[s]){if(!(e[s]in Rs))throw new TypeError("Invalid character ".concat(e[s]," in base64 string."));o|=Rs[e[s]]<<6*(u-s),a+=6}else o>>=6;var c=i/4*3;o>>=a%8;for(var l=Math.floor(a/8),d=0;d<l;d++){var f=8*(l-d-1);r.setUint8(c+d,(o&255<<f)>>f)}}return new Uint8Array(n)};function Ws(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var u=1;u<=s;u++){var c=6*(s-u);t+=Os[(r&63<<c)>>c]}t+="==".slice(0,4-s)}return t}var Gs=function(e){return"function"===typeof Blob&&e instanceof Blob?function(e){return Ks.apply(this,arguments)}(e):function(e){return $s.apply(this,arguments)}(e)};function Ks(){return(Ks=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qs(t);case 2:return n=e.sent,r=Vs(n),e.abrupt("return",new Uint8Array(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $s(){return($s=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Uint8Array(0),r=t.getReader(),i=!1;case 3:if(i){e.next=13;break}return e.next=6,r.read();case 6:o=e.sent,a=o.done,(s=o.value)&&(u=n,(n=new Uint8Array(u.length+s.length)).set(u),n.set(s,u.length)),i=a,e.next=3;break;case 13:return e.abrupt("return",n);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var Ys=function(e){return function(){return Promise.reject(e)}},Js=function(e){if("string"===typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t}if("number"===typeof e.byteLength)return e.byteLength;if("number"===typeof e.size)return e.size;throw new Error("Body Length computation failed for ".concat(e))},Xs=function(e){var t=e.serviceId,n=e.clientVersion;return(0,U.Z)((0,j.Z)().mark((function e(){var r,i,o,a,s,u,c,l,d,f;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d="undefined"!==typeof window&&null!==(r=window)&&void 0!==r&&null!==(i=r.navigator)&&void 0!==i&&i.userAgent?ce.parse(window.navigator.userAgent):void 0,f=[["aws-sdk-js",n],["os/".concat((null===d||void 0===d||null===(o=d.os)||void 0===o?void 0:o.name)||"other"),null===d||void 0===d||null===(a=d.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser","".concat(null!==(s=null===d||void 0===d||null===(u=d.browser)||void 0===u?void 0:u.name)&&void 0!==s?s:"unknown","_").concat(null!==(c=null===d||void 0===d||null===(l=d.browser)||void 0===l?void 0:l.version)&&void 0!==c?c:"unknown")]],t&&f.push(["api/".concat(t),n]),e.abrupt("return",f);case 4:case"end":return e.stop()}}),e)})))},eu=[{id:"aws",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:{"af-south-1":{description:"Africa (Cape Town)"},"ap-east-1":{description:"Asia Pacific (Hong Kong)"},"ap-northeast-1":{description:"Asia Pacific (Tokyo)"},"ap-northeast-2":{description:"Asia Pacific (Seoul)"},"ap-northeast-3":{description:"Asia Pacific (Osaka)"},"ap-south-1":{description:"Asia Pacific (Mumbai)"},"ap-south-2":{description:"Asia Pacific (Hyderabad)"},"ap-southeast-1":{description:"Asia Pacific (Singapore)"},"ap-southeast-2":{description:"Asia Pacific (Sydney)"},"ap-southeast-3":{description:"Asia Pacific (Jakarta)"},"ap-southeast-4":{description:"Asia Pacific (Melbourne)"},"aws-global":{description:"AWS Standard global region"},"ca-central-1":{description:"Canada (Central)"},"eu-central-1":{description:"Europe (Frankfurt)"},"eu-central-2":{description:"Europe (Zurich)"},"eu-north-1":{description:"Europe (Stockholm)"},"eu-south-1":{description:"Europe (Milan)"},"eu-south-2":{description:"Europe (Spain)"},"eu-west-1":{description:"Europe (Ireland)"},"eu-west-2":{description:"Europe (London)"},"eu-west-3":{description:"Europe (Paris)"},"me-central-1":{description:"Middle East (UAE)"},"me-south-1":{description:"Middle East (Bahrain)"},"sa-east-1":{description:"South America (Sao Paulo)"},"us-east-1":{description:"US East (N. Virginia)"},"us-east-2":{description:"US East (Ohio)"},"us-west-1":{description:"US West (N. California)"},"us-west-2":{description:"US West (Oregon)"}}},{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn",dualStackDnsSuffix:"api.amazonwebservices.com.cn",name:"aws-cn",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:{"aws-cn-global":{description:"AWS China global region"},"cn-north-1":{description:"China (Beijing)"},"cn-northwest-1":{description:"China (Ningxia)"}}},{id:"aws-us-gov",outputs:{dnsSuffix:"amazonaws.com",dualStackDnsSuffix:"api.aws",name:"aws-us-gov",supportsDualStack:!0,supportsFIPS:!0},regionRegex:"^us\\-gov\\-\\w+\\-\\d+$",regions:{"aws-us-gov-global":{description:"AWS GovCloud (US) global region"},"us-gov-east-1":{description:"AWS GovCloud (US-East)"},"us-gov-west-1":{description:"AWS GovCloud (US-West)"}}},{id:"aws-iso",outputs:{dnsSuffix:"c2s.ic.gov",dualStackDnsSuffix:"c2s.ic.gov",name:"aws-iso",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-iso\\-\\w+\\-\\d+$",regions:{"aws-iso-global":{description:"AWS ISO (US) global region"},"us-iso-east-1":{description:"US ISO East"},"us-iso-west-1":{description:"US ISO WEST"}}},{id:"aws-iso-b",outputs:{dnsSuffix:"sc2s.sgov.gov",dualStackDnsSuffix:"sc2s.sgov.gov",name:"aws-iso-b",supportsDualStack:!1,supportsFIPS:!0},regionRegex:"^us\\-isob\\-\\w+\\-\\d+$",regions:{"aws-iso-b-global":{description:"AWS ISOB (US) global region"},"us-isob-east-1":{description:"US ISOB East (Ohio)"}}}],tu=eu.find((function(e){return"aws"===e.id})),nu="endpoints";function ru(e){return"object"!==typeof e||null==e?e:"ref"in e?"$".concat(ru(e.ref)):"fn"in e?"".concat(e.fn,"(").concat((e.argv||[]).map(ru).join(", "),")"):JSON.stringify(e,null,2)}var iu,ou,au,su=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,e)).name="EndpointError",r}return(0,H.Z)(n)}((0,D.Z)(Error)),uu=new RegExp("^(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}$"),cu=function(e){return uu.test(e)||e.startsWith("[")&&e.endsWith("]")},lu=new RegExp("^(?!.*-$)(?!-)[a-zA-Z0-9-]{1,63}$"),du=function e(t){if(!(arguments.length>1&&void 0!==arguments[1]&&arguments[1]))return lu.test(t);var n,r=t.split("."),i=(0,q.Z)(r);try{for(i.s();!(n=i.n()).done;){if(!e(n.value))return!1}}catch(o){i.e(o)}finally{i.f()}return!0},fu=Object.freeze({__proto__:null,isVirtualHostableS3Bucket:function e(t){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){var n,r=(0,q.Z)(t.split("."));try{for(r.s();!(n=r.n()).done;){if(!e(n.value))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}return!!du(t)&&(!(t.length<3||t.length>63)&&(t===t.toLowerCase()&&!cu(t)))},parseArn:function(e){var t=e.split(":");if(t.length<6)return null;var n=(0,R.Z)(t),r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],u=n.slice(5);return"arn"!==r||""===i||""===o||""===u[0]?null:{partition:i,service:o,region:a,accountId:s,resourceId:u[0].includes("/")?u[0].split("/"):u}},partition:function(e){var t,n=(0,q.Z)(eu);try{for(n.s();!(t=n.n()).done;)for(var r=t.value,i=r.regions,o=r.outputs,a=0,s=Object.entries(i);a<s.length;a++){var u=(0,F.Z)(s[a],2),c=u[0],l=u[1];if(c===e)return(0,L.Z)((0,L.Z)({},o),l)}}catch(y){n.e(y)}finally{n.f()}var d,f=(0,q.Z)(eu);try{for(f.s();!(d=f.n()).done;){var p=d.value,h=p.regionRegex,v=p.outputs;if(new RegExp(h).test(e))return(0,L.Z)({},v)}}catch(y){f.e(y)}finally{f.f()}if(!tu)throw new Error("Provided region was not found in the partition array or regex, and default partition with id 'aws' doesn't exist.");return(0,L.Z)({},tu.outputs)}}),pu=function(e,t){return function(e){var t,n=e.split("."),r=[],i=(0,q.Z)(n);try{for(i.s();!(t=i.n()).done;){var o=t.value,a=o.indexOf("[");if(-1!==a){if(o.indexOf("]")!==o.length-1)throw new su("Path: '".concat(e,"' does not end with ']'"));var s=o.slice(a+1,-1);if(Number.isNaN(parseInt(s)))throw new su("Invalid array index: '".concat(s,"' in path: '").concat(e,"'"));0!==a&&r.push(o.slice(0,a)),r.push(s)}else r.push(o)}}catch(u){i.e(u)}finally{i.f()}return r}(t).reduce((function(n,r){if("object"!==typeof n)throw new su("Index '".concat(r,"' in '").concat(t,"' not found in '").concat(JSON.stringify(e),"'"));return Array.isArray(n)?n[parseInt(r)]:n[r]}),e)};!function(e){e.HEADER="header",e.QUERY="query"}(iu||(iu={})),function(e){e.AAAA="AAAA",e.A="A"}(ou||(ou={})),function(e){e.HTTP="http",e.HTTPS="https"}(au||(au={}));var hu,vu,yu,mu,gu,bu=(r={},(0,M.Z)(r,au.HTTP,80),(0,M.Z)(r,au.HTTPS,443),r),wu=Object.freeze({__proto__:null,aws:fu,booleanEquals:function(e,t){return e===t},getAttr:pu,isSet:function(e){return null!=e},isValidHostLabel:du,not:function(e){return!e},parseURL:function(e){var t=function(){try{if(e instanceof URL)return e;if("object"===typeof e&&"hostname"in e){var t=e.hostname,n=e.port,r=e.protocol,i=void 0===r?"":r,o=e.path,a=void 0===o?"":o,s=e.query,u=void 0===s?{}:s,c=new URL("".concat(i,"//").concat(t).concat(n?":".concat(n):"").concat(a));return c.search=Object.entries(u).map((function(e){var t=(0,F.Z)(e,2),n=t[0],r=t[1];return"".concat(n,"=").concat(r)})).join("&"),c}return new URL(e)}catch(l){return null}}();if(!t)return console.error("Unable to parse ".concat(JSON.stringify(e)," as a whatwg URL.")),null;var n=t.href,r=t.host,i=t.hostname,o=t.pathname,a=t.protocol;if(t.search)return null;var s=a.slice(0,-1);if(!Object.values(au).includes(s))return null;var u=cu(i),c=n.includes("".concat(r,":").concat(bu[s]))||"string"===typeof e&&e.includes("".concat(r,":").concat(bu[s]));return{scheme:s,authority:"".concat(r).concat(c?":".concat(bu[s]):""),path:o,normalizedPath:o.endsWith("/")?o:"".concat(o,"/"),isIp:u}},stringEquals:function(e,t){return e===t},substring:function(e,t,n,r){return t>=n||e.length<n?null:r?e.substring(e.length-n,e.length-t):e.substring(t,n)},uriEncode:function(e){return encodeURIComponent(e).replace(/[!*'()]/g,(function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())}))}}),Eu=function(e,t){for(var n=[],r=(0,L.Z)((0,L.Z)({},t.endpointParams),t.referenceRecord),i=0;i<e.length;){var o=e.indexOf("{",i);if(-1===o){n.push(e.slice(i));break}n.push(e.slice(i,o));var a=e.indexOf("}",o);if(-1===a){n.push(e.slice(o));break}"{"===e[o+1]&&"}"===e[a+1]&&(n.push(e.slice(o+1,a)),i=a+2);var s=e.substring(o+1,a);if(s.includes("#")){var u=s.split("#"),c=(0,F.Z)(u,2),l=c[0],d=c[1];n.push(pu(r[l],d))}else n.push(r[s]);i=a+1}return n.join("")},Su=function(e,t,n){if("string"===typeof e)return Eu(e,n);if(e.fn)return xu(e,n);if(e.ref)return function(e,t){var n=e.ref;return(0,L.Z)((0,L.Z)({},t.endpointParams),t.referenceRecord)[n]}(e,n);throw new su("'".concat(t,"': ").concat(String(e)," is not a string, function or reference."))},xu=function(e,t){var n=e.fn,r=e.argv.map((function(e){return["boolean","number"].includes(typeof e)?e:Su(e,"arg",t)}));return n.split(".").reduce((function(e,t){return e[t]}),wu).apply(void 0,(0,N.Z)(r))},Au=function(e,t){var n,r,i=e.assign,o=(0,O.Z)(e,ne);if(i&&i in t.referenceRecord)throw new su("'".concat(i,"' is already defined in Reference Record."));var a=xu(o,t);return null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,nu,"evaluateCondition: ".concat(ru(o)," = ").concat(ru(a))),(0,L.Z)({result:""===a||!!a},null!=i&&{toAssign:{name:i,value:a}})},_u=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r={},i=(0,q.Z)(t);try{for(i.s();!(e=i.n()).done;){var o,a,s,u=e.value,c=Au(u,(0,L.Z)((0,L.Z)({},n),{},{referenceRecord:(0,L.Z)((0,L.Z)({},n.referenceRecord),r)})),l=c.result,d=c.toAssign;if(!l)return{result:l};if(d)r[d.name]=d.value,null===(o=n.logger)||void 0===o||null===(a=(s=o).debug)||void 0===a||a.call(s,nu,"assign: ".concat(d.name," := ").concat(ru(d.value)))}}catch(f){i.e(f)}finally{i.f()}return{result:!0,referenceRecord:r}},Iu=function(e,t){return Object.entries(e).reduce((function(e,n){var r=(0,F.Z)(n,2),i=r[0],o=r[1];return(0,L.Z)((0,L.Z)({},e),{},(0,M.Z)({},i,o.map((function(e){var n=Su(e,"Header value entry",t);if("string"!==typeof n)throw new su("Header '".concat(i,"' value '").concat(n,"' is not a string"));return n}))))}),{})},ku=function e(t,n){if(Array.isArray(t))return t.map((function(t){return e(t,n)}));switch(typeof t){case"string":return Eu(t,n);case"object":if(null===t)throw new su("Unexpected endpoint property: ".concat(t));return Zu(t,n);case"boolean":return t;default:throw new su("Unexpected endpoint property type: ".concat(typeof t))}},Zu=function(e,t){return Object.entries(e).reduce((function(e,n){var r=(0,F.Z)(n,2),i=r[0],o=r[1];return(0,L.Z)((0,L.Z)({},e),{},(0,M.Z)({},i,ku(o,t)))}),{})},Tu=function(e,t){var n=Su(e,"Endpoint URL",t);if("string"===typeof n)try{return new URL(n)}catch(r){throw console.error("Failed to construct URL with ".concat(n),r),r}throw new su("Endpoint URL must be a string, got ".concat(typeof n))},Pu=function(e,t){var n,r,i=e.conditions,o=e.endpoint,a=_u(i,t),s=a.result,u=a.referenceRecord;if(s){var c=(0,L.Z)((0,L.Z)({},t),{},{referenceRecord:(0,L.Z)((0,L.Z)({},t.referenceRecord),u)}),l=o.url,d=o.properties,f=o.headers;return null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,nu,"Resolving endpoint from template: ".concat(ru(o))),(0,L.Z)((0,L.Z)((0,L.Z)({},void 0!=f&&{headers:Iu(f,c)}),void 0!=d&&{properties:Zu(d,c)}),{},{url:Tu(l,c)})}},Ru=function(e,t){var n=e.conditions,r=e.error,i=_u(n,t),o=i.result,a=i.referenceRecord;if(o)throw new su(Su(r,"Error",(0,L.Z)((0,L.Z)({},t),{},{referenceRecord:(0,L.Z)((0,L.Z)({},t.referenceRecord),a)})))},Ou=function(e,t){var n=e.conditions,r=e.rules,i=_u(n,t),o=i.result,a=i.referenceRecord;if(o)return Mu(r,(0,L.Z)((0,L.Z)({},t),{},{referenceRecord:(0,L.Z)((0,L.Z)({},t.referenceRecord),a)}))},Mu=function(e,t){var n,r=(0,q.Z)(e);try{for(r.s();!(n=r.n()).done;){var i=n.value;if("endpoint"===i.type){var o=Pu(i,t);if(o)return o}else if("error"===i.type)Ru(i,t);else{if("tree"!==i.type)throw new su("Unknown endpoint rule: ".concat(i));var a=Ou(i,t);if(a)return a}}}catch(s){r.e(s)}finally{r.f()}throw new su("Rules evaluation failed")},Cu=function(e,t){var n,r,i,o,a,s=t.endpointParams,u=t.logger,c=e.parameters,l=e.rules;null===(n=t.logger)||void 0===n||null===(r=n.debug)||void 0===r||r.call(n,nu,"Initial EndpointParams: ".concat(ru(s)));var d=Object.entries(c).filter((function(e){return null!=(0,F.Z)(e,2)[1].default})).map((function(e){var t=(0,F.Z)(e,2);return[t[0],t[1].default]}));if(d.length>0){var f,p=(0,q.Z)(d);try{for(p.s();!(f=p.n()).done;){var h,v=(0,F.Z)(f.value,2),y=v[0],m=v[1];s[y]=null!==(h=s[y])&&void 0!==h?h:m}}catch(I){p.e(I)}finally{p.f()}}var g,b=Object.entries(c).filter((function(e){return(0,F.Z)(e,2)[1].required})).map((function(e){return(0,F.Z)(e,1)[0]})),w=(0,q.Z)(b);try{for(w.s();!(g=w.n()).done;){var E=g.value;if(null==s[E])throw new su("Missing required parameter: '".concat(E,"'"))}}catch(I){w.e(I)}finally{w.f()}var S=Mu(l,{endpointParams:s,logger:u,referenceRecord:{}});if(null!==(i=t.endpointParams)&&void 0!==i&&i.Endpoint)try{var x=new URL(t.endpointParams.Endpoint),A=x.protocol,_=x.port;S.url.protocol=A,S.url.port=_}catch(bl){}return null===(o=t.logger)||void 0===o||null===(a=o.debug)||void 0===a||a.call(o,nu,"Resolved endpoint: ".concat(ru(S))),S},Du="required",Nu="fn",Lu="argv",Fu="ref",ju="PartitionResult",Uu="tree",qu="error",Bu="endpoint",Hu=(i={},(0,M.Z)(i,Du,!1),(0,M.Z)(i,"type","String"),i),zu=(o={},(0,M.Z)(o,Du,!0),(0,M.Z)(o,"default",!1),(0,M.Z)(o,"type","Boolean"),o),Vu=(0,M.Z)({},Fu,"Endpoint"),Wu=(a={},(0,M.Z)(a,Nu,"booleanEquals"),(0,M.Z)(a,Lu,[(0,M.Z)({},Fu,"UseFIPS"),!0]),a),Gu=(s={},(0,M.Z)(s,Nu,"booleanEquals"),(0,M.Z)(s,Lu,[(0,M.Z)({},Fu,"UseDualStack"),!0]),s),Ku={},$u=(c={},(0,M.Z)(c,Nu,"booleanEquals"),(0,M.Z)(c,Lu,[!0,(u={},(0,M.Z)(u,Nu,"getAttr"),(0,M.Z)(u,Lu,[(0,M.Z)({},Fu,ju),"supportsFIPS"]),u)]),c),Qu=(d={},(0,M.Z)(d,Nu,"booleanEquals"),(0,M.Z)(d,Lu,[!0,(l={},(0,M.Z)(l,Nu,"getAttr"),(0,M.Z)(l,Lu,[(0,M.Z)({},Fu,ju),"supportsDualStack"]),l)]),d),Yu=[Vu],Ju=[Wu],Xu=[Gu],ec={version:"1.0",parameters:{Region:Hu,UseDualStack:zu,UseFIPS:zu,Endpoint:Hu},rules:[{conditions:[(f={},(0,M.Z)(f,Nu,"aws.partition"),(0,M.Z)(f,Lu,[(0,M.Z)({},Fu,"Region")]),(0,M.Z)(f,"assign",ju),f)],type:Uu,rules:[{conditions:[(p={},(0,M.Z)(p,Nu,"isSet"),(0,M.Z)(p,Lu,Yu),p),(h={},(0,M.Z)(h,Nu,"parseURL"),(0,M.Z)(h,Lu,Yu),(0,M.Z)(h,"assign","url"),h)],type:Uu,rules:[{conditions:Ju,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:qu},{type:Uu,rules:[{conditions:Xu,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:qu},{endpoint:{url:Vu,properties:Ku,headers:Ku},type:Bu}]}]},{conditions:[Wu,Gu],type:Uu,rules:[{conditions:[$u,Qu],type:Uu,rules:[{endpoint:{url:"https://iotsitewise-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ku,headers:Ku},type:Bu}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:qu}]},{conditions:Ju,type:Uu,rules:[{conditions:[$u],type:Uu,rules:[{type:Uu,rules:[{endpoint:{url:"https://iotsitewise-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Ku,headers:Ku},type:Bu}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:qu}]},{conditions:Xu,type:Uu,rules:[{conditions:[Qu],type:Uu,rules:[{endpoint:{url:"https://iotsitewise.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Ku,headers:Ku},type:Bu}]},{error:"DualStack is enabled but this partition does not support DualStack",type:qu}]},{endpoint:{url:"https://iotsitewise.{Region}.{PartitionResult#dnsSuffix}",properties:Ku,headers:Ku},type:Bu}]}]},tc=function(e){return Cu(ec,{endpointParams:e,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})},nc=["in-region","cross-region","mobile","standard","legacy"],rc=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).defaultsMode;return To((0,U.Z)((0,j.Z)().mark((function t(){var n;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("function"!==typeof e){t.next=6;break}return t.next=3,e();case 3:t.t0=t.sent,t.next=7;break;case 6:t.t0=e;case 7:n=t.t0,t.t1=null===n||void 0===n?void 0:n.toLowerCase(),t.next="auto"===t.t1?11:"mobile"===t.t1||"in-region"===t.t1||"cross-region"===t.t1||"standard"===t.t1||"legacy"===t.t1?12:void 0===t.t1?13:14;break;case 11:return t.abrupt("return",Promise.resolve(ic()?"mobile":"standard"));case 12:return t.abrupt("return",Promise.resolve(null===n||void 0===n?void 0:n.toLocaleLowerCase()));case 13:return t.abrupt("return",Promise.resolve("legacy"));case 14:throw new Error('Invalid parameter for "defaultsMode", expect '.concat(nc.join(", "),", got ").concat(n));case 15:case"end":return t.stop()}}),t)}))))},ic=function(){var e,t,n,r="undefined"!==typeof window&&null!==(e=window)&&void 0!==e&&null!==(t=e.navigator)&&void 0!==t&&t.userAgent?ce.parse(window.navigator.userAgent):void 0,i=null===r||void 0===r||null===(n=r.platform)||void 0===n?void 0:n.type;return"tablet"===i||"mobile"===i},oc=function(e){var t,n,r,i,o,a,s,u,c,l,d,f=rc(e),p=function(){return f().then(yt)},h=function(e){var t,n,r,i,o,a,s,u,c;return{apiVersion:"2019-12-02",base64Decoder:null!==(t=null===e||void 0===e?void 0:e.base64Decoder)&&void 0!==t?t:Vs,base64Encoder:null!==(n=null===e||void 0===e?void 0:e.base64Encoder)&&void 0!==n?n:Ws,disableHostPrefix:null!==(r=null===e||void 0===e?void 0:e.disableHostPrefix)&&void 0!==r&&r,endpointProvider:null!==(i=null===e||void 0===e?void 0:e.endpointProvider)&&void 0!==i?i:tc,logger:null!==(o=null===e||void 0===e?void 0:e.logger)&&void 0!==o?o:new ze,serviceId:null!==(a=null===e||void 0===e?void 0:e.serviceId)&&void 0!==a?a:"IoTSiteWise",urlParser:null!==(s=null===e||void 0===e?void 0:e.urlParser)&&void 0!==s?s:De,utf8Decoder:null!==(u=null===e||void 0===e?void 0:e.utf8Decoder)&&void 0!==u?u:Co,utf8Encoder:null!==(c=null===e||void 0===e?void 0:e.utf8Encoder)&&void 0!==c?c:No}}(e);return(0,L.Z)((0,L.Z)((0,L.Z)({},h),e),{},{runtime:"browser",defaultsMode:f,bodyLengthChecker:null!==(t=null===e||void 0===e?void 0:e.bodyLengthChecker)&&void 0!==t?t:Js,credentialDefaultProvider:null!==(n=null===e||void 0===e?void 0:e.credentialDefaultProvider)&&void 0!==n?n:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(r=null===e||void 0===e?void 0:e.defaultUserAgentProvider)&&void 0!==r?r:Xs({serviceId:h.serviceId,clientVersion:Pa}),maxAttempts:null!==(i=null===e||void 0===e?void 0:e.maxAttempts)&&void 0!==i?i:3,region:null!==(o=null===e||void 0===e?void 0:e.region)&&void 0!==o?o:Ys("Region is missing"),requestHandler:null!==(a=null===e||void 0===e?void 0:e.requestHandler)&&void 0!==a?a:new Ps(p),retryMode:null!==(s=null===e||void 0===e?void 0:e.retryMode)&&void 0!==s?s:(0,U.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(e.t0=e.sent.retryMode,e.t0){e.next=5;break}e.t0=lo;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),sha256:null!==(u=null===e||void 0===e?void 0:e.sha256)&&void 0!==u?u:ks.Sha256,streamCollector:null!==(c=null===e||void 0===e?void 0:e.streamCollector)&&void 0!==c?c:Gs,useDualstackEndpoint:null!==(l=null===e||void 0===e?void 0:e.useDualstackEndpoint)&&void 0!==l?l:function(){return Promise.resolve(false)},useFipsEndpoint:null!==(d=null===e||void 0===e?void 0:e.useFipsEndpoint)&&void 0!==d?d:function(){return Promise.resolve(false)}})},ac=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;(0,B.Z)(this,n);var i=function(e){var t,n;return(0,L.Z)((0,L.Z)({},e),{},{useDualstackEndpoint:null!==(t=e.useDualstackEndpoint)&&void 0!==t&&t,useFipsEndpoint:null!==(n=e.useFipsEndpoint)&&void 0!==n&&n,defaultSigningName:"iotsitewise"})}(oc(e)),o=Ji(i),a=He(o),s=So(a),u=xa(ya(s));return(r=t.call(this,u)).config=u,r.middlewareStack.use(ko(r.config)),r.middlewareStack.use(to(r.config)),r.middlewareStack.use(io(r.config)),r.middlewareStack.use(ao()),r.middlewareStack.use(co(r.config)),r.middlewareStack.use(Sa(r.config)),r.middlewareStack.use(Ta(r.config)),r}return(0,H.Z)(n,[{key:"destroy",value:function(){(0,z.Z)((0,V.Z)(n.prototype),"destroy",this).call(this)}}]),n}(Ke),sc=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),r=t.call(this,e),Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(ft);!function(e){e.JSON="JSON",e.STRING="STRING"}(hu||(hu={})),function(e){e.ACTIVATING="ACTIVATING",e.ACTIVE="ACTIVE",e.FAILED="FAILED",e.INACTIVE="INACTIVE"}(vu||(vu={})),function(e){e.EQUAL="EQUAL",e.GREATER="GREATER",e.GREATER_OR_EQUAL="GREATER_OR_EQUAL",e.LESS="LESS",e.LESS_OR_EQUAL="LESS_OR_EQUAL",e.NOT_EQUAL="NOT_EQUAL"}(yu||(yu={})),function(e){e.ERROR="ERROR",e.INFO="INFO",e.WARNING="WARNING"}(mu||(mu={})),function(e){e.COMPLETE="COMPLETE",e.FAILED="FAILED",e.RUNNING="RUNNING"}(gu||(gu={}));var uc,cc,lc,dc=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"InternalFailureException",$fault:"server"},e))).name="InternalFailureException",r.$fault="server",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(sc),fc=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"InvalidRequestException",$fault:"client"},e))).name="InvalidRequestException",r.$fault="client",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(sc),pc=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"ServiceUnavailableException",$fault:"server"},e))).name="ServiceUnavailableException",r.$fault="server",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(sc),hc=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"ThrottlingException",$fault:"client"},e))).name="ThrottlingException",r.$fault="client",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(sc);!function(e){e.BATCH="BATCH",e.SERIAL="SERIAL"}(uc||(uc={})),function(e){e.ACTIVATING="ACTIVATING",e.ACTIVE="ACTIVE",e.DEPRECATED="DEPRECATED",e.DRAFT="DRAFT",e.FAILED="FAILED",e.INACTIVE="INACTIVE",e.PAUSED="PAUSED"}(cc||(cc={})),function(e){e.ACTIVE="ACTIVE",e.CREATING="CREATING",e.DELETING="DELETING",e.UPDATING="UPDATING"}(lc||(lc={}));var vc,yc=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this,(0,L.Z)({name:"ResourceNotFoundException",$fault:"client"},e))).name="ResourceNotFoundException",r.$fault="client",Object.setPrototypeOf((0,C.Z)(r),n.prototype),r}return(0,H.Z)(n)}(sc);!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO"}(vc||(vc={}));var mc,gc=function(e){return(0,L.Z)({},e)},bc=function(e){return(0,L.Z)({},e)},wc=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,d;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.endpoint();case 2:return r=e.sent,i=r.hostname,o=r.protocol,a=void 0===o?"https":o,s=r.port,u=r.path,c={},l="".concat(null!==u&&void 0!==u&&u.endsWith("/")?u.slice(0,-1):u||"")+"/alarm-models/{alarmModelName}",l=Ct(l,t,"alarmModelName",(function(){return t.alarmModelName}),"{alarmModelName}",!1),d=xc({version:[,t.alarmModelVersion]}),e.abrupt("return",new Nn({protocol:a,hostname:i,port:s,method:"GET",headers:c,path:l,query:d,body:undefined}));case 13:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ec=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(200!==t.statusCode&&t.statusCode>=300)){e.next=2;break}return e.abrupt("return",Sc(t,n));case 2:return r=xc({$metadata:il(t)}),e.t0=nt,e.t1=rt,e.next=7,al(t.body,n);case 7:return e.t2=e.sent,e.t3=(0,e.t1)(e.t2),null!=(i=(0,e.t0)(e.t3,"body")).alarmCapabilities&&(r.alarmCapabilities=Rc(i.alarmCapabilities)),null!=i.alarmEventActions&&(r.alarmEventActions=Oc(i.alarmEventActions)),null!=i.alarmModelArn&&(r.alarmModelArn=it(i.alarmModelArn)),null!=i.alarmModelDescription&&(r.alarmModelDescription=it(i.alarmModelDescription)),null!=i.alarmModelName&&(r.alarmModelName=it(i.alarmModelName)),null!=i.alarmModelVersion&&(r.alarmModelVersion=it(i.alarmModelVersion)),null!=i.alarmNotification&&(r.alarmNotification=Mc(i.alarmNotification)),null!=i.alarmRule&&(r.alarmRule=Cc(i.alarmRule)),null!=i.creationTime&&(r.creationTime=nt(dt(Ye(i.creationTime)))),null!=i.key&&(r.key=it(i.key)),null!=i.lastUpdateTime&&(r.lastUpdateTime=nt(dt(Ye(i.lastUpdateTime)))),null!=i.roleArn&&(r.roleArn=it(i.roleArn)),null!=i.severity&&(r.severity=Xe(i.severity)),null!=i.status&&(r.status=it(i.status)),null!=i.statusMessage&&(r.statusMessage=it(i.statusMessage)),e.abrupt("return",r);case 26:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Sc=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=L.Z,e.t1=(0,L.Z)({},t),e.t2={},e.next=5,sl(t.body,n);case 5:e.t3=e.sent,e.t4={body:e.t3},r=(0,e.t0)(e.t1,e.t2,e.t4),i=ul(t,r.body),e.t5=i,e.next="InternalFailureException"===e.t5||"com.amazonaws.iotevents#InternalFailureException"===e.t5?12:"InvalidRequestException"===e.t5||"com.amazonaws.iotevents#InvalidRequestException"===e.t5?15:"ResourceNotFoundException"===e.t5||"com.amazonaws.iotevents#ResourceNotFoundException"===e.t5?18:"ServiceUnavailableException"===e.t5||"com.amazonaws.iotevents#ServiceUnavailableException"===e.t5?21:"ThrottlingException"===e.t5||"com.amazonaws.iotevents#ThrottlingException"===e.t5?24:27;break;case 12:return e.next=14,Ac(r);case 14:throw e.sent;case 15:return e.next=17,_c(r);case 17:throw e.sent;case 18:return e.next=20,Ic(r);case 20:throw e.sent;case 21:return e.next=23,kc(r);case 23:throw e.sent;case 24:return e.next=26,Zc(r);case 26:throw e.sent;case 27:o=r.body,ht({output:t,parsedBody:o,exceptionCtor:sc,errorCode:i});case 29:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),xc=bt,Ac=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new dc((0,L.Z)({$metadata:il(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_c=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new fc((0,L.Z)({$metadata:il(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ic=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new yc((0,L.Z)({$metadata:il(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),kc=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new pc((0,L.Z)({$metadata:il(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zc=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=xc({}),null!=(i=t.body).message&&(r.message=it(i.message)),o=new hc((0,L.Z)({$metadata:il(t)},r)),e.abrupt("return",pt(o,t.body));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Tc=function(e,t){return{enabled:Qe(e.enabled)}},Pc=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{dynamoDB:null!=e.dynamoDB?Fc(e.dynamoDB):void 0,dynamoDBv2:null!=e.dynamoDBv2?jc(e.dynamoDBv2):void 0,firehose:null!=e.firehose?Hc(e.firehose):void 0,iotEvents:null!=e.iotEvents?Vc(e.iotEvents):void 0,iotSiteWise:null!=e.iotSiteWise?Wc(e.iotSiteWise):void 0,iotTopicPublish:null!=e.iotTopicPublish?Gc(e.iotTopicPublish):void 0,lambda:null!=e.lambda?Kc(e.lambda):void 0,sns:null!=e.sns?tl(e.sns):void 0,sqs:null!=e.sqs?nl(e.sqs):void 0}}(e)}));return n},Rc=function(e,t){return{acknowledgeFlow:null!=e.acknowledgeFlow?Tc(e.acknowledgeFlow):void 0,initializationConfiguration:null!=e.initializationConfiguration?zc(e.initializationConfiguration):void 0}},Oc=function(e,t){return{alarmActions:null!=e.alarmActions?Pc(e.alarmActions):void 0}},Mc=function(e,t){return{notificationActions:null!=e.notificationActions?$c(e.notificationActions):void 0}},Cc=function(e,t){return{simpleRule:null!=e.simpleRule?Xc(e.simpleRule):void 0}},Dc=function(e,t){return{offsetInNanos:it(e.offsetInNanos),timeInSeconds:it(e.timeInSeconds)}},Nc=function(e,t){return{quality:it(e.quality),timestamp:null!=e.timestamp?Dc(e.timestamp):void 0,value:null!=e.value?Lc(e.value):void 0}},Lc=function(e,t){return{booleanValue:it(e.booleanValue),doubleValue:it(e.doubleValue),integerValue:it(e.integerValue),stringValue:it(e.stringValue)}},Fc=function(e,t){return{hashKeyField:it(e.hashKeyField),hashKeyType:it(e.hashKeyType),hashKeyValue:it(e.hashKeyValue),operation:it(e.operation),payload:null!=e.payload?Yc(e.payload):void 0,payloadField:it(e.payloadField),rangeKeyField:it(e.rangeKeyField),rangeKeyType:it(e.rangeKeyType),rangeKeyValue:it(e.rangeKeyValue),tableName:it(e.tableName)}},jc=function(e,t){return{payload:null!=e.payload?Yc(e.payload):void 0,tableName:it(e.tableName)}},Uc=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{content:null!=e.content?qc(e.content):void 0,from:it(e.from),recipients:null!=e.recipients?Bc(e.recipients):void 0}}(e)}));return n},qc=function(e,t){return{additionalMessage:it(e.additionalMessage),subject:it(e.subject)}},Bc=function(e,t){return{to:null!=e.to?Jc(e.to):void 0}},Hc=function(e,t){return{deliveryStreamName:it(e.deliveryStreamName),payload:null!=e.payload?Yc(e.payload):void 0,separator:it(e.separator)}},zc=function(e,t){return{disabledOnInitialization:Qe(e.disabledOnInitialization)}},Vc=function(e,t){return{inputName:it(e.inputName),payload:null!=e.payload?Yc(e.payload):void 0}},Wc=function(e,t){return{assetId:it(e.assetId),entryId:it(e.entryId),propertyAlias:it(e.propertyAlias),propertyId:it(e.propertyId),propertyValue:null!=e.propertyValue?Nc(e.propertyValue):void 0}},Gc=function(e,t){return{mqttTopic:it(e.mqttTopic),payload:null!=e.payload?Yc(e.payload):void 0}},Kc=function(e,t){return{functionArn:it(e.functionArn),payload:null!=e.payload?Yc(e.payload):void 0}},$c=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{action:null!=e.action?Qc(e.action):void 0,emailConfigurations:null!=e.emailConfigurations?Uc(e.emailConfigurations):void 0,smsConfigurations:null!=e.smsConfigurations?el(e.smsConfigurations):void 0}}(e)}));return n},Qc=function(e,t){return{lambdaAction:null!=e.lambdaAction?Kc(e.lambdaAction):void 0}},Yc=function(e,t){return{contentExpression:it(e.contentExpression),type:it(e.type)}},Jc=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{ssoIdentity:null!=e.ssoIdentity?rl(e.ssoIdentity):void 0}}(e)}));return n},Xc=function(e,t){return{comparisonOperator:it(e.comparisonOperator),inputProperty:it(e.inputProperty),threshold:it(e.threshold)}},el=function(e,t){var n=(e||[]).filter((function(e){return null!=e})).map((function(e){return null===e?null:function(e,t){return{additionalMessage:it(e.additionalMessage),recipients:null!=e.recipients?Jc(e.recipients):void 0,senderId:it(e.senderId)}}(e)}));return n},tl=function(e,t){return{payload:null!=e.payload?Yc(e.payload):void 0,targetArn:it(e.targetArn)}},nl=function(e,t){return{payload:null!=e.payload?Yc(e.payload):void 0,queueUrl:it(e.queueUrl),useBase64:Qe(e.useBase64)}},rl=function(e,t){return{identityStoreId:it(e.identityStoreId),userId:it(e.userId)}},il=function(e){var t,n;return{httpStatusCode:e.statusCode,requestId:null!==(t=null!==(n=e.headers["x-amzn-requestid"])&&void 0!==n?n:e.headers["x-amzn-request-id"])&&void 0!==t?t:e.headers["x-amz-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},ol=function(e,t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Uint8Array,t=arguments.length>1?arguments[1]:void 0;return e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},al=function(e,t){return ol(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},sl=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t,n){var r,i;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(t,n);case 2:return(i=e.sent).message=null!==(r=i.message)&&void 0!==r?r:i.Message,e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ul=function(e,t){var n,r,i=function(e){var t=e;return"number"===typeof t&&(t=t.toString()),t.indexOf(",")>=0&&(t=t.split(",")[0]),t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):void 0},cl=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;return(0,B.Z)(this,n),(r=t.call(this)).input=e,r}return(0,H.Z)(n,[{key:"resolveMiddleware",value:function(e,t,r){this.middlewareStack.use(je(t,this.serialize,this.deserialize)),this.middlewareStack.use(qe(t,n.getEndpointParameterInstructions()));var i=e.concat(this.middlewareStack),o={logger:t.logger,clientName:"IoTEventsClient",commandName:"DescribeAlarmModelCommand",inputFilterSensitiveLog:gc,outputFilterSensitiveLog:bc},a=t.requestHandler;return i.resolve((function(e){return a.handle(e.request,r||{})}),o)}},{key:"serialize",value:function(e,t){return wc(e,t)}},{key:"deserialize",value:function(e,t){return Ec(e,t)}}],[{key:"getEndpointParameterInstructions",value:function(){return{UseFIPS:{type:"builtInParams",name:"useFipsEndpoint"},Endpoint:{type:"builtInParams",name:"endpoint"},Region:{type:"builtInParams",name:"region"},UseDualStack:{type:"builtInParams",name:"useDualstackEndpoint"}}}}]),n}($e),ll="3.281.0",dl="required",fl="fn",pl="argv",hl="ref",vl="PartitionResult",yl="tree",ml="error",gl="endpoint",bl=(v={},(0,M.Z)(v,dl,!1),(0,M.Z)(v,"type","String"),v),wl=(y={},(0,M.Z)(y,dl,!0),(0,M.Z)(y,"default",!1),(0,M.Z)(y,"type","Boolean"),y),El=(0,M.Z)({},hl,"Endpoint"),Sl=(m={},(0,M.Z)(m,fl,"booleanEquals"),(0,M.Z)(m,pl,[(0,M.Z)({},hl,"UseFIPS"),!0]),m),xl=(g={},(0,M.Z)(g,fl,"booleanEquals"),(0,M.Z)(g,pl,[(0,M.Z)({},hl,"UseDualStack"),!0]),g),Al={},_l=(w={},(0,M.Z)(w,fl,"booleanEquals"),(0,M.Z)(w,pl,[!0,(b={},(0,M.Z)(b,fl,"getAttr"),(0,M.Z)(b,pl,[(0,M.Z)({},hl,vl),"supportsFIPS"]),b)]),w),Il=(S={},(0,M.Z)(S,fl,"booleanEquals"),(0,M.Z)(S,pl,[!0,(E={},(0,M.Z)(E,fl,"getAttr"),(0,M.Z)(E,pl,[(0,M.Z)({},hl,vl),"supportsDualStack"]),E)]),S),kl=[El],Zl=[Sl],Tl=[xl],Pl={version:"1.0",parameters:{Region:bl,UseDualStack:wl,UseFIPS:wl,Endpoint:bl},rules:[{conditions:[(x={},(0,M.Z)(x,fl,"aws.partition"),(0,M.Z)(x,pl,[(0,M.Z)({},hl,"Region")]),(0,M.Z)(x,"assign",vl),x)],type:yl,rules:[{conditions:[(A={},(0,M.Z)(A,fl,"isSet"),(0,M.Z)(A,pl,kl),A),(_={},(0,M.Z)(_,fl,"parseURL"),(0,M.Z)(_,pl,kl),(0,M.Z)(_,"assign","url"),_)],type:yl,rules:[{conditions:Zl,error:"Invalid Configuration: FIPS and custom endpoint are not supported",type:ml},{type:yl,rules:[{conditions:Tl,error:"Invalid Configuration: Dualstack and custom endpoint are not supported",type:ml},{endpoint:{url:El,properties:Al,headers:Al},type:gl}]}]},{conditions:[Sl,xl],type:yl,rules:[{conditions:[_l,Il],type:yl,rules:[{endpoint:{url:"https://iotevents-fips.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Al,headers:Al},type:gl}]},{error:"FIPS and DualStack are enabled, but this partition does not support one or both",type:ml}]},{conditions:Zl,type:yl,rules:[{conditions:[_l],type:yl,rules:[{type:yl,rules:[{endpoint:{url:"https://iotevents-fips.{Region}.{PartitionResult#dnsSuffix}",properties:Al,headers:Al},type:gl}]}]},{error:"FIPS is enabled but this partition does not support FIPS",type:ml}]},{conditions:Tl,type:yl,rules:[{conditions:[Il],type:yl,rules:[{endpoint:{url:"https://iotevents.{Region}.{PartitionResult#dualStackDnsSuffix}",properties:Al,headers:Al},type:gl}]},{error:"DualStack is enabled but this partition does not support DualStack",type:ml}]},{endpoint:{url:"https://iotevents.{Region}.{PartitionResult#dnsSuffix}",properties:Al,headers:Al},type:gl}]}]},Rl=function(e){return Cu(Pl,{endpointParams:e,logger:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).logger})},Ol=function(e){var t,n,r,i,o,a,s,u,c,l,d,f=rc(e),p=function(){return f().then(yt)},h=function(e){var t,n,r,i,o,a,s,u,c;return{apiVersion:"2018-07-27",base64Decoder:null!==(t=null===e||void 0===e?void 0:e.base64Decoder)&&void 0!==t?t:Vs,base64Encoder:null!==(n=null===e||void 0===e?void 0:e.base64Encoder)&&void 0!==n?n:Ws,disableHostPrefix:null!==(r=null===e||void 0===e?void 0:e.disableHostPrefix)&&void 0!==r&&r,endpointProvider:null!==(i=null===e||void 0===e?void 0:e.endpointProvider)&&void 0!==i?i:Rl,logger:null!==(o=null===e||void 0===e?void 0:e.logger)&&void 0!==o?o:new ze,serviceId:null!==(a=null===e||void 0===e?void 0:e.serviceId)&&void 0!==a?a:"IoT Events",urlParser:null!==(s=null===e||void 0===e?void 0:e.urlParser)&&void 0!==s?s:De,utf8Decoder:null!==(u=null===e||void 0===e?void 0:e.utf8Decoder)&&void 0!==u?u:Co,utf8Encoder:null!==(c=null===e||void 0===e?void 0:e.utf8Encoder)&&void 0!==c?c:No}}(e);return(0,L.Z)((0,L.Z)((0,L.Z)({},h),e),{},{runtime:"browser",defaultsMode:f,bodyLengthChecker:null!==(t=null===e||void 0===e?void 0:e.bodyLengthChecker)&&void 0!==t?t:Js,credentialDefaultProvider:null!==(n=null===e||void 0===e?void 0:e.credentialDefaultProvider)&&void 0!==n?n:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:null!==(r=null===e||void 0===e?void 0:e.defaultUserAgentProvider)&&void 0!==r?r:Xs({serviceId:h.serviceId,clientVersion:ll}),maxAttempts:null!==(i=null===e||void 0===e?void 0:e.maxAttempts)&&void 0!==i?i:3,region:null!==(o=null===e||void 0===e?void 0:e.region)&&void 0!==o?o:Ys("Region is missing"),requestHandler:null!==(a=null===e||void 0===e?void 0:e.requestHandler)&&void 0!==a?a:new Ps(p),retryMode:null!==(s=null===e||void 0===e?void 0:e.retryMode)&&void 0!==s?s:(0,U.Z)((0,j.Z)().mark((function e(){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:if(e.t0=e.sent.retryMode,e.t0){e.next=5;break}e.t0=lo;case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),sha256:null!==(u=null===e||void 0===e?void 0:e.sha256)&&void 0!==u?u:ks.Sha256,streamCollector:null!==(c=null===e||void 0===e?void 0:e.streamCollector)&&void 0!==c?c:Gs,useDualstackEndpoint:null!==(l=null===e||void 0===e?void 0:e.useDualstackEndpoint)&&void 0!==l?l:function(){return Promise.resolve(false)},useFipsEndpoint:null!==(d=null===e||void 0===e?void 0:e.useFipsEndpoint)&&void 0!==d?d:function(){return Promise.resolve(false)}})},Ml=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e){var r;(0,B.Z)(this,n);var i=function(e){var t,n;return(0,L.Z)((0,L.Z)({},e),{},{useDualstackEndpoint:null!==(t=e.useDualstackEndpoint)&&void 0!==t&&t,useFipsEndpoint:null!==(n=e.useFipsEndpoint)&&void 0!==n&&n,defaultSigningName:"iotevents"})}(Ol(e)),o=Ji(i),a=He(o),s=So(a),u=xa(ya(s));return(r=t.call(this,u)).config=u,r.middlewareStack.use(ko(r.config)),r.middlewareStack.use(to(r.config)),r.middlewareStack.use(io(r.config)),r.middlewareStack.use(ao()),r.middlewareStack.use(co(r.config)),r.middlewareStack.use(Sa(r.config)),r.middlewareStack.use(Ta(r.config)),r}return(0,H.Z)(n,[{key:"destroy",value:function(){(0,z.Z)((0,V.Z)(n.prototype),"destroy",this).call(this)}}]),n}(Ke),Cl=(0,Y.c)((function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",u="[object Null]",c="[object Object]",l="[object Proxy]",d="[object Undefined]",f=/^\[object .+?Constructor\]$/,p=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[i]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h[a]=h["[object Map]"]=h["[object Number]"]=h[c]=h["[object RegExp]"]=h["[object Set]"]=h["[object String]"]=h["[object WeakMap]"]=!1;var v="object"==typeof Y.b&&Y.b&&Y.b.Object===Object&&Y.b,y="object"==typeof self&&self&&self.Object===Object&&self,m=v||y||Function("return this")(),g=t&&!t.nodeType&&t,b=g&&e&&!e.nodeType&&e,w=b&&b.exports===g,E=w&&v.process,S=function(){try{var e=b&&b.require&&b.require("util").types;return e||E&&E.binding&&E.binding("util")}catch(bl){}}(),x=S&&S.isTypedArray;var A,_,I=Array.prototype,k=Function.prototype,Z=Object.prototype,T=m["__core-js_shared__"],P=k.toString,R=Z.hasOwnProperty,O=function(){var e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),M=Z.toString,C=P.call(Object),D=RegExp("^"+P.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),N=w?m.Buffer:void 0,L=m.Symbol,F=m.Uint8Array,j=N?N.allocUnsafe:void 0,U=(A=Object.getPrototypeOf,_=Object,function(e){return A(_(e))}),q=Object.create,B=Z.propertyIsEnumerable,H=I.splice,z=L?L.toStringTag:void 0,V=function(){try{var e=ge(Object,"defineProperty");return e({},"",{}),e}catch(bl){}}(),W=N?N.isBuffer:void 0,G=Math.max,K=Date.now,$=ge(m,"Map"),Q=ge(Object,"create"),J=function(){function e(){}return function(t){if(!Pe(t))return{};if(q)return q(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function X(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ee(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function te(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function ne(e){var t=this.__data__=new ee(e);this.size=t.size}function re(e,t){var n=_e(e),r=!n&&Ae(e),i=!n&&!r&&ke(e),o=!n&&!r&&!i&&Oe(e),a=n||r||i||o,s=a?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],u=s.length;for(var c in e)!t&&!R.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||be(c,u))||s.push(c);return s}function ie(e,t,n){(void 0!==n&&!xe(e[t],n)||void 0===n&&!(t in e))&&se(e,t,n)}function oe(e,t,n){var r=e[t];R.call(e,t)&&xe(r,n)&&(void 0!==n||t in e)||se(e,t,n)}function ae(e,t){for(var n=e.length;n--;)if(xe(e[n][0],t))return n;return-1}function se(e,t,n){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}X.prototype.clear=function(){this.__data__=Q?Q(null):{},this.size=0},X.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},X.prototype.get=function(e){var t=this.__data__;if(Q){var r=t[e];return r===n?void 0:r}return R.call(t,e)?t[e]:void 0},X.prototype.has=function(e){var t=this.__data__;return Q?void 0!==t[e]:R.call(t,e)},X.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Q&&void 0===t?n:t,this},ee.prototype.clear=function(){this.__data__=[],this.size=0},ee.prototype.delete=function(e){var t=this.__data__,n=ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),--this.size,!0)},ee.prototype.get=function(e){var t=this.__data__,n=ae(t,e);return n<0?void 0:t[n][1]},ee.prototype.has=function(e){return ae(this.__data__,e)>-1},ee.prototype.set=function(e,t){var n=this.__data__,r=ae(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},te.prototype.clear=function(){this.size=0,this.__data__={hash:new X,map:new($||ee),string:new X}},te.prototype.delete=function(e){var t=me(this,e).delete(e);return this.size-=t?1:0,t},te.prototype.get=function(e){return me(this,e).get(e)},te.prototype.has=function(e){return me(this,e).has(e)},te.prototype.set=function(e,t){var n=me(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},ne.prototype.clear=function(){this.__data__=new ee,this.size=0},ne.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},ne.prototype.get=function(e){return this.__data__.get(e)},ne.prototype.has=function(e){return this.__data__.has(e)},ne.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ee){var r=n.__data__;if(!$||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new te(r)}return n.set(e,t),this.size=n.size,this};var ue,ce=function(e,t,n){for(var r=-1,i=Object(e),o=n(e),a=o.length;a--;){var s=o[ue?a:++r];if(!1===t(i[s],s,i))break}return e};function le(e){return null==e?void 0===e?d:u:z&&z in Object(e)?function(e){var t=R.call(e,z),n=e[z];try{e[z]=void 0;var r=!0}catch(bl){}var i=M.call(e);r&&(t?e[z]=n:delete e[z]);return i}(e):function(e){return M.call(e)}(e)}function de(e){return Re(e)&&le(e)==i}function fe(e){return!(!Pe(e)||function(e){return!!O&&O in e}(e))&&(Ze(e)?D:f).test(function(e){if(null!=e){try{return P.call(e)}catch(bl){}try{return e+""}catch(bl){}}return""}(e))}function pe(e){if(!Pe(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=we(e),n=[];for(var r in e)("constructor"!=r||!t&&R.call(e,r))&&n.push(r);return n}function he(e,t,n,r,i){e!==t&&ce(t,(function(o,a){if(i||(i=new ne),Pe(o))!function(e,t,n,r,i,o,a){var s=Ee(e,n),u=Ee(t,n),l=a.get(u);if(l)return void ie(e,n,l);var d=o?o(s,u,n+"",e,t,a):void 0,f=void 0===d;if(f){var p=_e(u),h=!p&&ke(u),v=!p&&!h&&Oe(u);d=u,p||h||v?_e(s)?d=s:Re(y=s)&&Ie(y)?d=function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(s):h?(f=!1,d=function(e,t){if(t)return e.slice();var n=e.length,r=j?j(n):new e.constructor(n);return e.copy(r),r}(u,!0)):v?(f=!1,d=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new F(t).set(new F(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(u,!0)):d=[]:function(e){if(!Re(e)||le(e)!=c)return!1;var t=U(e);if(null===t)return!0;var n=R.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==C}(u)||Ae(u)?(d=s,Ae(s)?d=function(e){return function(e,t,n,r){var i=!n;n||(n={});var o=-1,a=t.length;for(;++o<a;){var s=t[o],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?se(n,s,u):oe(n,s,u)}return n}(e,Me(e))}(s):Pe(s)&&!Ze(s)||(d=function(e){return"function"!=typeof e.constructor||we(e)?{}:J(U(e))}(u))):f=!1}var y;f&&(a.set(u,d),i(d,u,r,o,a),a.delete(u));ie(e,n,d)}(e,t,a,n,he,r,i);else{var s=r?r(Ee(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),ie(e,a,s)}}),Me)}function ve(e,t){return Se(function(e,t,n){return t=G(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=G(r.length-t,0),a=Array(o);++i<o;)a[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(a),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,s)}}(e,t,Ne),e+"")}var ye=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ne;function me(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function ge(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return fe(n)?n:void 0}function be(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&p.test(e))&&e>-1&&e%1==0&&e<t}function we(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function Ee(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Se=function(e){var t=0,n=0;return function(){var r=K(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(ye);function xe(e,t){return e===t||e!==e&&t!==t}var Ae=de(function(){return arguments}())?de:function(e){return Re(e)&&R.call(e,"callee")&&!B.call(e,"callee")},_e=Array.isArray;function Ie(e){return null!=e&&Te(e.length)&&!Ze(e)}var ke=W||function(){return!1};function Ze(e){if(!Pe(e))return!1;var t=le(e);return t==a||t==s||t==o||t==l}function Te(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Pe(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Re(e){return null!=e&&"object"==typeof e}var Oe=x?function(e){return function(t){return e(t)}}(x):function(e){return Re(e)&&Te(e.length)&&!!h[le(e)]};function Me(e){return Ie(e)?re(e,!0):pe(e)}var Ce,De=(Ce=function(e,t,n){he(e,t,n)},ve((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,o=r>2?t[2]:void 0;for(i=Ce.length>3&&"function"==typeof i?(r--,i):void 0,o&&function(e,t,n){if(!Pe(n))return!1;var r=typeof t;return!!("number"==r?Ie(n)&&be(t,n.length):"string"==r&&t in n)&&xe(n[t],e)}(t[0],t[1],o)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var a=t[n];a&&Ce(e,a,n,i)}return e})));function Ne(e){return e}e.exports=De})),Dl=function(){function e(e,t){if("function"!==typeof e)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+e+".");this._batchLoadFn=e,this._maxBatchSize=function(e){var t=!e||!1!==e.batch;if(!t)return 1;var n=e&&e.maxBatchSize;if(void 0===n)return 1/0;if("number"!==typeof n||n<1)throw new TypeError("maxBatchSize must be a positive number: "+n);return n}(t),this._batchScheduleFn=function(e){var t=e&&e.batchScheduleFn;if(void 0===t)return Nl;if("function"!==typeof t)throw new TypeError("batchScheduleFn must be a function: "+t);return t}(t),this._cacheKeyFn=function(e){var t=e&&e.cacheKeyFn;if(void 0===t)return function(e){return e};if("function"!==typeof t)throw new TypeError("cacheKeyFn must be a function: "+t);return t}(t),this._cacheMap=function(e){var t=!e||!1!==e.cache;if(!t)return null;var n=e&&e.cacheMap;if(void 0===n)return new Map;if(null!==n){var r=["get","set","delete","clear"].filter((function(e){return n&&"function"!==typeof n[e]}));if(0!==r.length)throw new TypeError("Custom cacheMap missing methods: "+r.join(", "))}return n}(t),this._batch=null}var t=e.prototype;return t.load=function(e){if(null===e||void 0===e)throw new TypeError("The loader.load() function must be called with a value, but got: "+String(e)+".");var t=function(e){var t=e._batch;if(null!==t&&!t.hasDispatched&&t.keys.length<e._maxBatchSize&&(!t.cacheHits||t.cacheHits.length<e._maxBatchSize))return t;var n={hasDispatched:!1,keys:[],callbacks:[]};return e._batch=n,e._batchScheduleFn((function(){!function(e,t){if(t.hasDispatched=!0,0===t.keys.length)return void Fl(t);var n=e._batchLoadFn(t.keys);if(!n||"function"!==typeof n.then)return Ll(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(n)+"."));n.then((function(e){if(!jl(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==t.keys.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(t.keys)+"\n\nValues:\n"+String(e));Fl(t);for(var n=0;n<t.callbacks.length;n++){var r=e[n];r instanceof Error?t.callbacks[n].reject(r):t.callbacks[n].resolve(r)}})).catch((function(n){Ll(e,t,n)}))}(e,n)})),n}(this),n=this._cacheMap,r=this._cacheKeyFn(e);if(n){var i=n.get(r);if(i){var o=t.cacheHits||(t.cacheHits=[]);return new Promise((function(e){o.push((function(){e(i)}))}))}}t.keys.push(e);var a=new Promise((function(e,n){t.callbacks.push({resolve:e,reject:n})}));return n&&n.set(r,a),a},t.loadMany=function(e){if(!jl(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");for(var t=[],n=0;n<e.length;n++)t.push(this.load(e[n]).catch((function(e){return e})));return Promise.all(t)},t.clear=function(e){var t=this._cacheMap;if(t){var n=this._cacheKeyFn(e);t.delete(n)}return this},t.clearAll=function(){var e=this._cacheMap;return e&&e.clear(),this},t.prime=function(e,t){var n=this._cacheMap;if(n){var r,i=this._cacheKeyFn(e);if(void 0===n.get(i))t instanceof Error?(r=Promise.reject(t)).catch((function(){})):r=Promise.resolve(t),n.set(i,r)}return this},e}(),Nl="object"===typeof process&&"function"===typeof process.nextTick?function(e){mc||(mc=Promise.resolve()),mc.then((function(){process.nextTick(e)}))}:"function"===typeof setImmediate?function(e){setImmediate(e)}:function(e){setTimeout(e)};function Ll(e,t,n){Fl(t);for(var r=0;r<t.keys.length;r++)e.clear(t.keys[r]),t.callbacks[r].reject(n)}function Fl(e){if(e.cacheHits)for(var t=0;t<e.cacheHits.length;t++)e.cacheHits[t]()}function jl(e){return"object"===typeof e&&null!==e&&"number"===typeof e.length&&(0===e.length||e.length>0&&Object.prototype.hasOwnProperty.call(e,e.length-1))}var Ul=Dl,ql=200,Bl="__lodash_hash_undefined__",Hl="[object Function]",zl="[object GeneratorFunction]",Vl=/^\[object .+?Constructor\]$/,Wl="object"==typeof Y.b&&Y.b&&Y.b.Object===Object&&Y.b,Gl="object"==typeof self&&self&&self.Object===Object&&self,Kl=Wl||Gl||Function("return this")();function $l(e,t){return!!(e?e.length:0)&&function(e,t,n){if(t!==t)return function(e,t,n,r){var i=e.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,Yl,n);var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,0)>-1}function Ql(e,t,n){for(var r=-1,i=e?e.length:0;++r<i;)if(n(t,e[r]))return!0;return!1}function Yl(e){return e!==e}function Jl(e,t){return e.has(t)}function Xl(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var ed=Array.prototype,td=Function.prototype,nd=Object.prototype,rd=Kl["__core-js_shared__"],id=function(){var e=/[^.]+$/.exec(rd&&rd.keys&&rd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),od=td.toString,ad=nd.hasOwnProperty,sd=nd.toString,ud=RegExp("^"+od.call(ad).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cd=ed.splice,ld=Ed(Kl,"Map"),dd=Ed(Kl,"Set"),fd=Ed(Object,"create");function pd(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function hd(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function vd(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yd(e){var t=-1,n=e?e.length:0;for(this.__data__=new vd;++t<n;)this.add(e[t])}function md(e,t){for(var n,r,i=e.length;i--;)if((n=e[i][0])===(r=t)||n!==n&&r!==r)return i;return-1}function gd(e){if(!Sd(e)||(t=e,id&&id in t))return!1;var t,n=function(e){var t=Sd(e)?sd.call(e):"";return t==Hl||t==zl}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(bl){}return t}(e)?ud:Vl;return n.test(function(e){if(null!=e){try{return od.call(e)}catch(bl){}try{return e+""}catch(bl){}}return""}(e))}pd.prototype.clear=function(){this.__data__=fd?fd(null):{}},pd.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},pd.prototype.get=function(e){var t=this.__data__;if(fd){var n=t[e];return n===Bl?void 0:n}return ad.call(t,e)?t[e]:void 0},pd.prototype.has=function(e){var t=this.__data__;return fd?void 0!==t[e]:ad.call(t,e)},pd.prototype.set=function(e,t){return this.__data__[e]=fd&&void 0===t?Bl:t,this},hd.prototype.clear=function(){this.__data__=[]},hd.prototype.delete=function(e){var t=this.__data__,n=md(t,e);return!(n<0)&&(n==t.length-1?t.pop():cd.call(t,n,1),!0)},hd.prototype.get=function(e){var t=this.__data__,n=md(t,e);return n<0?void 0:t[n][1]},hd.prototype.has=function(e){return md(this.__data__,e)>-1},hd.prototype.set=function(e,t){var n=this.__data__,r=md(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},vd.prototype.clear=function(){this.__data__={hash:new pd,map:new(ld||hd),string:new pd}},vd.prototype.delete=function(e){return wd(this,e).delete(e)},vd.prototype.get=function(e){return wd(this,e).get(e)},vd.prototype.has=function(e){return wd(this,e).has(e)},vd.prototype.set=function(e,t){return wd(this,e).set(e,t),this},yd.prototype.add=yd.prototype.push=function(e){return this.__data__.set(e,Bl),this},yd.prototype.has=function(e){return this.__data__.has(e)};var bd=dd&&1/Xl(new dd([,-0]))[1]==1/0?function(e){return new dd(e)}:function(){};function wd(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ed(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return gd(n)?n:void 0}function Sd(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}var xd=function(e,t){return e&&e.length?function(e,t,n){var r=-1,i=$l,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Ql;else if(o>=ql){var c=t?null:bd(e);if(c)return Xl(c);a=!1,i=Jl,u=new yd}else u=t?[]:s;e:for(;++r<o;){var l=e[r],d=t?t(l):l;if(l=n||0!==l?l:0,a&&d===d){for(var f=u.length;f--;)if(u[f]===d)continue e;t&&u.push(d),s.push(l)}else i(u,d,n)||(u!==s&&u.push(d),s.push(l))}return s}(e,void 0,t):[]},Ad={aggregatedValues:[{timestamp:new Date(2e3,0,0,1),value:{average:5}},{timestamp:new Date(2e3,0,0,2),value:{average:7}},{timestamp:new Date(2e3,0,0,3),value:{average:10}}]};Object.assign({entryId:"0-0"},Ad),Object.assign({entryId:"0-1"},Ad),Object.assign({entryId:"1-0"},Ad),Object.assign({entryId:"1-1"},Ad);var _d={ACTIVE:"Active",NORMAL:"Normal",LATCHED:"Latched",DISABLED:"Disabled",ACKNOWLEDGED:"Acknowledged",SNOOZE_DISABLED:"SnoozeDisabled"},Id="#d13212",kd=(I={},(0,M.Z)(I,_d.ACTIVE,{color:Id,icon:K.S.ACTIVE,severity:1}),(0,M.Z)(I,_d.LATCHED,{color:"#f89256",icon:K.S.LATCHED,severity:2}),(0,M.Z)(I,_d.ACKNOWLEDGED,{color:"#3184c2",icon:K.S.ACKNOWLEDGED,severity:3}),(0,M.Z)(I,_d.NORMAL,{color:"#1d8102",icon:K.S.NORMAL,severity:4}),(0,M.Z)(I,_d.SNOOZE_DISABLED,{color:"#879596",icon:K.S.SNOOZED,severity:5}),(0,M.Z)(I,_d.DISABLED,{color:"#687078",icon:K.S.DISABLED,severity:6}),I),Zd=(k={},(0,M.Z)(k,yu.GREATER,K.C.GREATER_THAN),(0,M.Z)(k,yu.GREATER_OR_EQUAL,K.C.GREATER_THAN_EQUAL),(0,M.Z)(k,yu.LESS,K.C.LESS_THAN),(0,M.Z)(k,yu.LESS_OR_EQUAL,K.C.LESS_THAN_EQUAL),(0,M.Z)(k,yu.EQUAL,K.C.EQUAL),(0,M.Z)(k,yu.NOT_EQUAL,"NEQ"),k),Td=(Z={},(0,M.Z)(Z,K.C.EQUAL,"="),(0,M.Z)(Z,K.C.LESS_THAN,"<"),(0,M.Z)(Z,K.C.LESS_THAN_EQUAL,"<="),(0,M.Z)(Z,K.C.GREATER_THAN,">"),(0,M.Z)(Z,K.C.GREATER_THAN_EQUAL,">="),(0,M.Z)(Z,K.C.CONTAINS,"contains"),Z),Pd={stateName:_d.ACTIVE,ruleEvaluation:{simpleRule:{inputProperty:31.524855556613428,operator:"GREATER",threshold:30}}};function Rd(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Od(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Md(e){return this instanceof Md?(this.v=e,this):new Md(e)}function Cd(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof Md?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(bl){l(o[0][3],bl)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function Dd(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Od(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function Nd(e){var t=e.queries,n=e.assetModuleSession;return Cd(this,arguments,(0,j.Z)().mark((function e(){var r,i,o,a,s,u,c,l,d;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,q.Z)(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=46;break}o=i.value.assets,a=(0,q.Z)(o),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=36;break}return u=s.value,e.prev=10,e.next=13,Md(n.fetchAssetSummary({assetId:u.assetId}));case 13:if(c=e.sent,l=c.assetModelId,e.t0=l,!e.t0){e.next=20;break}return e.next=19,Md(n.fetchAssetModel({assetModelId:l}));case 19:e.t0=e.sent;case 20:if(!(d=e.t0)){e.next=26;break}return e.next=24,Md({assetModels:(0,M.Z)({},u.assetId,d)});case 24:return e.next=26,e.sent;case 26:e.next=34;break;case 28:return e.prev=28,e.t1=e.catch(10),e.next=32,Md({errors:(0,M.Z)({},u.assetId,e.t1)});case 32:return e.next=34,e.sent;case 34:e.next=8;break;case 36:e.next=41;break;case 38:e.prev=38,e.t2=e.catch(6),a.e(e.t2);case 41:return e.prev=41,a.f(),e.finish(41);case 44:e.next=3;break;case 46:e.next=51;break;case 48:e.prev=48,e.t3=e.catch(1),r.e(e.t3);case 51:return e.prev=51,r.f(),e.finish(51);case 54:case"end":return e.stop()}}),e,null,[[1,48,51,54],[6,38,41,44],[10,28]])})))}JSON.stringify(Pd),JSON.stringify(Object.assign(Object.assign({},Pd),{stateName:_d.NORMAL}));var Ld="---",Fd=function(e){var t=e.assetId,n=e.propertyId;return"".concat(t).concat(Ld).concat(n)},jd=function(e){if(!e.includes(Ld))throw new Error("Invalid id ".concat(e,", expected to find the separator ").concat(Ld," but it was not found"));var t=e.split(Ld),n=(0,F.Z)(t,2);return{assetId:n[0],propertyId:n[1]}},Ud=function(e){return null!=e},qd=function(e){return"string"===typeof e},Bd=function(e){var t,n=Fd({assetId:e.assetId,propertyId:e.inputPropertyId}),r=Fd({assetId:e.assetId,propertyId:e.alarmStatePropertyId}),i=e.state.toUpperCase(),o=kd[_d[i]],a={comparisonOperator:e.comparisonOperator,severity:e.severity,value:(t=e.threshold,"number"===typeof t?e.threshold:qd(e.threshold)?parseFloat(e.threshold):e.threshold),dataStreamIds:[n],color:Id,showValue:!0,icon:o.icon,description:e.rule},s=Object.keys(kd).map((function(t){var n=kd[t];return{value:t,color:n.color,severity:n.severity,icon:n.icon,comparisonOperator:K.C.EQUAL,dataStreamIds:[r],description:e.rule}}));return[a].concat((0,N.Z)(s))};function Hd(e){var t=e.queries,n=e.alarmModule;return Cd(this,arguments,(0,j.Z)().mark((function e(){var r,i,o,a,s,u,c,l,d,f,p,h,v,y;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=(0,q.Z)(t),e.prev=1,r.s();case 3:if((i=r.n()).done){e.next=47;break}o=i.value.assets,a=(0,q.Z)(o),e.prev=6,a.s();case 8:if((s=a.n()).done){e.next=37;break}u=s.value,c=u.assetId,l=u.properties,d=(0,q.Z)(l),e.prev=11,d.s();case 13:if((f=d.n()).done){e.next=27;break}return p=f.value.propertyId,e.next=17,Md(n.getAlarm({assetId:c,alarmStatePropertyId:p}));case 17:if(!(h=e.sent)){e.next=25;break}return v=Fd({assetId:c,propertyId:p}),y=Bd(h),e.next=23,Md({alarms:(0,M.Z)({},v,h),annotations:{y:y}});case 23:return e.next=25,e.sent;case 25:e.next=13;break;case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(11),d.e(e.t0);case 32:return e.prev=32,d.f(),e.finish(32);case 35:e.next=8;break;case 37:e.next=42;break;case 39:e.prev=39,e.t1=e.catch(6),a.e(e.t1);case 42:return e.prev=42,a.f(),e.finish(42);case 45:e.next=3;break;case 47:e.next=52;break;case 49:e.prev=49,e.t2=e.catch(1),r.e(e.t2);case 52:return e.prev=52,r.f(),e.finish(52);case 55:case"end":return e.stop()}}),e,null,[[1,49,52,55],[6,39,42,45],[11,29,32,35]])})))}var zd,Vd=function(e){return"STRING"===e?"STRING":"BOOLEAN"===e?"BOOLEAN":"NUMBER"},Wd=function(e){try{var t=JSON.parse(e).stateName;return null!=_d[t]?_d[t]:t}catch(n){throw new Error("Could not parse alarm data: ".concat(n))}},Gd=function(e){return e.data.map((function(e){var t=e.x,n=e.y;return"string"===typeof n?{x:t,y:Wd(n)}:{x:t,y:n}}))},Kd=function(e){var t,n,r=e.assetModel,i=e.propertyId,o=e.dataStream;if(!r)return function(e){if("string"===typeof e)try{var n=JSON.parse(e).stateName;return Object.keys(_d).includes(n.toUpperCase())}catch(t){return!1}return!1}(null===(n=o.data[(null===(t=o.data)||void 0===t?void 0:t.length)-1])||void 0===n?void 0:n.y)?Object.assign(Object.assign({},o),{streamType:"ALARM",data:Gd({data:o.data})}):void 0;var a=function(e,t){var n;return null===(n=e.assetModelCompositeModels)||void 0===n?void 0:n.filter((function(e){return"AWS/ALARM"===e.type})).map((function(e){return e.properties})).flat().find((function(e){return(null===e||void 0===e?void 0:e.id)===t&&"AWS/ALARM_STATE"===(null===e||void 0===e?void 0:e.name)}))}(r,i);return a?Object.assign(Object.assign({},o),{name:a.name,streamType:"ALARM",data:Gd({data:o.data}),dataType:Vd(a.dataType)}):void 0},$d=function(e){var t=e.dataStreams,n=e.assetModels,r=e.alarms;return t.map((function(e){var t=jd(e.id),i=t.assetId,o=t.propertyId,a=n[i],s=function(e){var t=e.assetModel,n=e.assetId,r=e.propertyId,i=e.dataStream,o=e.alarms;if(t){var a=t.assetModelProperties,s=null===a||void 0===a?void 0:a.find((function(e){return e.id===r}));if(s)return Object.assign(Object.assign({},i),{name:s.name,unit:s.unit,dataType:Vd(s.dataType),associatedStreams:Object.keys(o).filter((function(e){var t=o[e];return t.assetId===n&&t.inputPropertyId===r})).map((function(e){return{id:e,type:$.S.ALARM}}))})}}({assetModel:a,dataStream:e,assetId:i,propertyId:o,alarms:r}),u=Kd({assetModel:a,propertyId:o,dataStream:e});return s||(u||e)}))},Qd=function(){function e(t){var n=t.initialState,r=t.callback;(0,B.Z)(this,e),this.callback=r,this.state=Object.assign({},n)}return(0,H.Z)(e,[{key:"update",value:function(){var e=this.state,t=e.annotations,n=e.viewport,r=e.alarms,i=e.assetModels,o=e.dataStreams;this.callback({dataStreams:$d({dataStreams:o,assetModels:i,alarms:r}),viewport:n,annotations:t})}},{key:"appendTimeSeriesData",value:function(e){var t,n=this,r=e.annotations,i=e.dataStreams,o=Rd(e,["annotations","dataStreams"]),a=null===(t=i)||void 0===t?void 0:t.filter((function(e){return!n.state.dataStreams.map((function(e){return e.id})).includes(e.id)}));this.state.dataStreams=[].concat((0,N.Z)(this.state.dataStreams.map((function(e){var t,n=null===(t=i)||void 0===t?void 0:t.find((function(t){var n=t.id;return e.id===n}));return n?Object.assign(Object.assign({},e),n):e}))),(0,N.Z)(a||[])),this.state.annotations=Object.assign(Object.assign(Object.assign({},this.state.annotations),r),{y:[].concat((0,N.Z)(this.state.annotations.y||[]),(0,N.Z)((null===r||void 0===r?void 0:r.y)||[]))}),Cl(this.state,o),this.update()}},{key:"getState",value:function(){return this.state}}]),e}(),Yd=function(e){var t=e.siteWiseAssetModule.startSession();return e.attachDataModuleSession(t),t},Jd=function(){function e(t,n){(0,B.Z)(this,e),this.session=t,this.input=n}return(0,H.Z)(e,[{key:"subscribe",value:function(e){var t,n,r,i=this.session,o=(t=function(e){return e.siteWiseTimeSeriesModule}(i),n=Yd(i),r=function(e){return e.siteWiseAlarmModule}(i),function(e,i){var o=e.queries,a=e.request,s=new Qd({initialState:{dataStreams:[],annotations:{},assetModels:{},alarms:{},errors:{}},callback:i}),u=t.subscribeToDataStreams({queries:o,request:a},(function(e){s.appendTimeSeriesData({dataStreams:e.dataStreams,viewport:e.viewport})})),c=u.update,l=u.unsubscribe,d=function(e){(0,U.Z)((0,j.Z)().mark((function t(){var r,i,o,a,u,c,l;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=Dd(Nd({queries:e,assetModuleSession:n}));case 2:return t.next=4,o.next();case 4:if((a=t.sent).done){t.next=13;break}u=a.value,c="assetModels"in u&&u.assetModels,l="errors"in u&&u.errors,c&&s.appendTimeSeriesData({assetModels:c}),l&&s.appendTimeSeriesData({errors:l});case 11:t.next=2;break;case 13:t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),r={error:t.t0};case 18:if(t.prev=18,t.prev=19,!a||a.done||!(i=o.return)){t.next=23;break}return t.next=23,i.call(o);case 23:if(t.prev=23,!r){t.next=26;break}throw r.error;case 26:return t.finish(23);case 27:return t.finish(18);case 28:case"end":return t.stop()}}),t,null,[[0,15,18,28],[19,,23,27]])})))()};d(o);var f=function(e){(0,U.Z)((0,j.Z)().mark((function t(){var n,i,o,a,u,c,l;return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:t.prev=0,o=Dd(Hd({queries:e,alarmModule:r}));case 2:return t.next=4,o.next();case 4:if((a=t.sent).done){t.next=10;break}u=a.value,c=u.alarms,l=u.annotations,s.appendTimeSeriesData({alarms:c,annotations:l});case 8:t.next=2;break;case 10:t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n={error:t.t0};case 15:if(t.prev=15,t.prev=16,!a||a.done||!(i=o.return)){t.next=20;break}return t.next=20,i.call(o);case 20:if(t.prev=20,!n){t.next=23;break}throw n.error;case 23:return t.finish(20);case 24:return t.finish(15);case 25:case"end":return t.stop()}}),t,null,[[0,12,15,25],[16,,20,24]])})))()};return f(o),{unsubscribe:function(){l()},update:function(e){c(e);var t=e.queries;t&&(d(t),f(t))}}})(this.input,(function(t){return e.next([t])})),a=o.update,s=o.unsubscribe;this.update=a,this.session.attachDataModuleSession({close:s})}},{key:"updateSubscription",value:function(e){this.update(e)}},{key:"unsubscribe",value:function(){this.session.close()}},{key:"updateViewport",value:function(e){this.update({request:{settings:this.input.request.settings,viewport:e}})}}]),e}();function Xd(e){return(e.assetId?e.assetId+":":"")+e.assetHierarchyId}!function(e){e[e.NOT_LOADED=0]="NOT_LOADED",e[e.LOADING=1]="LOADING",e[e.PAUSED=2]="PAUSED",e[e.LOADED=3]="LOADED"}(zd||(zd={}));var ef="HIERARCHY_ROOT_ID",tf=function(){function e(){(0,B.Z)(this,e),this.assetCache={},this.assetModelCache={},this.propertyValueCache={},this.hierarchyCache={},this.errorCache=[],this.isDescribeAssetResponse=function(e){return void 0!=e.assetId}}return(0,H.Z)(e,[{key:"storeErrors",value:function(e){this.errorCache.push(e)}},{key:"getAllErrors",value:function(){return this.errorCache}},{key:"convertToAssetSummary",value:function(e){return{id:e.assetId,arn:e.assetArn,name:e.assetName,assetModelId:e.assetModelId,creationDate:e.assetCreationDate,lastUpdateDate:e.assetLastUpdateDate,status:e.assetStatus,hierarchies:e.assetHierarchies}}},{key:"assetPropertyValueKey",value:function(e,t){return e+":"+t}},{key:"getAssetSummary",value:function(e){return this.assetCache[e]}},{key:"storeAssetSummary",value:function(e){var t=this.isDescribeAssetResponse(e)?this.convertToAssetSummary(e):e;void 0!=t.id&&(this.assetCache[t.id]=t)}},{key:"storeAssetSummaries",value:function(e){var t=this;e.forEach((function(e){t.storeAssetSummary(e)}))}},{key:"getAssetModel",value:function(e){return this.assetModelCache[e]}},{key:"storeAssetModel",value:function(e){void 0!=e.assetModelId&&(this.assetModelCache[e.assetModelId]=e)}},{key:"getPropertyValue",value:function(e,t){return this.propertyValueCache[this.assetPropertyValueKey(e,t)]}},{key:"storePropertyValue",value:function(e,t,n){this.propertyValueCache[this.assetPropertyValueKey(e,t)]=n}},{key:"getHierarchy",value:function(e){return this.hierarchyCache[e]}},{key:"newCachedAssetSummaryBlock",value:function(){return{assetIds:[],loadingStage:zd.NOT_LOADED,paginationToken:void 0}}},{key:"setupHierarchyCache",value:function(e){var t=this.getHierarchy(e);return t||(t=this.newCachedAssetSummaryBlock(),this.hierarchyCache[e]=t),t}},{key:"appendHierarchyResults",value:function(e,t,n,r){var i=this,o=this.setupHierarchyCache(e);o.loadingStage=n,o.paginationToken=r,t&&t.forEach((function(e){void 0!=e.id&&(i.storeAssetSummary(e),o.assetIds.push(e.id))}))}},{key:"setHierarchyLoadingState",value:function(e,t){this.setupHierarchyCache(e).loadingStage=t}}]),e}(),nf=function(){function e(t){(0,B.Z)(this,e),this.processor=t}return(0,H.Z)(e,[{key:"_requestAssetSummary",value:function(e){var t=this;return new Q.O((function(n){t.processor.getAssetSummary(e,n)}))}},{key:"_requestAssetModel",value:function(e){var t=this;return new Q.O((function(n){t.processor.getAssetModel(e,n)}))}},{key:"_requestAssetPropertyValue",value:function(e){var t=this;return new Q.O((function(n){t.processor.getAssetPropertyValue(e,n)}))}},{key:"_requestRootAssets",value:function(){var e=this;return new Q.O((function(t){var n={assetHierarchyId:ef};e.processor.getAssetHierarchy(n,t)}))}},{key:"_requestAssetHierarchy",value:function(e){var t=this;return new Q.O((function(n){t.processor.getAssetHierarchy(e,n)}))}},{key:"fetchAssetHierarchy",value:function(e){return Ae(this._requestAssetHierarchy(e))}},{key:"fetchAssetModel",value:function(e){return Ae(this._requestAssetModel(e))}},{key:"fetchAssetPropertyValue",value:function(e){return Ae(this._requestAssetPropertyValue(e))}},{key:"fetchAssetSummary",value:function(e){return Ae(this._requestAssetSummary(e))}},{key:"fetchRootAssets",value:function(){return Ae(this._requestRootAssets())}},{key:"requestAssetHierarchy",value:function(e,t){return this._requestAssetHierarchy(e).subscribe(t)}},{key:"requestAssetModel",value:function(e,t){return this._requestAssetModel(e).subscribe(t)}},{key:"requestAssetPropertyValue",value:function(e,t){return this._requestAssetPropertyValue(e).subscribe(t)}},{key:"requestAssetSummary",value:function(e,t){return this._requestAssetSummary(e).subscribe(t)}},{key:"requestRootAssets",value:function(e){return this._requestRootAssets().subscribe(e)}},{key:"close",value:function(){}}]),e}(),rf=function(e){(0,W.Z)(n,e);var t=(0,G.Z)(n);function n(e,r){var i,o;return(0,B.Z)(this,n),(i=t.call(this,1)).subscribers=[],i.producer=e.pipe((o=r,(0,Q.o)((function(e,t){try{e.subscribe(t)}finally{t.add(o)}})))),i.broadcastSubscription=i.producer.subscribe((0,C.Z)(i)),i.broadcastSubscription.add(r),i}return(0,H.Z)(n,[{key:"removeSubscriber",value:function(e){var t=this.subscribers.indexOf(e);t>-1&&this.subscribers.splice(t,1)}},{key:"addSubscriber",value:function(e){var t=this;return this.subscribers.push(e),e.add((function(){t.removeSubscriber(e),0===t.subscribers.length&&t.broadcastSubscription.unsubscribe()})),(0,z.Z)((0,V.Z)(n.prototype),"subscribe",this).call(this,e)}}]),n}(ve),of=function(){function e(t,n){(0,B.Z)(this,e),this.activeQueries=new Map,this.workerFactory=t,this.queryToKey=n}return(0,H.Z)(e,[{key:"subscribe",value:function(e,t){var n,r=this,i=this.queryToKey(e);this.activeQueries.get(i)||this.activeQueries.set(i,new rf(this.workerFactory(e),(function(){r.activeQueries.delete(i)}))),null===(n=this.activeQueries.get(i))||void 0===n||n.addSubscriber(t)}},{key:"size",value:function(){return this.activeQueries.size}}]),e}(),af=function(){function e(t,n){var r=this;(0,B.Z)(this,e),this.MAX_RESULTS=250,this.assetSummaryWorkers=new of((function(e){return r.assetSummaryWorkerFactory(e)}),(function(e){return e.assetId})),this.assetModelWorkers=new of((function(e){return r.assetModelWorkerFactory(e)}),(function(e){return e.assetModelId})),this.assetPropertyValueWorkers=new of((function(e){return r.assetPropertyValueWorkerFactory(e)}),(function(e){return e.assetId+":"+e.propertyId})),this.hierarchyWorkers=new of((function(e){return r.loadHierarchyWorkerFactory(e)}),(function(e){return Xd(e)})),this.api=t,this.cache=n}return(0,H.Z)(e,[{key:"assetSummaryWorkerFactory",value:function(e){var t=this;return new Q.O((function(n){var r=t.cache.getAssetSummary(e.assetId);if(void 0!=r)return n.next(r),void n.complete();t.api.describeAsset({assetId:e.assetId}).then((function(r){t.cache.storeAssetSummary(r),n.next(t.cache.getAssetSummary(e.assetId)),n.complete()})).catch((function(e){var t;n.error({msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode})}))}))}},{key:"getAssetSummary",value:function(e,t){this.assetSummaryWorkers.subscribe(e,t)}},{key:"assetPropertyValueWorkerFactory",value:function(e){var t=this;return new Q.O((function(n){var r=t.cache.getPropertyValue(e.assetId,e.propertyId);if(void 0!=r)return n.next(r),void n.complete();t.api.getPropertyValue({assetId:e.assetId,propertyId:e.propertyId}).then((function(r){void 0!=r.propertyValue&&(t.cache.storePropertyValue(e.assetId,e.propertyId,r.propertyValue),n.next(t.cache.getPropertyValue(e.assetId,e.propertyId)),n.complete())})).catch((function(e){var t;n.error({msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode})}))}))}},{key:"getAssetPropertyValue",value:function(e,t){this.assetPropertyValueWorkers.subscribe(e,t)}},{key:"assetModelWorkerFactory",value:function(e){var t=this;return new Q.O((function(n){var r=t.cache.getAssetModel(e.assetModelId);if(void 0!=r)return n.next(r),void n.complete();t.api.describeAssetModel({assetModelId:e.assetModelId}).then((function(r){t.cache.storeAssetModel(r),n.next(t.cache.getAssetModel(e.assetModelId)),n.complete()})).catch((function(e){var t;n.error({msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode})}))}))}},{key:"getAssetModel",value:function(e,t){this.assetModelWorkers.subscribe(e,t)}},{key:"buildAssetSummaryList",value:function(e,t){var n=this;return{assetHierarchyId:e,assets:t.assetIds.map((function(e){return n.cache.getAssetSummary(e)})),loadingState:t.loadingStage}}},{key:"hierarchyFromCache",value:function(e){var t=this.cache.getHierarchy(Xd(e));return t||(this.cache.setHierarchyLoadingState(Xd(e),zd.NOT_LOADED),t=this.cache.getHierarchy(Xd(e))),this.buildAssetSummaryList(e.assetHierarchyId,t)}},{key:"hierarchyRootRequest",value:function(e){var t=this;return new Q.O((function(n){t.api.listAssets({filter:ln.TOP_LEVEL,maxResults:t.MAX_RESULTS,nextToken:e,assetModelId:void 0}).then((function(e){n.next(e)})).catch((function(e){var t;n.error({msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode})}))}))}},{key:"hierarchyBranchRequest",value:function(e,t){var n=this;return new Q.O((function(r){n.api.listAssociatedAssets({hierarchyId:e.assetHierarchyId,maxResults:n.MAX_RESULTS,traversalDirection:dn.CHILD,assetId:e.assetId,nextToken:t}).then((function(e){r.next(e)})).catch((function(e){var t;r.error({msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode})}))}))}},{key:"cacheHierarchyUpdate",value:function(e,t){var n=!!t.nextToken;return this.cache.appendHierarchyResults(Xd(e),t.assetSummaries,n?zd.LOADING:zd.LOADED,t.nextToken),this.hierarchyFromCache(e)}},{key:"loadHierarchyWorkerFactory",value:function(e){var t=this,n=this.cache.getHierarchy(Xd(e));if(e.assetHierarchyId!==ef&&!e.assetId)throw"Queries for children require a parent AssetId";return new Q.O((function(r){return(e.assetHierarchyId===ef?t.hierarchyRootRequest(n.paginationToken).pipe(_e((function(e){return e.nextToken?t.hierarchyRootRequest(n.paginationToken):Se})),(0,Q.g)((function(n){return t.cacheHierarchyUpdate(e,n)}))):t.hierarchyBranchRequest(e,n.paginationToken).pipe(_e((function(r){return r.nextToken?t.hierarchyBranchRequest(e,n.paginationToken):Se})),(0,Q.g)((function(n){return t.cacheHierarchyUpdate(e,n)})))).subscribe({next:function(e){e&&r.next(e),e&&e.loadingState===zd.LOADED&&r.complete()},error:function(e){t.cache.storeErrors(e);var n=t.cache.getAllErrors();r.error(n)}}),function(){r.unsubscribe(),n.loadingStage!==zd.LOADED&&t.cache.setHierarchyLoadingState(e.assetHierarchyId,zd.PAUSED)}}))}},{key:"getAssetHierarchy",value:function(e,t){var n=this.hierarchyFromCache(e);if(n&&n.loadingState===zd.LOADED)return t.next(n);this.hierarchyWorkers.subscribe(e,t)}},{key:"startSession",value:function(){return new nf(this)}}]),e}(),sf=function(){function e(t){(0,B.Z)(this,e),this.api=t,this.assetCache=new tf,this.requestProcessor=new af(this.api,this.assetCache)}return(0,H.Z)(e,[{key:"startSession",value:function(){return this.requestProcessor.startSession()}}]),e}(),uf=(0,H.Z)((function e(t,n){(0,B.Z)(this,e),this.assetId=t,this.hierarchyId=n,this.key=this.hierarchyId+(t||"")})),cf=(0,H.Z)((function e(){(0,B.Z)(this,e),this.isExpanded=!1,this.assetIds=[],this.loadingState=zd.NOT_LOADED})),lf=(0,H.Z)((function e(t){(0,B.Z)(this,e),this.properties=new Map,this.asset=t})),df=function(){function e(t,n){var r=this;if((0,B.Z)(this,e),this.assetNodes={},this.branches={},this.subject=new pe([]),this.rootBranchRef=new uf(void 0,ef),this.treeUpdateSubject=new de,this.treeUpdateSubscription=this.treeUpdateSubject.pipe(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ee;return(0,Q.o)((function(n,r){var i=null,o=null,a=null,s=function(){if(i){i.unsubscribe(),i=null;var e=o;o=null,r.next(e)}};function u(){var n=a+e,o=t.now();if(o<n)return i=this.schedule(void 0,n-o),void r.add(i);s()}n.subscribe((0,Q.d)(r,(function(n){o=n,a=t.now(),i||(i=t.schedule(u,e),r.add(i))}),(function(){s(),r.complete()}),void 0,(function(){o=i=null})))}))}(1e3/30)).subscribe((function(){return r.emitTreeUpdate()})),this.assetSession=t,this.query=Object.assign({withModels:!1},n),null==n.asset)this.expand(this.rootBranchRef);else{var i=new cf;this.branches[this.rootBranchRef.key]=i,this.assetSession.requestAssetSummary({assetId:n.asset.assetId},{next:function(e){r.saveAsset(e),i.assetIds.push(e.id),r.updateTree()},error:function(e){r.subject.error(e)}})}}return(0,H.Z)(e,[{key:"subscribe",value:function(e){this.subject.subscribe(e)}},{key:"unsubscribe",value:function(){this.treeUpdateSubscription.unsubscribe(),this.assetSession.close()}},{key:"expand",value:function(e){var t=this,n=this.makeExpanded(e);n&&n.loadingState==zd.LOADED||(e.hierarchyId===ef?this.assetSession.requestRootAssets({next:function(n){t.saveExpandedHierarchy(e,n.assets,n.loadingState),t.updateTree()},error:function(e){t.subject.error(e)}}):this.assetSession.requestAssetHierarchy({assetId:e.assetId,assetHierarchyId:e.hierarchyId},{next:function(n){t.saveExpandedHierarchy(e,n.assets,n.loadingState),t.updateTree()},error:function(e){t.subject.error(e)}}))}},{key:"loadAssetRelatedData",value:function(e){var t,n=this;if(!e.asset||!e.asset.id)throw"AssetNode is missing a properly specified Asset";var r=e.asset.id;(this.query.withModels||(null===(t=this.query.withPropertyValues)||void 0===t?void 0:t.length))&&this.assetSession.requestAssetModel({assetModelId:e.asset.assetModelId},{next:function(t){var i;e.model=t,n.updateTree(),null===(i=n.query.withPropertyValues)||void 0===i||i.forEach((function(i){n.containsPropertyId(t,i)&&n.assetSession.requestAssetPropertyValue({assetId:r,propertyId:i},{next:function(t){e.properties.set(i,t),n.updateTree()},error:function(e){n.subject.error(e)}})}))},error:function(e){n.subject.error(e)}})}},{key:"containsPropertyId",value:function(e,t){var n;return t&&(null===(n=e.assetModelProperties)||void 0===n?void 0:n.some((function(e){return t===e.id})))}},{key:"collapse",value:function(e){var t=this.getBranch(e);t&&(t.isExpanded=!1),this.updateTree()}},{key:"updateTree",value:function(){this.treeUpdateSubject.next()}},{key:"emitTreeUpdate",value:function(){var e=this,t=[],n=this.getBranch(this.rootBranchRef);n&&(t=n.assetIds.map((function(t){return e.toAssetTreeNode(e.assetNodes[t])}))),this.subject.next(t)}},{key:"toAssetTreeNode",value:function(e){var t,n=this,r={asset:e.asset,hierarchies:new Map,properties:new Map};return e.model&&(r.model=e.model),e.properties.forEach((function(e,t){r.properties.set(t,e)})),null===(t=e.asset.hierarchies)||void 0===t||t.forEach((function(t){var i=new uf(e.asset.id,t.id),o={name:t.name,id:i.hierarchyId,children:[],isExpanded:!1,loadingState:zd.NOT_LOADED};r.hierarchies.set(i.hierarchyId,o);var a=n.getBranch(i);a&&(o.isExpanded=null===a||void 0===a?void 0:a.isExpanded,o.loadingState=null===a||void 0===a?void 0:a.loadingState,a.isExpanded&&(o.children=a.assetIds.map((function(e){return n.toAssetTreeNode(n.assetNodes[e])}))))})),r}},{key:"getBranch",value:function(e){return this.branches[e.key]}},{key:"putBranch",value:function(e,t){this.branches[e.key]=t}},{key:"makeExpanded",value:function(e){var t=this.getBranch(e);return t&&!t.isExpanded&&(t.isExpanded=!0,t.assetIds.length&&this.updateTree()),t}},{key:"saveExpandedHierarchy",value:function(e,t,n){var r=this,i=this.getBranch(e);i||((i=new cf).isExpanded=!0,this.putBranch(e,i));var o=t.map((function(e){return e.id}));i.assetIds=o,i.loadingState=n,t.forEach((function(e){return r.saveAsset(e)}))}},{key:"saveAsset",value:function(e){if(!e.id)throw"AssetSummary is missing an id property";var t=this.assetNodes[e.id];if(!t){var n=new lf(e);this.assetNodes[e.id]=n,this.loadAssetRelatedData(n)}return t}}]),e}(),ff=function(){function e(t){var n=t.componentId,r=t.siteWiseTimeSeriesModule,i=t.siteWiseAssetModule,o=t.siteWiseAlarmModule;(0,B.Z)(this,e),this.sessions=[],this.componentId=n,this.siteWiseTimeSeriesModule=r,this.siteWiseAssetModule=i,this.siteWiseAlarmModule=o}return(0,H.Z)(e,[{key:"attachDataModuleSession",value:function(e){this.sessions.push(e)}},{key:"close",value:function(){this.sessions.forEach((function(e){return e.close()}))}}]),e}(),pf="us-west-2",hf=function(e){var t=e.iotSiteWiseClient,n=e.awsCredentials,r=e.awsRegion;if(t)return t;if(n)return function(e){var t=e.credentials,n=e.awsRegion,r=e.awsPartition;return new ac({region:n||pf,endpoint:"https://iotsitewise.".concat(n||pf,".amazonaws.").concat(r||"com","/"),credentials:t})}({credentials:n,awsRegion:r});throw Error("IoTSiteWiseClient not found or credentials missing")},vf="us-west-2",yf=function(e){var t=e.iotEventsClient,n=e.awsCredentials,r=e.awsRegion;if(t)return t;if(n)return function(e){var t=e.credentials,n=e.awsRegion,r=e.awsPartition;return new Ml({region:n||vf,endpoint:"https://iotevents.".concat(n||vf,".amazonaws.").concat(r||"com","/"),credentials:t})}({credentials:n,awsRegion:r});throw Error("IoTEventsClient not found or credentials missing")},mf=function(e){if(null==e)throw new Error("variant is undefined");var t=e.doubleValue,n=e.integerValue,r=e.stringValue,i=e.booleanValue;if(null!=t)return t;if(null!=n)return n;if(null!=r)return r;if(null!=i)return i.toString();throw new Error("Expected value to have at least one property value, but instead it has none!")},gf=function(e){if(null!=e){var t,n=e.timestamp,r=e.value,i=mf(r);if(null!=i)return{x:(t=n,t&&Math.floor(1e3*(t.timeInSeconds||0)+1e-6*(t.offsetInNanos||0))||0),y:i}}},bf=function(e){var t=e.average,n=e.count,r=e.maximum,i=e.minimum,o=e.sum;if(null!=t)return t;if(null!=n)return n;if(null!=r)return r;if(null!=i)return i;if(null!=o)return o;throw new Error("Expected there to be a valid aggregate contained in `Aggregates`")},wf=function(e){if(e instanceof Date)return e.getTime();throw new Error("Expected timestamp to be instance of Date")},Ef=function(e){var t=e.timestamp,n=e.value;return{x:wf(t),y:bf(n)}},Sf=function(e){var t=e.assetId,n=e.propertyId,r=e.dataPoints,i=void 0===r?[]:r,o=e.resolution,a=void 0===o?0:o,s={id:Fd({assetId:t,propertyId:n}),data:0===a?i:[],resolution:a};return a&&(s.aggregates=(0,M.Z)({},a,i||[])),s},xf=-1,Af=function(e){var t={};return e.forEach((function(e){var n=e.maxResults||xf;t[n]?t[n]=t[n].concat([e]):t[n]=[e]})),Object.keys(t).map((function(e){var n=Number(e),r=t[n];return kf(r).map((function(e){return[e,n===xf?xf:e.length*n]}))})).flat()},_f=function(e){var t=e.maxResults,n=e.dataPointsFetched;return t===xf?4e3:Math.min(t-n,4e3)},If=function(e){var t=e.nextToken,n=e.maxResults,r=e.dataPointsFetched;return!!t&&(n===xf||null!==r&&void 0!==r&&r<n)},kf=function(e){for(var t=[],n=0;n<e.length;n+=16)t.push(e.slice(n,n+16));return t};function Zf(e){return xd(e,Tf)}function Tf(e,t){return(0,J.l)(Pf(e),Pf(t))}function Pf(e){return Rd(e.requestInformation,["refId","cacheSettings"])}var Rf,Of=function e(t){var n=t.client,r=t.batch,i=t.maxResults,o=t.requestIndex,a=t.nextToken,s=t.dataPointsFetched,u=void 0===s?0:s,c={},l=_f({maxResults:i,dataPointsFetched:u});n.send(new Bi({entries:Zf(r).map((function(e,t){var n=e.requestInformation,r=e.onError,i=e.onSuccess,a=e.requestStart,s=e.requestEnd,u=n.id,l=String("".concat(o,"-").concat(t));return c[l]={onError:function(e){var t=e.errorMessage,n=void 0===t?"batch historical error":t,i=e.errorCode;r({id:u,resolution:0,error:{msg:n,status:i}})},onSuccess:function(e){var t=e.assetPropertyValueHistory;t&&i([Sf(Object.assign(Object.assign({},jd(u)),{dataPoints:t.map((function(e){return gf(e)})).filter(Ud)}))],n,a,s)}},Object.assign(Object.assign({},jd(n.id)),{startDate:a,endDate:s,entryId:l,timeOrdering:Lt.DESCENDING})})),maxResults:l,nextToken:a})).then((function(t){var a=t.errorEntries,s=t.successEntries,d=t.nextToken;null===a||void 0===a||a.forEach((function(e){var t;return e.entryId&&(null===(t=c[e.entryId])||void 0===t?void 0:t.onError(e))})),null===s||void 0===s||s.forEach((function(e){var t;return e.entryId&&(null===(t=c[e.entryId])||void 0===t?void 0:t.onSuccess(e))})),If({nextToken:d,maxResults:i,dataPointsFetched:u+=l})&&e({client:n,batch:r,maxResults:i,requestIndex:o,nextToken:d,dataPointsFetched:u})}))},Mf=function(e){var t=e.client,n=e.entries;return Af(n).filter((function(e){return e.length>0})).map((function(e,n){var r=(0,F.Z)(e,2),i=r[0],o=r[1];return Of({client:t,batch:i,maxResults:o,requestIndex:n})}))},Cf=function(e){var t=e.params,n=e.client,r=[];t.forEach((function(e){var t=e.requestInformations,n=e.maxResults,i=e.onSuccess,o=e.onError;t.filter((function(e){return"0"===e.resolution})).forEach((function(e){var t=e.fetchMostRecentBeforeStart,a=e.start,s=e.end;r.push({requestInformation:e,maxResults:t?1:n,onSuccess:i,onError:o,requestStart:t?new Date(0,0,0):a,requestEnd:t?a:s})}))})),r.sort((function(e,t){return t.requestInformation.start.getTime()-e.requestInformation.start.getTime()})),r.length>0&&Mf({entries:r,client:n})},Df=6e4,Nf=36e5,Lf=864e5;!function(e){e.ONE_MINUTE="1m",e.ONE_HOUR="1h",e.ONE_DAY="1d"}(Rf||(Rf={}));var Ff=(T={0:0},(0,M.Z)(T,Rf.ONE_MINUTE,Df),(0,M.Z)(T,Rf.ONE_HOUR,Nf),(0,M.Z)(T,Rf.ONE_DAY,Lf),T),jf=function e(t){var n=t.client,r=t.batch,i=t.maxResults,o=t.requestIndex,a=t.nextToken,s=t.dataPointsFetched,u=void 0===s?0:s,c={},l=_f({maxResults:i,dataPointsFetched:u});n.send(new Ui({entries:Zf(r).map((function(e,t){var n=e.requestInformation,r=e.aggregateTypes,i=e.onError,a=e.onSuccess,s=e.requestStart,u=e.requestEnd,l=n.id,d=n.resolution,f=String("".concat(o,"-").concat(t));return c[f]={onError:function(e){var t=e.errorMessage,n=void 0===t?"batch aggregate error":t,r=e.errorCode;i({id:l,resolution:(0,Q.p)(d),error:{msg:n,status:r}})},onSuccess:function(e){var t=e.aggregatedValues;t&&a([Sf(Object.assign(Object.assign({},jd(l)),{dataPoints:t.map((function(e){return Ef(e)})).filter(Ud),resolution:Ff[d]}))],n,s,u)}},Object.assign(Object.assign({},jd(n.id)),{aggregateTypes:r,resolution:d,startDate:s,endDate:u,entryId:f,timeOrdering:Lt.DESCENDING})})),maxResults:l,nextToken:a})).then((function(t){var a=t.errorEntries,s=t.successEntries,d=t.nextToken;null===a||void 0===a||a.forEach((function(e){var t;return e.entryId&&(null===(t=c[e.entryId])||void 0===t?void 0:t.onError(e))})),null===s||void 0===s||s.forEach((function(e){var t;return e.entryId&&(null===(t=c[e.entryId])||void 0===t?void 0:t.onSuccess(e))})),If({nextToken:d,maxResults:i,dataPointsFetched:u+=l})&&e({client:n,batch:r,maxResults:i,requestIndex:o,nextToken:d,dataPointsFetched:u})}))},Uf=function(e){var t=e.client,n=e.entries;return Af(n).filter((function(e){return e.length>0})).map((function(e,n){var r=(0,F.Z)(e,2),i=r[0],o=r[1];return jf({client:t,batch:i,maxResults:o,requestIndex:n})}))},qf=function(e){var t=e.params,n=e.client,r=[];t.forEach((function(e){var t=e.requestInformations,n=e.maxResults,i=e.onSuccess,o=e.onError,a=e.aggregateTypes;t.filter((function(e){return"0"!==e.resolution})).forEach((function(e){var t=e.fetchMostRecentBeforeStart,s=e.start,u=e.end;r.push({requestInformation:e,aggregateTypes:a,maxResults:t?1:n,onSuccess:i,onError:o,requestStart:t?new Date(0,0,0):s,requestEnd:t?s:u})}))})),r.sort((function(e,t){return t.requestInformation.start.getTime()-e.requestInformation.start.getTime()})),r.length>0&&Uf({entries:r,client:n})},Bf=function e(t){var n=t.client,r=t.batch,i=t.requestIndex,o=t.nextToken,a={};n.send(new qi({entries:Zf(r).map((function(e,t){var n=e.requestInformation,r=e.onError,o=e.onSuccess,s=e.requestStart,u=e.requestEnd,c=n.id,l=String("".concat(i,"-").concat(t));return a[l]={onError:function(e){var t=e.errorMessage,n=void 0===t?"batch latest value error":t,i=e.errorCode;r({id:c,resolution:0,error:{msg:n,status:i}})},onSuccess:function(e){var t=e.assetPropertyValue;if(t){var r=Sf(Object.assign(Object.assign({},jd(c)),{dataPoints:[gf(t)].filter(Ud)}));o([r],n,s,u)}}},Object.assign(Object.assign({},jd(n.id)),{entryId:l})})),nextToken:o})).then((function(t){var o=t.errorEntries,s=t.successEntries,u=t.nextToken;null===o||void 0===o||o.forEach((function(e){var t;return e.entryId&&(null===(t=a[e.entryId])||void 0===t?void 0:t.onError(e))})),null===s||void 0===s||s.forEach((function(e){var t;return e.entryId&&(null===(t=a[e.entryId])||void 0===t?void 0:t.onSuccess(e))})),If({nextToken:u,maxResults:xf})&&e({client:n,batch:r,requestIndex:i,nextToken:u})}))},Hf=function(e){var t=e.client,n=e.entries;return Af(n).filter((function(e){return e.length>0})).map((function(e,n){var r=(0,F.Z)(e,1)[0];return Bf({client:t,batch:r,requestIndex:n})}))},zf=function(e){var t=e.params,n=e.client,r=[];t.forEach((function(e){var t=e.requestInformations,n=e.onSuccess,i=e.onError;t.filter((function(e){var t=e.resolution,n=e.fetchMostRecentBeforeEnd;return"0"===t&&n})).forEach((function(e){var t=e.end;r.push({requestInformation:e,onSuccess:n,onError:i,requestStart:new Date(0,0,0),requestEnd:t})}))})),r.sort((function(e,t){return t.requestInformation.start.getTime()-e.requestInformation.start.getTime()})),r.length>0&&Hf({entries:r,client:n})},Vf=function e(t){var n=t.requestInformation,r=t.assetId,i=t.propertyId,o=t.maxResults,a=t.onSuccess,s=t.onError,u=t.nextToken,c=t.client,l=n.start,d=n.end;return n.fetchMostRecentBeforeStart&&(d=l,l=new Date(0,0,0)),c.send(new Gi({assetId:r,propertyId:i,startDate:l,endDate:d,maxResults:n.fetchMostRecentBeforeStart?1:o,timeOrdering:Lt.DESCENDING,nextToken:u})).then((function(t){if(t){var u=t.assetPropertyValueHistory,f=t.nextToken;if(u){var p=u.map((function(e){return gf(e)})).filter(Ud);a([Sf({assetId:r,propertyId:i,dataPoints:p})],n,l,d)}f&&!n.fetchMostRecentBeforeStart&&e({requestInformation:n,assetId:r,propertyId:i,maxResults:o,onError:s,onSuccess:a,nextToken:f,client:c})}})).catch((function(e){var t,n=Fd({assetId:r,propertyId:i});s({id:n,resolution:0,error:{msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode}})}))},Wf=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.requestInformations,i=t.maxResults,o=t.onSuccess,a=t.onError,s=r.filter((function(e){return"0"===e.resolution})).sort((function(e,t){return t.start.getTime()-e.start.getTime()})).map((function(e){var t=jd(e.id),r=t.assetId,s=t.propertyId;return Vf({requestInformation:e,client:n,assetId:r,propertyId:s,maxResults:i,onSuccess:o,onError:a})})),e.prev=2,e.next=5,Promise.all(s);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),Gf=function e(t){var n=t.requestInformation,r=t.assetId,i=t.propertyId,o=t.aggregateTypes,a=t.maxResults,s=t.onSuccess,u=t.onError,c=t.nextToken,l=t.client,d=n.start,f=n.end,p=n.resolution;return n.fetchMostRecentBeforeStart&&(f=d,d=new Date(0,0,0)),l.send(new Vi({assetId:r,propertyId:i,startDate:d,endDate:f,resolution:p,aggregateTypes:o,maxResults:n.fetchMostRecentBeforeStart?1:a,timeOrdering:Lt.DESCENDING,nextToken:c})).then((function(t){var c=t.aggregatedValues,h=t.nextToken;if(c){var v=c.map((function(e){return Ef(e)})).filter(Ud);s([Sf({assetId:r,propertyId:i,dataPoints:v,resolution:Ff[p]})],n,d,f)}h&&!n.fetchMostRecentBeforeStart&&e({requestInformation:n,assetId:r,propertyId:i,aggregateTypes:o,maxResults:a,onError:u,onSuccess:s,nextToken:h,client:l})})).catch((function(e){var t,n=Fd({assetId:r,propertyId:i});u({id:n,resolution:(0,Q.p)(p),error:{msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode}})}))},Kf=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.client,r=t.requestInformations,i=t.aggregateTypes,o=t.maxResults,a=t.onSuccess,s=t.onError,u=r.filter((function(e){return"0"!==e.resolution})).sort((function(e,t){return t.start.getTime()-e.start.getTime()})).map((function(e){var t=jd(e.id),r=t.assetId,u=t.propertyId;return Gf({requestInformation:e,client:n,assetId:r,propertyId:u,aggregateTypes:i,maxResults:o,onSuccess:a,onError:s})})),e.prev=2,e.next=5,Promise.all(u);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),$f=function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.onSuccess,r=t.onError,i=t.client,o=t.requestInformations,a=new Date,s=o.filter((function(e){var t=e.resolution,n=e.fetchMostRecentBeforeEnd;return"0"===t&&n})).sort((function(e,t){return t.start.getTime()-e.start.getTime()})).map((function(e){var t=jd(e.id),n=t.assetId,o=t.propertyId;return i.send(new Wi({assetId:n,propertyId:o})).then((function(t){return{siteWiseData:{dataPoints:[gf(t.propertyValue)].filter(Ud),assetId:n,propertyId:o},requestInformation:e}})).catch((function(e){var t,i=Fd({assetId:n,propertyId:o});r({id:i,resolution:0,error:{msg:e.message,type:e.name,status:null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode}})}))})),e.prev=3,e.next=6,Promise.all(s).then((function(e){e.filter(Ud).map((function(e){var t=e.siteWiseData,n=e.requestInformation;return{dataStream:Sf(t),requestInformation:n}})).forEach((function(e){var t=e.dataStream,r=e.requestInformation,i=t.data.slice(-1)[0],o=i?new Date(i.x):new Date(0,0,0);n([t],r,o,a)}))}));case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(3);case 10:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),Qf=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,B.Z)(this,e),this.siteWiseSdk=t,this.settings=n,this.instantiateDataLoaders()}return(0,H.Z)(e,[{key:"instantiateDataLoaders",value:function(){var e=this;this.latestPropertyDataLoader=new Ul(function(){var t=(0,U.Z)((0,j.Z)().mark((function t(n){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return zf({params:n.flat(),client:e.siteWiseSdk}),t.abrupt("return",n.map((function(){})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{batchScheduleFn:this.settings.batchDuration?function(t){return setTimeout(t,e.settings.batchDuration)}:void 0}),this.historicalPropertyDataLoader=new Ul(function(){var t=(0,U.Z)((0,j.Z)().mark((function t(n){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Cf({params:n.flat(),client:e.siteWiseSdk}),t.abrupt("return",n.map((function(){})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{batchScheduleFn:this.settings.batchDuration?function(t){return setTimeout(t,e.settings.batchDuration)}:void 0}),this.aggregatedPropertyDataLoader=new Ul(function(){var t=(0,U.Z)((0,j.Z)().mark((function t(n){return(0,j.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return qf({params:n.flat(),client:e.siteWiseSdk}),t.abrupt("return",n.map((function(){})));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),{batchScheduleFn:this.settings.batchDuration?function(t){return setTimeout(t,e.settings.batchDuration)}:void 0})}},{key:"getLatestPropertyDataPoint",value:function(e){return this.settings.legacyAPI?$f(Object.assign({client:this.siteWiseSdk},e)):this.latestPropertyDataLoader.load(e)}},{key:"getHistoricalPropertyDataPoints",value:function(e){return this.settings.legacyAPI?Wf(Object.assign({client:this.siteWiseSdk},e)):this.historicalPropertyDataLoader.load(e)}},{key:"getAggregatedPropertyDataPoints",value:function(e){return this.settings.legacyAPI?Kf(Object.assign({client:this.siteWiseSdk},e)):this.aggregatedPropertyDataLoader.load(e)}}]),e}(),Yf=(P={},(0,M.Z)(P,9e5,Rf.ONE_MINUTE),(0,M.Z)(P,54e6,Rf.ONE_HOUR),(0,M.Z)(P,5184e6,Rf.ONE_DAY),P),Jf=function(e){var t=e.resolution,n=e.start,r=e.end;if("string"===typeof t)return t;var i=t||Yf,o=r.getTime()-n.getTime(),a=Object.keys(i).sort((function(e,t){return parseInt(t)-parseInt(e)})).find((function(e){return o>=parseInt(e)}));if(a){var s=i[parseInt(a)];if(!function(e){return Object.values(Rf).includes(e)}(s))throw new Error("".concat(s," is not a valid SiteWise aggregation resolution, must match regex pattern '1m|1h|1d'"));return s}return"0"},Xf=function(){function e(t){(0,B.Z)(this,e),this.eventsSdk=t}return(0,H.Z)(e,[{key:"getAlarmModel",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.eventsSdk.send(new cl({alarmModelName:t})));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ep=function(){function e(t){(0,B.Z)(this,e),this.alarmModels={},this.client=t}return(0,H.Z)(e,[{key:"getAlarmModel",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u,c;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.alarmModels[t]){e.next=2;break}return e.abrupt("return",this.alarmModels[t]);case 2:return e.next=4,this.client.getAlarmModel(t);case 4:if(n=e.sent,r=n.severity,null===(i=n.alarmRule)||void 0===i?void 0:i.simpleRule){e.next=9;break}throw new Error("Could not get alarm rule");case 9:if(o=i.simpleRule,a=o.inputProperty,s=o.comparisonOperator,u=o.threshold,a&&s&&u&&r){e.next=12;break}throw new Error("Could not parse alarm");case 12:return c={inputPropertyId:a,comparisonOperator:Zd[s],thresholdPropertyId:u,severity:r},this.alarmModels[t]=c,e.abrupt("return",c);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),tp=function(e){var t=e.split("/");return t[t.length-1]},np=function(e){if(null!=e&&e.startsWith("$sitewise")){var t=e.split(".");return t[3].replace(/^`|`$/g,"")}},rp=function(e,t){var n;return null===(n=e.assetModelCompositeModels)||void 0===n?void 0:n.filter((function(e){return"AWS/ALARM"===e.type})).map((function(e){return e.properties})).filter((function(e){return null===e||void 0===e?void 0:e.some((function(e){return(null===e||void 0===e?void 0:e.id)===t}))})).flat().find((function(e){return"AWS/ALARM_SOURCE"===(null===e||void 0===e?void 0:e.name)}))},ip=function(){function e(t,n){(0,B.Z)(this,e),this.client=new Xf(t),this.assetModuleSession=n.startSession(),this.cache=new ep(this.client)}return(0,H.Z)(e,[{key:"getAlarmModel",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.cache.getAlarmModel(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAlarm",value:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o,a,s,u,c,l,d,f,p,h,v,y,m,g,b,w,E,S,x,A,_;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.assetId,r=t.alarmStatePropertyId,e.prev=1,e.next=4,this.assetModuleSession.fetchAssetSummary({assetId:n});case 4:return s=e.sent,u=null===s||void 0===s?void 0:s.assetModelId,e.next=8,this.assetModuleSession.fetchAssetModel({assetModelId:u});case 8:if(c=e.sent,l=null===(i=rp(c,r))||void 0===i?void 0:i.id){e.next=12;break}return e.abrupt("return",void 0);case 12:return e.next=14,this.assetModuleSession.fetchAssetPropertyValue({assetId:n,propertyId:l});case 14:return d=e.sent,f=tp(mf(d.value)),e.next=18,this.getAlarmModel(f);case 18:return p=e.sent,h=p.comparisonOperator,v=p.thresholdPropertyId,y=p.inputPropertyId,m=p.severity,e.next=25,this.assetModuleSession.fetchAssetPropertyValue({assetId:n,propertyId:r});case 25:return g=e.sent,b=Wd(mf(g.value)),w=np(v),e.next=30,this.assetModuleSession.fetchAssetPropertyValue({assetId:n,propertyId:w});case 30:return E=e.sent,S=np(y),x=null===(a=null===(o=c.assetModelProperties)||void 0===o?void 0:o.find((function(e){return e.id===S})))||void 0===a?void 0:a.name,A=mf(E.value),_="".concat(x," ").concat(Td[h]," ").concat(A),e.abrupt("return",{assetId:n,alarmStatePropertyId:r,inputPropertyId:S,thresholdPropertyId:w,comparisonOperator:h,threshold:A,severity:m,rule:_,state:b});case 38:return e.prev=38,e.t0=e.catch(1),e.abrupt("return",void 0);case 41:case"end":return e.stop()}}),e,this,[[1,38]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),op="iotsitewise",ap=function(e){var t,n=hf(e),r=yf(e),i=(t=n,{describeAsset:function(e){return t.send(new Hi(e))},getPropertyValue:function(e){return t.send(new Wi(e))},describeAssetModel:function(e){return t.send(new zi(e))},listAssets:function(e){return t.send(new Ki(e))},listAssociatedAssets:function(e){return t.send(new $i(e))}}),o=new sf(i),a=new Q.T(function(e,t){var n=new Qf(e,t);return{initiateRequest:function(e,t){var r=e.onSuccess,i=e.onError;return Promise.all([n.getLatestPropertyDataPoint({onSuccess:r,onError:i,requestInformations:t}),n.getAggregatedPropertyDataPoints({requestInformations:t,onSuccess:r,onError:i,aggregateTypes:[St.AVERAGE]}),n.getHistoricalPropertyDataPoints({requestInformations:t,onSuccess:r,onError:i})])},getRequestsFromQuery:function(){var e=(0,U.Z)((0,j.Z)().mark((function e(t){var n,r,i,o;return(0,j.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query,r=t.request,o=Jf({resolution:null===(i=r.settings)||void 0===i?void 0:i.resolution,start:(0,Q.v)(r.viewport),end:(0,Q.f)(r.viewport)}),e.abrupt("return",n.assets.flatMap((function(e){var t=e.assetId;return e.properties.map((function(e){var n=e.propertyId,r=e.resolution,i=e.refId,a=null!=r?r:o;return{id:Fd({assetId:t,propertyId:n}),refId:i,aggregationType:0===(0,Q.p)(a)?void 0:St.AVERAGE,resolution:a}}))})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}(n,e.settings)),s=new ip(r,o);return{query:{timeSeriesData:function(e){return{toQueryString:function(){return JSON.stringify({source:op,queryType:"time-series-data",query:e})},build:function(t,n){return new Jd(new ff({componentId:t,siteWiseTimeSeriesModule:a,siteWiseAssetModule:o,siteWiseAlarmModule:s}),{queries:[e],request:n})}}},assetTree:{fromRoot:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{toQueryString:function(){return JSON.stringify({source:op,queryType:"assets-from-root",query:e})},build:function(t){var n=new ff({componentId:t,siteWiseTimeSeriesModule:a,siteWiseAssetModule:o,siteWiseAlarmModule:s});return new df(Yd(n),e)}}},fromAsset:function(e){return{toQueryString:function(){return JSON.stringify({source:op,queryType:"assets-from-asset",query:e})},build:function(t){var n=new ff({componentId:t,siteWiseTimeSeriesModule:a,siteWiseAssetModule:o,siteWiseAlarmModule:s});return new df(Yd(n),e)}}}}}}}},9108:function(e,t,n){var r;n.d(t,{v:function(){return l}});var i=new Uint8Array(16);function o(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(i)}var a=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var s=[],u=0;u<256;++u)s.push((u+256).toString(16).substr(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!function(e){return"string"===typeof e&&a.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n}function l(e,t,n){var r=(e=e||{}).random||(e.rng||o)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return c(r)}}}]);
//# sourceMappingURL=5451.5376690c.chunk.js.map