"use strict";(self.webpackChunksmart_light_bulbs=self.webpackChunksmart_light_bulbs||[]).push([[1757],{6673:function(t,e,r){r.d(e,{D:function(){return a},a:function(){return o},b:function(){return i}});var n=r(7775),a={widgetId:"fake-id",viewport:{start:new Date(1995,0,0,0),end:new Date(2020,1,0,0),yMin:0,yMax:1e4},size:{width:475,height:350,marginLeft:50,marginRight:50,marginTop:24,marginBottom:30},movement:{enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},layout:{xGridVisible:!1,yGridVisible:!0,xTicksVisible:!0,yTicksVisible:!0},scale:{xScaleType:n.b.TimeSeries,yScaleType:n.b.Linear,xScaleSide:"bottom",yScaleSide:"left"},dataStreams:[],legend:{position:n.L.BOTTOM,width:170}},o={showColor:!0},i={showColor:!1}},3254:function(t,e,r){r.d(e,{c:function(){return p},u:function(){return m}});var n=r(9439),a=r(8134),o=r(7411),i=r(3141),s=r(7142),u=r(553),c=function(t){var e=t.toClipSpace,r=t.resolution,n=t.numDataStreams;return((0,i.g)(e,r)-function(t,e){return(0,i.g)(t,.16666666666666666*e)}(e,r))/n},d=function(t,e){if(0===t.length)return 0;var r=t[0].resolution;return c({toClipSpace:e,numDataStreams:t.length,resolution:r})},l=function(t){var e=t.dataStreams,r=t.mesh,a=t.toClipSpace,i=t.thresholds,c=t.thresholdOptions,l=e.filter(u.b).map((function(t){return(0,o.v)(t,t.resolution)}));r.count=function(t){return t.reduce((function(t,e){return t+e.length}),0)}(l);var f=r.geometry.attributes,h=f.color,p=f.bar,m=0,b=0;l.forEach((function(t,r){t.forEach((function(t){var u=(0,n.Z)(t,5),l=u[0],f=u[1],v=u[2],g=u[3],S=u[4];p.array[m]=a(l)-r*d(e,a),p.array[m+1]=f;var w=(0,s.g)(f,i);if(null!=w&&c.showColor){var y=(0,o.g)(w.color),C=(0,n.Z)(y,3),z=C[0],x=C[1],D=C[2];h.array[b]=z,h.array[b+1]=x,h.array[b+2]=D}else h.array[b]=v,h.array[b+1]=g,h.array[b+2]=S;b+=3,m+=2}))})),p.needsUpdate=!0,h.needsUpdate=!0},f=[0,0,0,1,1,0,0,1,1,0,1,1],h=function(t){var e=t.dataStreams,r=t.toClipSpace,n=t.bufferFactor,i=t.minBufferSize,s=t.thresholdOptions,u=t.thresholds,c=new a.I,h=Math.max(i,(0,o.n)(e)*n);!function(t,e){t.setAttribute("position",new a.B(new Float32Array(f),2)),t.setAttribute("bar",new a.b(new Float32Array(2*e),2,!1)),t.setAttribute("color",new a.b(new Uint8Array(3*e),3,!0))}(c,h);var p=new a.R({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float width;\nattribute vec2 bar;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  // Negative width here because we want to render the bars' width to the left side starting from its x position.\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * -width + bar.x, position.y * bar.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:a.D,transparent:!1,uniforms:{width:{value:d(e,r)}}}),m=new a.a(c,p,h);return l({dataStreams:e,mesh:m,toClipSpace:r,thresholds:u,thresholdOptions:s}),m.frustumCulled=!1,m},p=function(t){var e=t.dataStreams,r=t.container,n=t.viewport,i=t.bufferFactor,s=t.minBufferSize,u=t.onUpdate,c=t.thresholdOptions,d=t.thresholds,l=new a.S,f=(0,o.a)(n);return l.add(h({dataStreams:e,toClipSpace:f,bufferFactor:i,minBufferSize:s,thresholdOptions:c,thresholds:d})),(0,o.c)({scene:l,viewport:n,container:r,toClipSpace:f,onUpdate:u})},m=function(t){var e=t.scene,r=t.dataStreams,n=t.hasDataChanged,a=t.minBufferSize,i=t.bufferFactor,s=t.viewport,u=t.container,c=t.onUpdate,f=t.chartSize,h=t.thresholdOptions,m=t.thresholds,b=t.hasAnnotationChanged,v=e.scene.children[0],g=function(t){return t.geometry.attributes.bar.array.length/2}(v)<(0,o.n)(r);return g||(0,o.b)(s,e.toClipSpace)||b?p({onUpdate:c,dataStreams:r,container:u,viewport:s,minBufferSize:a,bufferFactor:i,chartSize:f,thresholdOptions:h,thresholds:m}):(function(t){var e=t.bars,r=t.dataStreams,n=t.toClipSpace,a=t.hasDataChanged,o=t.thresholdOptions,i=t.thresholds;a&&(e.material.uniforms.width.value=d(r,n),l({dataStreams:r,mesh:e,toClipSpace:n,thresholds:i,thresholdOptions:o}))}({bars:v,dataStreams:r,toClipSpace:e.toClipSpace,hasDataChanged:n,thresholdOptions:h,thresholds:m}),e)}},3141:function(t,e,r){r.d(e,{g:function(){return n}});var n=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))}},1757:function(t,e,r){r.r(e),r.d(e,{sc_bar_chart:function(){return f}});var n=r(5671),a=r(3144),o=r(8427),i=r(3254),s=r(6673),u=r(7775),c=r(4910),d=r(6591),l=(r(8134),r(7411),r(2208),r(8828),r(5615),r(8858),r(339),r(7142),r(553),function(t){return(0,o.h)("sc-tooltip",Object.assign({},t,{visualizesAlarms:!1,supportString:!1,dataAlignment:u.D.EITHER}))}),f=function(){function t(e){(0,n.Z)(this,t),(0,o.r)(this,e),this.gestures=!0,this.isEditing=!1,this.bufferFactor=2,this.minBufferSize=1e3}return(0,a.Z)(t,[{key:"componentWillRender",value:function(){(0,c.v)(this)}},{key:"render",value:function(){var t=this;return(0,o.h)("sc-size-provider",{size:this.size,renderFunc:function(e){return(0,o.h)("sc-webgl-base-chart",{supportedDataTypes:[d.D.NUMBER],axis:t.axis,gestures:t.gestures,configId:t.widgetId,legend:t.legend,annotations:t.annotations,trends:t.trends,updateChartScene:i.u,createChartScene:i.c,size:Object.assign(Object.assign(Object.assign({},s.D.size),t.size),e),dataStreams:t.dataStreams,alarms:t.alarms,viewport:t.viewport,minBufferSize:t.minBufferSize,bufferFactor:t.bufferFactor,isEditing:t.isEditing,yRangeStartFromZero:!0,renderTooltip:l,supportString:!1,visualizesAlarms:!1,messageOverrides:t.messageOverrides})}})}}]),t}()},4910:function(t,e,r){r.d(e,{v:function(){return d}});var n=r(339),a=r(553),o=r(8828),i=(0,o.c)((function(t,e){function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){if(!("string"===typeof t||t instanceof String)){var e=r(t);throw null===t?e="null":"object"===e&&(e=t.constructor.name),new TypeError("Expected a string but received a ".concat(e))}},t.exports=e.default,t.exports.default=e.default})),s=(0,o.c)((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,n.default)(t);var r=e.strictSeparator?o.test(t):a.test(t);return r&&e.strict?s(t):r};var r,n=(r=i)&&r.__esModule?r:{default:r};var a=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,o=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T]((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,s=function(t){var e=t.match(/^(\d{4})-?(\d{3})([ T]{1}\.*|$)/);if(e){var r=Number(e[1]),n=Number(e[2]);return r%4===0&&r%100!==0||r%400===0?n<=366:n<=365}var a=t.match(/(\d{4})-?(\d{0,2})-?(\d*)/).map(Number),o=a[1],i=a[2],s=a[3],u=i?"0".concat(i).slice(-2):i,c=s?"0".concat(s).slice(-2):s,d=new Date("".concat(o,"-").concat(u||"01","-").concat(c||"01"));return!i||!s||d.getUTCFullYear()===o&&d.getUTCMonth()+1===i&&d.getUTCDate()===s};t.exports=e.default,t.exports.default=e.default})),u=(0,o.a)(s),c=function(t){return t instanceof Date||u(t)},d=function(t){var e=t.viewport;if(null!=e){if((0,a.a)(e)&&null!=e.duration&&console.warn("Detected both static and live viewport type. Duration will be used"),(0,a.a)(e)&&(!c(e.start)||!c(e.end)))throw new Error("Unable to parse start date: '".concat(e.start,"' and/or end date: '").concat(e.end,"'"));if(!(0,a.a)(e)&&"string"===typeof e.duration&&null==(0,n.p)(e.duration,"ms"))throw new Error("Unable to parse duration: '".concat(e.duration,"'"))}}}}]);
//# sourceMappingURL=1757.33fc9e6b.chunk.js.map