"use strict";(self.webpackChunksmart_light_bulbs=self.webpackChunksmart_light_bulbs||[]).push([[9411],{3254:function(t,e,r){r.d(e,{c:function(){return p},u:function(){return m}});var n=r(9439),a=r(8134),o=r(7411),i=r(3141),s=r(7142),h=r(553),c=function(t){var e=t.toClipSpace,r=t.resolution,n=t.numDataStreams;return((0,i.g)(e,r)-function(t,e){return(0,i.g)(t,.16666666666666666*e)}(e,r))/n},u=function(t,e){if(0===t.length)return 0;var r=t[0].resolution;return c({toClipSpace:e,numDataStreams:t.length,resolution:r})},l=function(t){var e=t.dataStreams,r=t.mesh,a=t.toClipSpace,i=t.thresholds,c=t.thresholdOptions,l=e.filter(h.b).map((function(t){return(0,o.v)(t,t.resolution)}));r.count=function(t){return t.reduce((function(t,e){return t+e.length}),0)}(l);var d=r.geometry.attributes,f=d.color,p=d.bar,m=0,g=0;l.forEach((function(t,r){t.forEach((function(t){var h=(0,n.Z)(t,5),l=h[0],d=h[1],v=h[2],S=h[3],b=h[4];p.array[m]=a(l)-r*u(e,a),p.array[m+1]=d;var w=(0,s.g)(d,i);if(null!=w&&c.showColor){var C=(0,o.g)(w.color),y=(0,n.Z)(C,3),x=y[0],D=y[1],O=y[2];f.array[g]=x,f.array[g+1]=D,f.array[g+2]=O}else f.array[g]=v,f.array[g+1]=S,f.array[g+2]=b;g+=3,m+=2}))})),p.needsUpdate=!0,f.needsUpdate=!0},d=[0,0,0,1,1,0,0,1,1,0,1,1],f=function(t){var e=t.dataStreams,r=t.toClipSpace,n=t.bufferFactor,i=t.minBufferSize,s=t.thresholdOptions,h=t.thresholds,c=new a.I,f=Math.max(i,(0,o.n)(e)*n);!function(t,e){t.setAttribute("position",new a.B(new Float32Array(d),2)),t.setAttribute("bar",new a.b(new Float32Array(2*e),2,!1)),t.setAttribute("color",new a.b(new Uint8Array(3*e),3,!0))}(c,f);var p=new a.R({vertexShader:"\nprecision highp float;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float width;\nattribute vec2 bar;\nattribute vec2 position;\nattribute vec3 color;\nvarying vec3 vColor;\n\nvoid main() {\n  // Negative width here because we want to render the bars' width to the left side starting from its x position.\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position.x * -width + bar.x, position.y * bar.y, 0.0, 1.0);\n  vColor = color;\n}\n",fragmentShader:"\nprecision highp float;\nvarying vec3 vColor;\n\nvoid main() {\n  gl_FragColor = vec4(vColor, 1.0);\n}\n",side:a.D,transparent:!1,uniforms:{width:{value:u(e,r)}}}),m=new a.a(c,p,f);return l({dataStreams:e,mesh:m,toClipSpace:r,thresholds:h,thresholdOptions:s}),m.frustumCulled=!1,m},p=function(t){var e=t.dataStreams,r=t.container,n=t.viewport,i=t.bufferFactor,s=t.minBufferSize,h=t.onUpdate,c=t.thresholdOptions,u=t.thresholds,l=new a.S,d=(0,o.a)(n);return l.add(f({dataStreams:e,toClipSpace:d,bufferFactor:i,minBufferSize:s,thresholdOptions:c,thresholds:u})),(0,o.c)({scene:l,viewport:n,container:r,toClipSpace:d,onUpdate:h})},m=function(t){var e=t.scene,r=t.dataStreams,n=t.hasDataChanged,a=t.minBufferSize,i=t.bufferFactor,s=t.viewport,h=t.container,c=t.onUpdate,d=t.chartSize,f=t.thresholdOptions,m=t.thresholds,g=t.hasAnnotationChanged,v=e.scene.children[0],S=function(t){return t.geometry.attributes.bar.array.length/2}(v)<(0,o.n)(r);return S||(0,o.b)(s,e.toClipSpace)||g?p({onUpdate:c,dataStreams:r,container:h,viewport:s,minBufferSize:a,bufferFactor:i,chartSize:d,thresholdOptions:f,thresholds:m}):(function(t){var e=t.bars,r=t.dataStreams,n=t.toClipSpace,a=t.hasDataChanged,o=t.thresholdOptions,i=t.thresholds;a&&(e.material.uniforms.width.value=u(r,n),l({dataStreams:r,mesh:e,toClipSpace:n,thresholds:i,thresholdOptions:o}))}({bars:v,dataStreams:r,toClipSpace:e.toClipSpace,hasDataChanged:n,thresholdOptions:f,thresholds:m}),e)}},1693:function(t,e,r){r.d(e,{C:function(){return n}});var n={width:100,height:100}},3141:function(t,e,r){r.d(e,{g:function(){return n}});var n=function(t,e){return Math.abs(t(new Date(e).getTime())-t(new Date(0).getTime()))}},9267:function(t,e,r){r.r(e),r.d(e,{sc_multiple_bars:function(){return v}});var n=r(4942),a=r(5671),o=r(3144),i=r(8427),s=r(4231),h=r(3254),c=r(1693),u=r(8858),l=r(6591),d=(r(8134),r(553),r(7411),r(2208),r(8828),r(5615),r(7142),r(7775),r(339),new Date(2e3,0,0)),f=new Date(2e3,0,1),p=f.getTime()-d.getTime(),m={x:d.getTime()+p/3,y:25},g={x:d.getTime()+p*(2/3),y:50},v=function(){function t(e){(0,a.Z)(this,t),(0,i.r)(this,e)}return(0,o.Z)(t,[{key:"componentDidLoad",value:function(){var t=this.el.querySelector("#test-container"),e=(0,h.c)({viewport:{start:d,end:f,yMin:0,yMax:100},dataStreams:[{id:"test-stream",name:"test-stream-name",color:"black",aggregates:(0,n.Z)({},5*u.H,[m]),data:[],resolution:5*u.H,dataType:l.D.NUMBER},{id:"test-stream-2",name:"test-stream-name-2",color:"red",aggregates:(0,n.Z)({},5*u.H,[g]),data:[],resolution:5*u.H,dataType:l.D.NUMBER}],container:t,chartSize:c.C,minBufferSize:100,bufferFactor:2,thresholdOptions:{showColor:!1},thresholds:[]});s.w.addChartScene({manager:e});var r=t.getBoundingClientRect();s.w.setChartRect(e.id,Object.assign({density:1},r.toJSON()))}},{key:"render",value:function(){return(0,i.h)("sc-webgl-context",null,(0,i.h)("div",{id:"test-container",style:{width:"".concat(c.C.width,"px"),height:"".concat(c.C.height,"px")}}))}},{key:"el",get:function(){return(0,i.g)(this)}}]),t}()}}]);
//# sourceMappingURL=9411.93799b0e.chunk.js.map