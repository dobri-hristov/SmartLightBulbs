{"version":3,"file":"static/js/1949.1ee02ebc.chunk.js","mappings":"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","sources":["../node_modules/@iot-app-kit/components/dist/esm/breachedThreshold-ec78e357.js","../node_modules/@iot-app-kit/components/dist/esm/dataFilters-fa384f64.js","../node_modules/@iot-app-kit/components/dist/esm/getDataPoints-c53771e0.js","../node_modules/@iot-app-kit/components/dist/esm/index-0d64b039.js"],"sourcesContent":["import { g as getBreachedThreshold } from './utils-0919edc8.js';\nimport { c as isDefined } from './predicates-248e16b2.js';\nimport { p as pointBisector, g as getDataBeforeDate } from './dataFilters-fa384f64.js';\nimport { g as getDataPoints } from './getDataPoints-c53771e0.js';\nimport { D as DATA_ALIGNMENT } from './constants-9d5458e0.js';\nimport { S as StreamType } from './dataConstants-71f11842.js';\n\n/**\n * Sorts points in order of their points values.\n * Places objects with no point at the end of the list.\n */\nconst sortTooltipPoints = (attr) => (a, b) => {\n    if (a.point == null && b.point == null) {\n        return 0;\n    }\n    if (a.point == null) {\n        return -1;\n    }\n    if (b.point == null) {\n        return 1;\n    }\n    if (attr(a.point) === attr(b.point)) {\n        return 0;\n    }\n    return attr(b.point) > attr(a.point) ? 1 : -1;\n};\n\n/**\n * Closest Points\n *\n * Returns the closest point to the left, and right of a\n * given point in time..\n *\n * @param maxDistance - maximum distance, measured in terms of milliseconds. if not present, there is no max distance.\n */\nconst closestPoint = (dataPoints, date, dataAlignment, maxDistance) => {\n    const idx = pointBisector.left(dataPoints, date);\n    const leftPoint = dataPoints[idx - 1];\n    const rightPoint = dataPoints[idx];\n    /**\n     * If a point falls on our point of time, return it immediately regardless of 'data alignment'.\n     */\n    if (leftPoint && leftPoint.x === date.getTime()) {\n        return leftPoint;\n    }\n    if (rightPoint && rightPoint.x === date.getTime()) {\n        return rightPoint;\n    }\n    /** Right Alignment */\n    if (dataAlignment === DATA_ALIGNMENT.RIGHT) {\n        if (!rightPoint) {\n            return undefined;\n        }\n        if (maxDistance == null) {\n            return rightPoint;\n        }\n        return rightPoint.x - date.getTime() <= maxDistance ? rightPoint : undefined;\n    }\n    /** Left Alignment */\n    if (dataAlignment === DATA_ALIGNMENT.LEFT) {\n        if (!leftPoint) {\n            return undefined;\n        }\n        if (maxDistance == null) {\n            return leftPoint;\n        }\n        return date.getTime() - leftPoint.x <= maxDistance ? leftPoint : undefined;\n    }\n    /** Either Alignment */\n    // If only the left, or only the right point exist, go ahead and just return it.\n    if (!leftPoint || !rightPoint) {\n        return leftPoint || rightPoint;\n    }\n    // We are right bias because the interval between two points is the time span for the point on the right.\n    return rightPoint;\n};\n/**\n * Get Active Points\n *\n * Returns at most one point per data stream - for each data stream, it finds the point which is\n * 1. within the given view port\n * 2. closest to the provided `selectedDate`\n *\n * Additionally, if `allowMultipleDates` is false, it will only return the points which are the closest\n * to the `selectedDate`. i.e. if you have 10 points that are all equally distant from the `selectedDate`,\n * all 10 are returned.\n *\n * However if you have 10 points of different dates, only the closest point would be returned.\n */\nconst activePoints = ({ viewport, dataStreams, selectedDate, allowMultipleDates, dataAlignment, maxDurationFromDate, }) => {\n    const dataStreamUtilizedData = dataStreams.map(stream => ({\n        streamId: stream.id,\n        dataPoints: getDataBeforeDate(getDataPoints(stream, stream.resolution), viewport.end),\n    }));\n    const selectedTimestamp = selectedDate.getTime();\n    // Find the closest point to the selected date for each stream\n    const points = dataStreamUtilizedData.map(({ streamId, dataPoints }) => ({\n        streamId,\n        point: closestPoint(dataPoints, selectedDate, dataAlignment, maxDurationFromDate),\n    }));\n    if (allowMultipleDates) {\n        return points;\n    }\n    const distanceFromDate = (p) => Math.abs(p.x - selectedTimestamp);\n    // Sort in ascending order by there distance from the selected date\n    const sortedPoints = points.sort(sortTooltipPoints(distanceFromDate));\n    if (sortedPoints.length === 0) {\n        return [];\n    }\n    const topPoint = sortedPoints[sortedPoints.length - 1].point;\n    if (topPoint == null) {\n        // everything must be a 'blank' point\n        return sortedPoints;\n    }\n    // Filter such that only the points with a date equal to the date of the point which is closest to the selected date.\n    return sortedPoints.filter(p => p.point && p.point.x === topPoint.x);\n};\n\nconst isHigherPriority = (t1, t2) => {\n    if (t1 == null) {\n        return t2;\n    }\n    if (t1.severity == null && t2.severity == null) {\n        return t1;\n    }\n    if (t1.severity == null) {\n        return t2;\n    }\n    if (t2.severity == null) {\n        return t1;\n    }\n    return t1.severity <= t2.severity ? t1 : t2;\n};\n/**\n * Returns the most important threshold.\n *\n * The most important threshold is the visual which is most important to a user\n * This is determined via the `severity`. Lower severity means highest importance.\n *\n * If no thresholds are present with `severity`, the first threshold is returned.\n */\nconst highestPriorityThreshold = (thresholds) => {\n    return thresholds.reduce(isHigherPriority, undefined);\n};\n/**\n * returns whether the given threshold can be applied to the requested data stream.\n *\n * EXPOSED FOR TESTING\n */\nconst thresholdAppliesToDataStream = (threshold, dataStreamId) => {\n    const { dataStreamIds } = threshold;\n    if (dataStreamIds == null) {\n        return true;\n    }\n    return dataStreamIds.includes(dataStreamId);\n};\n/**\n * Returns all of the breached thresholds for any of the alarms associated with the requested data stream.\n *\n * Does NOT return them in any sort of priority order.\n *\n * EXPOSED FOR TESTING\n */\nconst breachedAlarmThresholds = ({ date, dataStream, dataStreams, thresholds, }) => {\n    const alarmStreamIds = dataStream.associatedStreams != null\n        ? dataStream.associatedStreams.filter(({ type }) => type === StreamType.ALARM).map(({ id }) => id)\n        : [];\n    const isAssociatedAlarm = (stream) => alarmStreamIds.includes(stream.id);\n    const alarmStreams = dataStreams.filter(isAssociatedAlarm);\n    // thresholds considered breech, across all alarms for the requested data stream\n    const allBreachedAlarmThresholds = alarmStreams\n        .map(stream => {\n        const alarmThresholds = thresholds.filter(threshold => thresholdAppliesToDataStream(threshold, stream.id));\n        const latestAlarmValue = closestPoint(stream.data, date, DATA_ALIGNMENT.LEFT);\n        return latestAlarmValue != null ? getBreachedThreshold(latestAlarmValue.y, alarmThresholds) : undefined;\n    })\n        .filter(isDefined);\n    return allBreachedAlarmThresholds;\n};\n/**\n * Get the highest priority breached threshold.\n *\n * NOTE: If you do not want to get alarm thresholds, simply pass in an empty array for the `dataStreams`.\n */\nconst breachedThreshold = ({ value, date, thresholds, dataStreams, dataStream, }) => {\n    const applicableThresholds = thresholds.filter(threshold => thresholdAppliesToDataStream(threshold, dataStream.id));\n    const dataThreshold = value != null ? getBreachedThreshold(value, applicableThresholds) : undefined;\n    const alarmThresholds = breachedAlarmThresholds({\n        date,\n        dataStream,\n        dataStreams,\n        thresholds,\n    });\n    return highestPriorityThreshold([dataThreshold, ...alarmThresholds].filter(isDefined));\n};\n\nexport { activePoints as a, breachedThreshold as b, closestPoint as c, sortTooltipPoints as s };\n","import { a as isMinimalStaticViewport } from './predicates-248e16b2.js';\nimport { p as parseDuration } from './time-b684d8c5.js';\nimport { b as bisector } from './bisector-ecf52045.js';\n\n// By doing the mapping to a date within the bisector\n// we eliminate the need to iterate over the entire data.\n// (As opposed to mapping entire data to an array of dates)\nconst pointBisector = bisector((p) => p.x);\n/**\n * Get Visible Data\n *\n * Returns the data points which are required for the chart to correctly render.\n * This assumes linear interpolation between points\n * TODO: Support other interpolation methods\n *\n * NOTE: It's possible to have data not in the viewport which is required for the chart to render\n * it's fully visualization correctly. For Instance, even if a point isn't visible in the viewport, it may\n * be used within interpolation to calculate a path between the points which is within the viewport.\n *\n * Different interpolation methods need larger amount of context around the viewport to correctly render\n * the chart visualization.\n */\nconst getVisibleData = (data, viewport, \n// Whether we want to include a single point to the right, and to the left of the provide viewport.\n// This is useful when rendering lines since you need to connect a point to a point outside of the viewport\n// to fully render the data correctly.\nincludeBoundaryPoints = true) => {\n    const start = isMinimalStaticViewport(viewport)\n        ? new Date(viewport.start)\n        : new Date(Date.now() - parseDuration(viewport.duration));\n    const end = isMinimalStaticViewport(viewport) ? new Date(viewport.end) : new Date();\n    // If there is no data\n    if (data.length === 0) {\n        return [];\n    }\n    // If all data is before the view port\n    if (start.getTime() > data[data.length - 1].x) {\n        return [];\n    }\n    // If all data is after the view port\n    if (end.getTime() < data[0].x) {\n        return [];\n    }\n    // Otherwise return all the data within the viewport, plus an additional single data point that falls outside of\n    // the viewport in either direction.\n    const startIndex = Math.max(pointBisector.left(data, start) - (includeBoundaryPoints ? 1 : 0), 0);\n    const endIndex = Math.min(pointBisector.right(data, end) - (includeBoundaryPoints ? 0 : 1), data.length - 1);\n    return data.slice(startIndex, endIndex + 1);\n};\n/**\n * Returns all data before or at the given date.\n *\n * Assumes data is ordered chronologically.\n */\nconst getDataBeforeDate = (data, date) => {\n    // If there is no data\n    if (data.length === 0) {\n        return [];\n    }\n    // If all data is after the view port\n    if (date.getTime() < data[0].x) {\n        return [];\n    }\n    // Otherwise return all the data within the viewport, plus an additional single data point that falls outside of\n    // the viewport in either direction.\n    const endIndex = Math.min(pointBisector.right(data, date) - 1, data.length - 1);\n    return data.slice(0, endIndex + 1);\n};\n\nexport { getVisibleData as a, getDataBeforeDate as g, pointBisector as p };\n","/**\n * Get the points for a given resolution from a data stream\n */\nconst getDataPoints = (stream, resolution) => {\n    if (resolution === 0) {\n        return stream.data;\n    }\n    if (stream.aggregates == null) {\n        return [];\n    }\n    return stream.aggregates[resolution] || [];\n};\n\nexport { getDataPoints as g };\n","import { c as createCommonjsModule, a as getDefaultExportFromCjs } from './_commonjsHelpers-f9dc4873.js';\nimport { r as react, u as useMutationObserver, f as findUpUntil, a as reactIs, g as getBaseProps, c as clsx, b as useContainerQuery, d as useVisualRefresh, n as nodeContains, e as getContainingBlock, h as useMergeRefs$1, i as useUniqueId, K as KeyCode, I as InternalButton, j as reactDom, k as useReducedMotion, l as checkSafeUrl, m as useFocusVisible, o as useForwardFocus, p as InternalIcon, q as isPlainLeftClick, s as fireCancelableEvent, S as StatusIndicator, t as fireNonCancelableEvent, v as getOverflowParentDimensions, w as getOverflowParents, x as useCurrentMode, y as useDensityMode, z as useMobile, A as generateUniqueId, B as containsOrEqual, C as useDebounceCallback, D as fireKeyboardEvent, E as getBlurEventRelatedTarget, F as CheckboxIcon, G as scrollElementIntoView, H as InternalInput, J as useBaseComponent, L as applyDisplayName, M as useCollection, T as Table$1 } from './index-a22f732d.js';\nimport { S as StatusIcon } from './constants-9d5458e0.js';\nimport './dataConstants-71f11842.js';\nimport './index-b3f1c3a1.js';\nimport './utils-0919edc8.js';\nimport { b as breachedThreshold } from './breachedThreshold-ec78e357.js';\nimport { r as round } from './index-c6c92ac7.js';\nimport { d as __rest, e as __assign, f as __spreadArray } from './tslib.es6-ab527f17.js';\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}\n\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\n\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\n\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\n\nvar reactJsxRuntime_production_min = createCommonjsModule(function (module, exports) {\nvar g=60103;exports.Fragment=60107;if(\"function\"===typeof Symbol&&Symbol.for){var h=Symbol.for;g=h(\"react.element\");exports.Fragment=h(\"react.fragment\");}var m=react.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,n=Object.prototype.hasOwnProperty,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,k){var b,d={},e=null,l=null;void 0!==k&&(e=\"\"+k);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(l=a.ref);for(b in a)n.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return {$$typeof:g,type:c,key:e,ref:l,props:d,_owner:m.current}}exports.jsx=q;exports.jsxs=q;\n});\n\ncreateCommonjsModule(function (module, exports) {\n});\n\nvar jsxRuntime = createCommonjsModule(function (module) {\n\n{\n  module.exports = reactJsxRuntime_production_min;\n}\n});\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar useVisualContext = function (elementRef) {\n    var contextMatch = /awsui-context-([\\w-]+)/;\n    var _a = react.useState(''), value = _a[0], setValue = _a[1];\n    useMutationObserver(elementRef, function (node) {\n        var contextParent = findUpUntil(node, function (node) { return !!node.className.match(contextMatch); });\n        setValue(contextParent ? contextParent.className.match(contextMatch)[1] : '');\n    });\n    return value;\n};\n\nconst styles$e = {\n  \"root\": \"awsui_root_18582_66aol_93\",\n  \"child\": \"awsui_child_18582_66aol_97\",\n  \"horizontal\": \"awsui_horizontal_18582_66aol_108\",\n  \"horizontal-xxxs\": \"awsui_horizontal-xxxs_18582_66aol_112\",\n  \"horizontal-xxs\": \"awsui_horizontal-xxs_18582_66aol_116\",\n  \"horizontal-xs\": \"awsui_horizontal-xs_18582_66aol_120\",\n  \"horizontal-s\": \"awsui_horizontal-s_18582_66aol_124\",\n  \"horizontal-m\": \"awsui_horizontal-m_18582_66aol_128\",\n  \"horizontal-l\": \"awsui_horizontal-l_18582_66aol_132\",\n  \"horizontal-xl\": \"awsui_horizontal-xl_18582_66aol_136\",\n  \"horizontal-xxl\": \"awsui_horizontal-xxl_18582_66aol_140\",\n  \"child-horizontal-xxxs\": \"awsui_child-horizontal-xxxs_18582_66aol_145\",\n  \"child-horizontal-xxs\": \"awsui_child-horizontal-xxs_18582_66aol_151\",\n  \"child-horizontal-xs\": \"awsui_child-horizontal-xs_18582_66aol_157\",\n  \"child-horizontal-s\": \"awsui_child-horizontal-s_18582_66aol_163\",\n  \"child-horizontal-m\": \"awsui_child-horizontal-m_18582_66aol_169\",\n  \"child-horizontal-l\": \"awsui_child-horizontal-l_18582_66aol_175\",\n  \"child-horizontal-xl\": \"awsui_child-horizontal-xl_18582_66aol_181\",\n  \"child-horizontal-xxl\": \"awsui_child-horizontal-xxl_18582_66aol_187\",\n  \"vertical\": \"awsui_vertical_18582_66aol_196\",\n  \"child-vertical-xxxs\": \"awsui_child-vertical-xxxs_18582_66aol_200\",\n  \"child-vertical-xxs\": \"awsui_child-vertical-xxs_18582_66aol_204\",\n  \"child-vertical-xs\": \"awsui_child-vertical-xs_18582_66aol_208\",\n  \"child-vertical-s\": \"awsui_child-vertical-s_18582_66aol_212\",\n  \"child-vertical-m\": \"awsui_child-vertical-m_18582_66aol_216\",\n  \"child-vertical-l\": \"awsui_child-vertical-l_18582_66aol_220\",\n  \"child-vertical-xl\": \"awsui_child-vertical-xl_18582_66aol_224\",\n  \"child-vertical-xxl\": \"awsui_child-vertical-xxl_18582_66aol_228\"\n};\n\nvar reactKeyedFlattenChildren = createCommonjsModule(function (module, exports) {\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/* Returns React children into an array, flattening fragments. */\n\n\nfunction flattenChildren(children, depth, keys) {\n    if (depth === void 0) { depth = 0; }\n    if (keys === void 0) { keys = []; }\n    return react.Children.toArray(children).reduce(function (acc, node, nodeIndex) {\n        if (reactIs.isFragment(node)) {\n            acc.push.apply(acc, flattenChildren(node.props.children, depth + 1, keys.concat(node.key || nodeIndex)));\n        }\n        else {\n            if (react.isValidElement(node)) {\n                acc.push(react.cloneElement(node, {\n                    key: keys.concat(String(node.key)).join('.')\n                }));\n            }\n            else if (typeof node === \"string\" || typeof node === \"number\") {\n                acc.push(node);\n            }\n        }\n        return acc;\n    }, []);\n}\nexports.default = flattenChildren;\n});\n\nconst flattenChildren = /*@__PURE__*/getDefaultExportFromCjs(reactKeyedFlattenChildren);\n\nfunction InternalSpaceBetween(_a) {\n    var _b = _a.direction, direction = _b === void 0 ? 'vertical' : _b, size = _a.size, children = _a.children, __internalRootRef = _a.__internalRootRef, props = __rest(_a, [\"direction\", \"size\", \"children\", \"__internalRootRef\"]);\n    var baseProps = getBaseProps(props);\n    /*\n     Flattening the children allows us to \"see through\" React Fragments and nested arrays.\n     */\n    var flattenedChildren = flattenChildren(children);\n    return (react.createElement(\"div\", __assign({}, baseProps, { className: clsx(baseProps.className, styles$e.root, styles$e[direction], styles$e[\"\".concat(direction, \"-\").concat(size)]), ref: __internalRootRef }), flattenedChildren.map(function (child) {\n        // If this react child is a primitive value, the key will be undefined\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        var key = child.key;\n        return (react.createElement(\"div\", { key: key, className: clsx(styles$e.child, styles$e[\"child-\".concat(direction, \"-\").concat(size)]) }, child));\n    })));\n}\n\nvar ARROW_OFFSET = 12;\nvar PRIORITY_MAPPING = {\n    top: [\n        'top-center',\n        'bottom-center',\n        'right-top',\n        'right-bottom',\n        'left-top',\n        'left-bottom',\n        'top-right',\n        'top-left',\n        'bottom-right',\n        'bottom-left',\n    ],\n    bottom: [\n        'bottom-center',\n        'top-center',\n        'right-top',\n        'right-bottom',\n        'left-top',\n        'left-bottom',\n        'bottom-right',\n        'bottom-left',\n        'top-right',\n        'top-left',\n    ],\n    left: [\n        'left-top',\n        'left-bottom',\n        'right-top',\n        'right-bottom',\n        'bottom-center',\n        'top-center',\n        'bottom-left',\n        'top-left',\n        'bottom-right',\n        'top-right',\n    ],\n    right: [\n        'right-top',\n        'right-bottom',\n        'left-top',\n        'left-bottom',\n        'bottom-center',\n        'top-center',\n        'bottom-right',\n        'top-right',\n        'bottom-left',\n        'top-left',\n    ]\n};\nvar RECTANGLE_CALCULATIONS = {\n    'top-center': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top - body.height - arrow.height,\n            left: trigger.left + trigger.width / 2 - body.width / 2,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'top-right': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top - body.height - arrow.height,\n            left: trigger.left,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'top-left': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top - body.height - arrow.height,\n            left: trigger.left + trigger.width - body.width,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'bottom-center': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height + arrow.height,\n            left: trigger.left + trigger.width / 2 - body.width / 2,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'bottom-right': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height + arrow.height,\n            left: trigger.left,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'bottom-left': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height + arrow.height,\n            left: trigger.left + trigger.width - body.width,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'right-top': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n            left: trigger.left + trigger.width + arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'right-bottom': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n            left: trigger.left + trigger.width + arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'left-top': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - ARROW_OFFSET - arrow.height,\n            left: trigger.left - body.width - arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    },\n    'left-bottom': function (_a) {\n        var body = _a.body, trigger = _a.trigger, arrow = _a.arrow;\n        return {\n            top: trigger.top + trigger.height / 2 - body.height + ARROW_OFFSET + arrow.height,\n            left: trigger.left - body.width - arrow.height,\n            width: body.width,\n            height: body.height\n        };\n    }\n};\n/**\n * Returns whether one rectangle fits in another.\n */\nfunction canRectFit(inner, outer) {\n    return (inner.left >= outer.left &&\n        inner.top >= outer.top &&\n        inner.left + inner.width <= outer.left + outer.width &&\n        inner.top + inner.height <= outer.top + outer.height);\n}\n/**\n * Returns the area of the intersection of passed in rectangles or a null, if there is no intersection\n */\nfunction intersectRectangles(rectangles) {\n    var boundingOffset = null;\n    for (var _i = 0, rectangles_1 = rectangles; _i < rectangles_1.length; _i++) {\n        var currentRect = rectangles_1[_i];\n        if (!boundingOffset) {\n            boundingOffset = currentRect;\n            continue;\n        }\n        var left = Math.max(boundingOffset.left, currentRect.left);\n        var top_1 = Math.max(boundingOffset.top, currentRect.top);\n        var right = Math.min(boundingOffset.left + boundingOffset.width, currentRect.left + currentRect.width);\n        var bottom = Math.min(boundingOffset.top + boundingOffset.height, currentRect.top + currentRect.height);\n        if (right < left || bottom < top_1) {\n            return null;\n        }\n        boundingOffset = {\n            left: left,\n            top: top_1,\n            width: right - left,\n            height: bottom - top_1\n        };\n    }\n    return boundingOffset && boundingOffset.height * boundingOffset.width;\n}\n/**\n * A functions that returns the correct popover position based on screen dimensions.\n */\nfunction calculatePosition$1(preferred, trigger, arrow, body, container, viewport, \n// the popover is only bound by the viewport if it is rendered in a portal\nrenderWithPortal) {\n    var bestPositionOutsideViewport = null;\n    var largestArea = 0;\n    // Attempt to position the popover based on the priority list for this position,\n    // trying to fit it inside the container and inside the viewport.\n    for (var _i = 0, _a = PRIORITY_MAPPING[preferred]; _i < _a.length; _i++) {\n        var internalPosition = _a[_i];\n        var boundingOffset = RECTANGLE_CALCULATIONS[internalPosition]({ body: body, trigger: trigger, arrow: arrow });\n        var fitsInContainer = renderWithPortal || canRectFit(boundingOffset, container);\n        var fitsInViewport = canRectFit(boundingOffset, viewport);\n        if (fitsInContainer && fitsInViewport) {\n            return { internalPosition: internalPosition, boundingOffset: boundingOffset };\n        }\n        var boundingRectangles = [boundingOffset, viewport];\n        if (!renderWithPortal) {\n            boundingRectangles.push(container);\n        }\n        var availableArea = intersectRectangles(boundingRectangles);\n        if (availableArea && availableArea > largestArea) {\n            bestPositionOutsideViewport = { internalPosition: internalPosition, boundingOffset: boundingOffset };\n            largestArea = availableArea;\n        }\n    }\n    // Position it in the best position outside the viewport. The user will need to scroll to view\n    // the contents, but at least it's accessible once they do.\n    if (bestPositionOutsideViewport !== null) {\n        return bestPositionOutsideViewport;\n    }\n    // Resort to right-top\n    return {\n        internalPosition: 'right-top',\n        boundingOffset: RECTANGLE_CALCULATIONS['right-top']({ body: body, trigger: trigger, arrow: arrow })\n    };\n}\n\nconst styles$d = {\n  \"arrow\": \"awsui_arrow_xjuzf_777hs_185\",\n  \"arrow-outer\": \"awsui_arrow-outer_xjuzf_777hs_189\",\n  \"arrow-inner\": \"awsui_arrow-inner_xjuzf_777hs_189\",\n  \"arrow-position-right-top\": \"awsui_arrow-position-right-top_xjuzf_777hs_220\",\n  \"arrow-position-right-bottom\": \"awsui_arrow-position-right-bottom_xjuzf_777hs_220\",\n  \"arrow-position-left-top\": \"awsui_arrow-position-left-top_xjuzf_777hs_223\",\n  \"arrow-position-left-bottom\": \"awsui_arrow-position-left-bottom_xjuzf_777hs_223\",\n  \"arrow-position-top-center\": \"awsui_arrow-position-top-center_xjuzf_777hs_226\",\n  \"arrow-position-top-right\": \"awsui_arrow-position-top-right_xjuzf_777hs_226\",\n  \"arrow-position-top-left\": \"awsui_arrow-position-top-left_xjuzf_777hs_226\",\n  \"arrow-position-top-responsive\": \"awsui_arrow-position-top-responsive_xjuzf_777hs_226\",\n  \"arrow-position-bottom-center\": \"awsui_arrow-position-bottom-center_xjuzf_777hs_229\",\n  \"arrow-position-bottom-right\": \"awsui_arrow-position-bottom-right_xjuzf_777hs_229\",\n  \"arrow-position-bottom-left\": \"awsui_arrow-position-bottom-left_xjuzf_777hs_229\",\n  \"arrow-position-bottom-responsive\": \"awsui_arrow-position-bottom-responsive_xjuzf_777hs_229\",\n  \"body\": \"awsui_body_xjuzf_777hs_325\",\n  \"body-overflow-visible\": \"awsui_body-overflow-visible_xjuzf_777hs_344\",\n  \"variant-annotation\": \"awsui_variant-annotation_xjuzf_777hs_348\",\n  \"body-size-small\": \"awsui_body-size-small_xjuzf_777hs_353\",\n  \"fixed-width\": \"awsui_fixed-width_xjuzf_777hs_356\",\n  \"body-size-medium\": \"awsui_body-size-medium_xjuzf_777hs_360\",\n  \"body-size-large\": \"awsui_body-size-large_xjuzf_777hs_367\",\n  \"has-dismiss\": \"awsui_has-dismiss_xjuzf_777hs_379\",\n  \"dismiss\": \"awsui_dismiss_xjuzf_777hs_384\",\n  \"dismiss-control\": \"awsui_dismiss-control_xjuzf_777hs_391\",\n  \"header-row\": \"awsui_header-row_xjuzf_777hs_395\",\n  \"header\": \"awsui_header_xjuzf_777hs_395\",\n  \"content\": \"awsui_content_xjuzf_777hs_417\",\n  \"content-overflow-visible\": \"awsui_content-overflow-visible_xjuzf_777hs_424\",\n  \"container\": \"awsui_container_xjuzf_777hs_436\",\n  \"container-arrow\": \"awsui_container-arrow_xjuzf_777hs_444\",\n  \"container-arrow-position-right-top\": \"awsui_container-arrow-position-right-top_xjuzf_777hs_448\",\n  \"container-arrow-position-right-bottom\": \"awsui_container-arrow-position-right-bottom_xjuzf_777hs_448\",\n  \"container-arrow-position-left-top\": \"awsui_container-arrow-position-left-top_xjuzf_777hs_460\",\n  \"container-arrow-position-left-bottom\": \"awsui_container-arrow-position-left-bottom_xjuzf_777hs_460\",\n  \"container-arrow-position-top-center\": \"awsui_container-arrow-position-top-center_xjuzf_777hs_472\",\n  \"container-arrow-position-top-right\": \"awsui_container-arrow-position-top-right_xjuzf_777hs_472\",\n  \"container-arrow-position-top-left\": \"awsui_container-arrow-position-top-left_xjuzf_777hs_472\",\n  \"container-arrow-position-top-responsive\": \"awsui_container-arrow-position-top-responsive_xjuzf_777hs_472\",\n  \"container-arrow-position-bottom-center\": \"awsui_container-arrow-position-bottom-center_xjuzf_777hs_488\",\n  \"container-arrow-position-bottom-right\": \"awsui_container-arrow-position-bottom-right_xjuzf_777hs_492\",\n  \"container-arrow-position-bottom-left\": \"awsui_container-arrow-position-bottom-left_xjuzf_777hs_496\",\n  \"awsui-motion-fade-in\": \"awsui_awsui-motion-fade-in_xjuzf_777hs_1\",\n  \"refresh\": \"awsui_refresh_xjuzf_777hs_614\",\n  \"root\": \"awsui_root_xjuzf_777hs_636\",\n  \"trigger\": \"awsui_trigger_xjuzf_777hs_648\",\n  \"trigger-type-text\": \"awsui_trigger-type-text_xjuzf_777hs_655\",\n  \"trigger-inner-text\": \"awsui_trigger-inner-text_xjuzf_777hs_684\"\n};\n\nvar INITIAL_STYLES = { position: 'absolute', top: -9999, left: -9999 };\nfunction PopoverContainer(_a) {\n    var position = _a.position, trackRef = _a.trackRef, trackKey = _a.trackKey, arrow = _a.arrow, children = _a.children, zIndex = _a.zIndex, renderWithPortal = _a.renderWithPortal;\n    var _b = useContainerQuery(function (rect, prev) {\n        var roundedRect = { width: Math.round(rect.width), height: Math.round(rect.height) };\n        return (prev === null || prev === void 0 ? void 0 : prev.width) === roundedRect.width && (prev === null || prev === void 0 ? void 0 : prev.height) === roundedRect.height ? prev : rect;\n    }), popoverRect = _b[0], ref = _b[1];\n    var bodyRef = react.useRef(null);\n    var arrowRef = react.useRef(null);\n    var _c = react.useState(INITIAL_STYLES), inlineStyle = _c[0], setInlineStyle = _c[1];\n    var _d = react.useState(null), internalPosition = _d[0], setInternalPosition = _d[1];\n    var isRefresh = useVisualRefresh();\n    // Store the handler in a ref so that it can still be replaced from outside of the listener closure.\n    var positionHandlerRef = react.useRef(function () { });\n    // Updates the position handler.\n    var updatePositionHandler = react.useCallback(function () {\n        if (!trackRef.current || !ref.current || !bodyRef.current || !arrowRef.current) {\n            return;\n        }\n        // Get important elements\n        var body = bodyRef.current;\n        var arrow = arrowRef.current;\n        var document = ref.current.ownerDocument;\n        var track = trackRef.current;\n        // If the popover body isn't being rendered for whatever reason (e.g. \"display: none\" or JSDOM),\n        // or track does not belong to the document - bail on calculating dimensions.\n        if (body.offsetWidth === 0 || body.offsetHeight === 0 || !nodeContains(document.body, track)) {\n            return;\n        }\n        // Imperatively move body off-screen to give it room to expand.\n        // Not doing this in React because this recalculation should happen\n        // in the span of a single frame without rerendering anything.\n        var prevTop = body.style.top;\n        var prevLeft = body.style.left;\n        body.style.top = '0';\n        body.style.left = '0';\n        // Get rects representing key elements\n        // Use getComputedStyle for arrowRect to avoid modifications made by transform\n        var viewportRect = getViewportRect(document.defaultView);\n        var trackRect = track.getBoundingClientRect();\n        var arrowRect = {\n            width: parseFloat(getComputedStyle(arrow).width),\n            height: parseFloat(getComputedStyle(arrow).height)\n        };\n        var containingBlock = getContainingBlock(body);\n        var containingBlockRect = containingBlock ? containingBlock.getBoundingClientRect() : viewportRect;\n        // Round up dimensions (IE11 doesn't handle subpixels too accurately)\n        var bodyRect = body.getBoundingClientRect();\n        var bodyRectCeil = {\n            top: bodyRect.top,\n            left: bodyRect.left,\n            width: Math.ceil(bodyRect.width),\n            height: Math.ceil(bodyRect.height)\n        };\n        // Calculate the arrow direction and viewport-relative position of the popover.\n        var _a = calculatePosition$1(position, trackRect, arrowRect, bodyRectCeil, containingBlock ? containingBlockRect : getDocumentRect(document), viewportRect, renderWithPortal), newInternalPosition = _a.internalPosition, boundingOffset = _a.boundingOffset;\n        // Get the position of the popover relative to the offset parent.\n        var popoverOffset = toRelativePosition(boundingOffset, containingBlockRect);\n        // Cache the distance between the trigger and the popover (which stays the same as you scroll),\n        // and use that to recalculate the new popover position.\n        var trackRelativeOffset = toRelativePosition(popoverOffset, toRelativePosition(trackRect, containingBlockRect));\n        // Bring back the container to its original position to prevent any\n        // flashing.\n        body.style.top = prevTop;\n        body.style.left = prevLeft;\n        // Position the popover\n        setInternalPosition(newInternalPosition);\n        setInlineStyle({ top: popoverOffset.top, left: popoverOffset.left });\n        positionHandlerRef.current = function () {\n            var newTrackOffset = toRelativePosition(track.getBoundingClientRect(), containingBlock ? containingBlock.getBoundingClientRect() : viewportRect);\n            setInlineStyle({\n                top: newTrackOffset.top + trackRelativeOffset.top,\n                left: newTrackOffset.left + trackRelativeOffset.left\n            });\n        };\n    }, [position, trackRef, ref, renderWithPortal]);\n    // Update the handler when properties change.\n    react.useLayoutEffect(function () {\n        updatePositionHandler();\n    }, [updatePositionHandler, trackKey, popoverRect]);\n    // Attach document listeners.\n    react.useLayoutEffect(function () {\n        /*\n          This is a heuristic. Some layout changes are caused by user clicks (e.g. toggling the tools panel, submitting a form),\n          and by tracking the click event we can adapt the popover's position to the new layout.\n    \n          TODO: extend this to Enter and Spacebar?\n        */\n        var updatePosition = function () { return requestAnimationFrame(function () { return updatePositionHandler(); }); };\n        var refreshPosition = function () { return requestAnimationFrame(function () { return positionHandlerRef.current(); }); };\n        window.addEventListener('click', updatePosition);\n        window.addEventListener('resize', updatePosition);\n        window.addEventListener('scroll', refreshPosition, true);\n        return function () {\n            window.removeEventListener('click', updatePosition);\n            window.removeEventListener('resize', updatePosition);\n            window.removeEventListener('scroll', refreshPosition, true);\n        };\n    }, [updatePositionHandler]);\n    var mergedRef = useMergeRefs$1(bodyRef, ref);\n    return (react.createElement(\"div\", { ref: mergedRef, style: __assign(__assign({}, inlineStyle), { zIndex: zIndex }), className: clsx(styles$d.container, isRefresh && styles$d.refresh) },\n        react.createElement(\"div\", { ref: arrowRef, className: clsx(styles$d[\"container-arrow\"], styles$d[\"container-arrow-position-\".concat(internalPosition)]), \"aria-hidden\": true }, arrow(internalPosition)),\n        children));\n}\n/**\n * Convert a viewport-relative offset to an element-relative offset.\n */\nfunction toRelativePosition(element, parent) {\n    return {\n        top: element.top - parent.top,\n        left: element.left - parent.left\n    };\n}\n/**\n * Get a BoundingOffset that represents the visible viewport.\n */\nfunction getViewportRect(window) {\n    return {\n        top: 0,\n        left: 0,\n        width: window.innerWidth,\n        height: window.innerHeight\n    };\n}\nfunction getDocumentRect(document) {\n    var _a = document.documentElement.getBoundingClientRect(), top = _a.top, left = _a.left;\n    return {\n        top: top,\n        left: left,\n        width: document.documentElement.scrollWidth,\n        height: document.documentElement.scrollHeight\n    };\n}\n\nfunction _objectWithoutPropertiesLoose$1(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\n\nfunction _extends$1() {\n  _extends$1 = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends$1.apply(this, arguments);\n}\n\nvar FOCUS_GROUP = 'data-focus-lock';\nvar FOCUS_DISABLED = 'data-focus-lock-disabled';\nvar FOCUS_ALLOW = 'data-no-focus-lock';\nvar FOCUS_AUTO = 'data-autofocus-inside';\n\n/**\n * Assigns a value for a given ref, no matter of the ref format\n * @param {RefObject} ref - a callback function or ref object\n * @param value - a new value\n *\n * @see https://github.com/theKashey/use-callback-ref#assignref\n * @example\n * const refObject = useRef();\n * const refFn = (ref) => {....}\n *\n * assignRef(refObject, \"refValue\");\n * assignRef(refFn, \"refValue\");\n */\nfunction assignRef(ref, value) {\n    if (typeof ref === 'function') {\n        ref(value);\n    }\n    else if (ref) {\n        ref.current = value;\n    }\n    return ref;\n}\n\n/**\n * creates a MutableRef with ref change callback\n * @param initialValue - initial ref value\n * @param {Function} callback - a callback to run when value changes\n *\n * @example\n * const ref = useCallbackRef(0, (newValue, oldValue) => console.log(oldValue, '->', newValue);\n * ref.current = 1;\n * // prints 0 -> 1\n *\n * @see https://reactjs.org/docs/hooks-reference.html#useref\n * @see https://github.com/theKashey/use-callback-ref#usecallbackref---to-replace-reactuseref\n * @returns {MutableRefObject}\n */\nfunction useCallbackRef(initialValue, callback) {\n    var ref = react.useState(function () { return ({\n        // value\n        value: initialValue,\n        // last callback\n        callback: callback,\n        // \"memoized\" public interface\n        facade: {\n            get current() {\n                return ref.value;\n            },\n            set current(value) {\n                var last = ref.value;\n                if (last !== value) {\n                    ref.value = value;\n                    ref.callback(value, last);\n                }\n            },\n        },\n    }); })[0];\n    // update callback\n    ref.callback = callback;\n    return ref.facade;\n}\n\n/**\n * Merges two or more refs together providing a single interface to set their value\n * @param {RefObject|Ref} refs\n * @returns {MutableRefObject} - a new ref, which translates all changes to {refs}\n *\n * @see {@link mergeRefs} a version without buit-in memoization\n * @see https://github.com/theKashey/use-callback-ref#usemergerefs\n * @example\n * const Component = React.forwardRef((props, ref) => {\n *   const ownRef = useRef();\n *   const domRef = useMergeRefs([ref, ownRef]); // 👈 merge together\n *   return <div ref={domRef}>...</div>\n * }\n */\nfunction useMergeRefs(refs, defaultValue) {\n    return useCallbackRef(defaultValue || null, function (newValue) { return refs.forEach(function (ref) { return assignRef(ref, newValue); }); });\n}\n\nvar hiddenGuard = {\n  width: '1px',\n  height: '0px',\n  padding: 0,\n  overflow: 'hidden',\n  position: 'fixed',\n  top: '1px',\n  left: '1px'\n};\n\nfunction ItoI(a) {\n    return a;\n}\nfunction innerCreateMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    var buffer = [];\n    var assigned = false;\n    var medium = {\n        read: function () {\n            if (assigned) {\n                throw new Error('Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.');\n            }\n            if (buffer.length) {\n                return buffer[buffer.length - 1];\n            }\n            return defaults;\n        },\n        useMedium: function (data) {\n            var item = middleware(data, assigned);\n            buffer.push(item);\n            return function () {\n                buffer = buffer.filter(function (x) { return x !== item; });\n            };\n        },\n        assignSyncMedium: function (cb) {\n            assigned = true;\n            while (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n            }\n            buffer = {\n                push: function (x) { return cb(x); },\n                filter: function () { return buffer; },\n            };\n        },\n        assignMedium: function (cb) {\n            assigned = true;\n            var pendingQueue = [];\n            if (buffer.length) {\n                var cbs = buffer;\n                buffer = [];\n                cbs.forEach(cb);\n                pendingQueue = buffer;\n            }\n            var executeQueue = function () {\n                var cbs = pendingQueue;\n                pendingQueue = [];\n                cbs.forEach(cb);\n            };\n            var cycle = function () { return Promise.resolve().then(executeQueue); };\n            cycle();\n            buffer = {\n                push: function (x) {\n                    pendingQueue.push(x);\n                    cycle();\n                },\n                filter: function (filter) {\n                    pendingQueue = pendingQueue.filter(filter);\n                    return buffer;\n                },\n            };\n        },\n    };\n    return medium;\n}\nfunction createMedium(defaults, middleware) {\n    if (middleware === void 0) { middleware = ItoI; }\n    return innerCreateMedium(defaults, middleware);\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction createSidecarMedium(options) {\n    if (options === void 0) { options = {}; }\n    var medium = innerCreateMedium(null);\n    medium.options = __assign({ async: true, ssr: false }, options);\n    return medium;\n}\n\nvar mediumFocus = createMedium({}, function (_ref) {\n  var target = _ref.target,\n      currentTarget = _ref.currentTarget;\n  return {\n    target: target,\n    currentTarget: currentTarget\n  };\n});\nvar mediumBlur = createMedium();\nvar mediumEffect = createMedium();\nvar mediumSidecar = createSidecarMedium({\n  async: true\n});\n\nvar emptyArray = [];\nvar FocusLock = /*#__PURE__*/react.forwardRef(function FocusLockUI(props, parentRef) {\n  var _extends2;\n\n  var _React$useState = react.useState(),\n      realObserved = _React$useState[0],\n      setObserved = _React$useState[1];\n\n  var observed = react.useRef();\n  var isActive = react.useRef(false);\n  var originalFocusedElement = react.useRef(null);\n  var children = props.children,\n      disabled = props.disabled,\n      noFocusGuards = props.noFocusGuards,\n      persistentFocus = props.persistentFocus,\n      crossFrame = props.crossFrame,\n      autoFocus = props.autoFocus,\n      group = props.group,\n      className = props.className,\n      whiteList = props.whiteList,\n      hasPositiveIndices = props.hasPositiveIndices,\n      _props$shards = props.shards,\n      shards = _props$shards === void 0 ? emptyArray : _props$shards,\n      _props$as = props.as,\n      Container = _props$as === void 0 ? 'div' : _props$as,\n      _props$lockProps = props.lockProps,\n      containerProps = _props$lockProps === void 0 ? {} : _props$lockProps,\n      SideCar = props.sideCar,\n      shouldReturnFocus = props.returnFocus,\n      focusOptions = props.focusOptions,\n      onActivationCallback = props.onActivation,\n      onDeactivationCallback = props.onDeactivation;\n\n  var _React$useState2 = react.useState({}),\n      id = _React$useState2[0]; // SIDE EFFECT CALLBACKS\n\n\n  var onActivation = react.useCallback(function () {\n    originalFocusedElement.current = originalFocusedElement.current || document && document.activeElement;\n\n    if (observed.current && onActivationCallback) {\n      onActivationCallback(observed.current);\n    }\n\n    isActive.current = true;\n  }, [onActivationCallback]);\n  var onDeactivation = react.useCallback(function () {\n    isActive.current = false;\n\n    if (onDeactivationCallback) {\n      onDeactivationCallback(observed.current);\n    }\n  }, [onDeactivationCallback]);\n  react.useEffect(function () {\n    if (!disabled) {\n      // cleanup return focus on trap deactivation\n      // sideEffect/returnFocus should happen by this time\n      originalFocusedElement.current = null;\n    }\n  }, []);\n  var returnFocus = react.useCallback(function (allowDefer) {\n    var returnFocusTo = originalFocusedElement.current;\n\n    if (returnFocusTo && returnFocusTo.focus) {\n      var howToReturnFocus = typeof shouldReturnFocus === 'function' ? shouldReturnFocus(returnFocusTo) : shouldReturnFocus;\n\n      if (howToReturnFocus) {\n        var returnFocusOptions = typeof howToReturnFocus === 'object' ? howToReturnFocus : undefined;\n        originalFocusedElement.current = null;\n\n        if (allowDefer) {\n          // React might return focus after update\n          // it's safer to defer the action\n          Promise.resolve().then(function () {\n            return returnFocusTo.focus(returnFocusOptions);\n          });\n        } else {\n          returnFocusTo.focus(returnFocusOptions);\n        }\n      }\n    }\n  }, [shouldReturnFocus]); // MEDIUM CALLBACKS\n\n  var onFocus = react.useCallback(function (event) {\n    if (isActive.current) {\n      mediumFocus.useMedium(event);\n    }\n  }, []);\n  var onBlur = mediumBlur.useMedium; // REF PROPAGATION\n  // not using real refs due to race conditions\n\n  var setObserveNode = react.useCallback(function (newObserved) {\n    if (observed.current !== newObserved) {\n      observed.current = newObserved;\n      setObserved(newObserved);\n    }\n  }, []);\n\n  var lockProps = _extends$1((_extends2 = {}, _extends2[FOCUS_DISABLED] = disabled && 'disabled', _extends2[FOCUS_GROUP] = group, _extends2), containerProps);\n\n  var hasLeadingGuards = noFocusGuards !== true;\n  var hasTailingGuards = hasLeadingGuards && noFocusGuards !== 'tail';\n  var mergedRef = useMergeRefs([parentRef, setObserveNode]);\n  return /*#__PURE__*/react.createElement(react.Fragment, null, hasLeadingGuards && [\n  /*#__PURE__*/\n  // nearest focus guard\n  react.createElement(\"div\", {\n    key: \"guard-first\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }), // first tabbed element guard\n  hasPositiveIndices ? /*#__PURE__*/react.createElement(\"div\", {\n    key: \"guard-nearest\",\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 1,\n    style: hiddenGuard\n  }) : null], !disabled && /*#__PURE__*/react.createElement(SideCar, {\n    id: id,\n    sideCar: mediumSidecar,\n    observed: realObserved,\n    disabled: disabled,\n    persistentFocus: persistentFocus,\n    crossFrame: crossFrame,\n    autoFocus: autoFocus,\n    whiteList: whiteList,\n    shards: shards,\n    onActivation: onActivation,\n    onDeactivation: onDeactivation,\n    returnFocus: returnFocus,\n    focusOptions: focusOptions\n  }), /*#__PURE__*/react.createElement(Container, _extends$1({\n    ref: mergedRef\n  }, lockProps, {\n    className: className,\n    onBlur: onBlur,\n    onFocus: onFocus\n  }), children), hasTailingGuards && /*#__PURE__*/react.createElement(\"div\", {\n    \"data-focus-guard\": true,\n    tabIndex: disabled ? -1 : 0,\n    style: hiddenGuard\n  }));\n});\nFocusLock.propTypes = {};\nFocusLock.defaultProps = {\n  children: undefined,\n  disabled: false,\n  returnFocus: false,\n  focusOptions: undefined,\n  noFocusGuards: false,\n  autoFocus: true,\n  persistentFocus: false,\n  crossFrame: true,\n  hasPositiveIndices: undefined,\n  allowTextSelection: undefined,\n  group: undefined,\n  className: undefined,\n  whiteList: undefined,\n  shards: undefined,\n  as: 'div',\n  lockProps: {},\n  onActivation: undefined,\n  onDeactivation: undefined\n};\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction withSideEffect(reducePropsToState, handleStateChangeOnClient) {\n\n  function getDisplayName(WrappedComponent) {\n    return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n  }\n\n  return function wrap(WrappedComponent) {\n\n    var mountedInstances = [];\n    var state;\n\n    function emitChange() {\n      state = reducePropsToState(mountedInstances.map(function (instance) {\n        return instance.props;\n      }));\n      handleStateChangeOnClient(state);\n    }\n\n    var SideEffect = /*#__PURE__*/function (_PureComponent) {\n      _inheritsLoose(SideEffect, _PureComponent);\n\n      function SideEffect() {\n        return _PureComponent.apply(this, arguments) || this;\n      }\n\n      // Try to use displayName of wrapped component\n      SideEffect.peek = function peek() {\n        return state;\n      };\n\n      var _proto = SideEffect.prototype;\n\n      _proto.componentDidMount = function componentDidMount() {\n        mountedInstances.push(this);\n        emitChange();\n      };\n\n      _proto.componentDidUpdate = function componentDidUpdate() {\n        emitChange();\n      };\n\n      _proto.componentWillUnmount = function componentWillUnmount() {\n        var index = mountedInstances.indexOf(this);\n        mountedInstances.splice(index, 1);\n        emitChange();\n      };\n\n      _proto.render = function render() {\n        return /*#__PURE__*/react.createElement(WrappedComponent, this.props);\n      };\n\n      return SideEffect;\n    }(react.PureComponent);\n\n    _defineProperty(SideEffect, \"displayName\", \"SideEffect(\" + getDisplayName(WrappedComponent) + \")\");\n\n    return SideEffect;\n  };\n}\n\nvar toArray = function (a) {\n    var ret = Array(a.length);\n    for (var i = 0; i < a.length; ++i) {\n        ret[i] = a[i];\n    }\n    return ret;\n};\nvar asArray = function (a) { return (Array.isArray(a) ? a : [a]); };\n\nvar filterNested = function (nodes) {\n    var contained = new Set();\n    var l = nodes.length;\n    for (var i = 0; i < l; i += 1) {\n        for (var j = i + 1; j < l; j += 1) {\n            var position = nodes[i].compareDocumentPosition(nodes[j]);\n            if ((position & Node.DOCUMENT_POSITION_CONTAINED_BY) > 0) {\n                contained.add(j);\n            }\n            if ((position & Node.DOCUMENT_POSITION_CONTAINS) > 0) {\n                contained.add(i);\n            }\n        }\n    }\n    return nodes.filter(function (_, index) { return !contained.has(index); });\n};\nvar getTopParent = function (node) {\n    return node.parentNode ? getTopParent(node.parentNode) : node;\n};\nvar getAllAffectedNodes = function (node) {\n    var nodes = asArray(node);\n    return nodes.filter(Boolean).reduce(function (acc, currentNode) {\n        var group = currentNode.getAttribute(FOCUS_GROUP);\n        acc.push.apply(acc, (group\n            ? filterNested(toArray(getTopParent(currentNode).querySelectorAll(\"[\".concat(FOCUS_GROUP, \"=\\\"\").concat(group, \"\\\"]:not([\").concat(FOCUS_DISABLED, \"=\\\"disabled\\\"])\"))))\n            : [currentNode]));\n        return acc;\n    }, []);\n};\n\nvar getActiveElement = function () {\n    return (document.activeElement\n        ? document.activeElement.shadowRoot\n            ? document.activeElement.shadowRoot.activeElement\n            : document.activeElement\n        : undefined);\n};\n\nvar focusInFrame = function (frame) { return frame === document.activeElement; };\nvar focusInsideIframe = function (topNode) {\n    return Boolean(toArray(topNode.querySelectorAll('iframe')).some(function (node) { return focusInFrame(node); }));\n};\nvar focusInside = function (topNode) {\n    var activeElement = document && getActiveElement();\n    if (!activeElement || (activeElement.dataset && activeElement.dataset.focusGuard)) {\n        return false;\n    }\n    return getAllAffectedNodes(topNode).reduce(function (result, node) { return result || node.contains(activeElement) || focusInsideIframe(node); }, false);\n};\n\nvar focusIsHidden = function () {\n    var activeElement = document && getActiveElement();\n    if (!activeElement) {\n        return false;\n    }\n    return toArray(document.querySelectorAll(\"[\".concat(FOCUS_ALLOW, \"]\"))).some(function (node) { return node.contains(activeElement); });\n};\n\nvar isElementHidden = function (node) {\n    if (node.nodeType !== Node.ELEMENT_NODE) {\n        return false;\n    }\n    var computedStyle = window.getComputedStyle(node, null);\n    if (!computedStyle || !computedStyle.getPropertyValue) {\n        return false;\n    }\n    return (computedStyle.getPropertyValue('display') === 'none' || computedStyle.getPropertyValue('visibility') === 'hidden');\n};\nvar isVisibleUncached = function (node, checkParent) {\n    return !node ||\n        node === document ||\n        (node && node.nodeType === Node.DOCUMENT_NODE) ||\n        (!isElementHidden(node) &&\n            checkParent(node.parentNode && node.parentNode.nodeType === Node.DOCUMENT_FRAGMENT_NODE\n                ?\n                    node.parentNode.host\n                : node.parentNode));\n};\nvar isVisibleCached = function (visibilityCache, node) {\n    var cached = visibilityCache.get(node);\n    if (cached !== undefined) {\n        return cached;\n    }\n    var result = isVisibleUncached(node, isVisibleCached.bind(undefined, visibilityCache));\n    visibilityCache.set(node, result);\n    return result;\n};\nvar getDataset = function (node) {\n    return node.dataset;\n};\nvar isHTMLButtonElement = function (node) { return node.tagName === 'BUTTON'; };\nvar isHTMLInputElement = function (node) { return node.tagName === 'INPUT'; };\nvar isRadioElement = function (node) {\n    return isHTMLInputElement(node) && node.type === 'radio';\n};\nvar notHiddenInput = function (node) {\n    return !((isHTMLInputElement(node) || isHTMLButtonElement(node)) && (node.type === 'hidden' || node.disabled)) &&\n        !node.ariaDisabled;\n};\nvar isGuard = function (node) { var _a; return Boolean(node && ((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.focusGuard)); };\nvar isNotAGuard = function (node) { return !isGuard(node); };\nvar isDefined = function (x) { return Boolean(x); };\n\nvar findSelectedRadio = function (node, nodes) {\n    return nodes\n        .filter(isRadioElement)\n        .filter(function (el) { return el.name === node.name; })\n        .filter(function (el) { return el.checked; })[0] || node;\n};\nvar correctNode = function (node, nodes) {\n    if (isRadioElement(node) && node.name) {\n        return findSelectedRadio(node, nodes);\n    }\n    return node;\n};\nvar correctNodes = function (nodes) {\n    var resultSet = new Set();\n    nodes.forEach(function (node) { return resultSet.add(correctNode(node, nodes)); });\n    return nodes.filter(function (node) { return resultSet.has(node); });\n};\n\nvar pickFirstFocus = function (nodes) {\n    if (nodes[0] && nodes.length > 1) {\n        return correctNode(nodes[0], nodes);\n    }\n    return nodes[0];\n};\nvar pickFocusable = function (nodes, index) {\n    if (nodes.length > 1) {\n        return nodes.indexOf(correctNode(nodes[index], nodes));\n    }\n    return index;\n};\n\nvar NEW_FOCUS = 'NEW_FOCUS';\nvar newFocus = function (innerNodes, outerNodes, activeElement, lastNode) {\n    var cnt = innerNodes.length;\n    var firstFocus = innerNodes[0];\n    var lastFocus = innerNodes[cnt - 1];\n    var isOnGuard = isGuard(activeElement);\n    if (activeElement && innerNodes.indexOf(activeElement) >= 0) {\n        return undefined;\n    }\n    var activeIndex = activeElement !== undefined ? outerNodes.indexOf(activeElement) : -1;\n    var lastIndex = lastNode ? outerNodes.indexOf(lastNode) : activeIndex;\n    var lastNodeInside = lastNode ? innerNodes.indexOf(lastNode) : -1;\n    var indexDiff = activeIndex - lastIndex;\n    var firstNodeIndex = outerNodes.indexOf(firstFocus);\n    var lastNodeIndex = outerNodes.indexOf(lastFocus);\n    var correctedNodes = correctNodes(outerNodes);\n    var correctedIndex = activeElement !== undefined ? correctedNodes.indexOf(activeElement) : -1;\n    var correctedIndexDiff = correctedIndex - (lastNode ? correctedNodes.indexOf(lastNode) : activeIndex);\n    var returnFirstNode = pickFocusable(innerNodes, 0);\n    var returnLastNode = pickFocusable(innerNodes, cnt - 1);\n    if (activeIndex === -1 || lastNodeInside === -1) {\n        return NEW_FOCUS;\n    }\n    if (!indexDiff && lastNodeInside >= 0) {\n        return lastNodeInside;\n    }\n    if (activeIndex <= firstNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnLastNode;\n    }\n    if (activeIndex >= lastNodeIndex && isOnGuard && Math.abs(indexDiff) > 1) {\n        return returnFirstNode;\n    }\n    if (indexDiff && Math.abs(correctedIndexDiff) > 1) {\n        return lastNodeInside;\n    }\n    if (activeIndex <= firstNodeIndex) {\n        return returnLastNode;\n    }\n    if (activeIndex > lastNodeIndex) {\n        return returnFirstNode;\n    }\n    if (indexDiff) {\n        if (Math.abs(indexDiff) > 1) {\n            return lastNodeInside;\n        }\n        return (cnt + lastNodeInside + indexDiff) % cnt;\n    }\n    return undefined;\n};\n\nvar tabSort = function (a, b) {\n    var tabDiff = a.tabIndex - b.tabIndex;\n    var indexDiff = a.index - b.index;\n    if (tabDiff) {\n        if (!a.tabIndex) {\n            return 1;\n        }\n        if (!b.tabIndex) {\n            return -1;\n        }\n    }\n    return tabDiff || indexDiff;\n};\nvar orderByTabIndex = function (nodes, filterNegative, keepGuards) {\n    return toArray(nodes)\n        .map(function (node, index) { return ({\n        node: node,\n        index: index,\n        tabIndex: keepGuards && node.tabIndex === -1 ? ((node.dataset || {}).focusGuard ? 0 : -1) : node.tabIndex,\n    }); })\n        .filter(function (data) { return !filterNegative || data.tabIndex >= 0; })\n        .sort(tabSort);\n};\n\nvar tabbables$1 = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n];\n\nvar queryTabbables = tabbables$1.join(',');\nvar queryGuardTabbables = \"\".concat(queryTabbables, \", [data-focus-guard]\");\nvar getFocusables$1 = function (parents, withGuards) {\n    return parents.reduce(function (acc, parent) {\n        return acc.concat(toArray(parent.querySelectorAll(withGuards ? queryGuardTabbables : queryTabbables)), parent.parentNode\n            ? toArray(parent.parentNode.querySelectorAll(queryTabbables)).filter(function (node) { return node === parent; })\n            : []);\n    }, []);\n};\nvar getParentAutofocusables = function (parent) {\n    var parentFocus = parent.querySelectorAll(\"[\".concat(FOCUS_AUTO, \"]\"));\n    return toArray(parentFocus)\n        .map(function (node) { return getFocusables$1([node]); })\n        .reduce(function (acc, nodes) { return acc.concat(nodes); }, []);\n};\n\nvar filterFocusable = function (nodes, visibilityCache) {\n    return toArray(nodes)\n        .filter(function (node) { return isVisibleCached(visibilityCache, node); })\n        .filter(function (node) { return notHiddenInput(node); });\n};\nvar getTabbableNodes = function (topNodes, visibilityCache, withGuards) {\n    return orderByTabIndex(filterFocusable(getFocusables$1(topNodes, withGuards), visibilityCache), true, withGuards);\n};\nvar getAllTabbableNodes = function (topNodes, visibilityCache) {\n    return orderByTabIndex(filterFocusable(getFocusables$1(topNodes), visibilityCache), false);\n};\nvar parentAutofocusables = function (topNode, visibilityCache) {\n    return filterFocusable(getParentAutofocusables(topNode), visibilityCache);\n};\n\nvar getParents = function (node, parents) {\n    if (parents === void 0) { parents = []; }\n    parents.push(node);\n    if (node.parentNode) {\n        getParents(node.parentNode, parents);\n    }\n    return parents;\n};\nvar getCommonParent = function (nodeA, nodeB) {\n    var parentsA = getParents(nodeA);\n    var parentsB = getParents(nodeB);\n    for (var i = 0; i < parentsA.length; i += 1) {\n        var currentParent = parentsA[i];\n        if (parentsB.indexOf(currentParent) >= 0) {\n            return currentParent;\n        }\n    }\n    return false;\n};\nvar getTopCommonParent = function (baseActiveElement, leftEntry, rightEntries) {\n    var activeElements = asArray(baseActiveElement);\n    var leftEntries = asArray(leftEntry);\n    var activeElement = activeElements[0];\n    var topCommon = false;\n    leftEntries.filter(Boolean).forEach(function (entry) {\n        topCommon = getCommonParent(topCommon || entry, entry) || topCommon;\n        rightEntries.filter(Boolean).forEach(function (subEntry) {\n            var common = getCommonParent(activeElement, subEntry);\n            if (common) {\n                if (!topCommon || common.contains(topCommon)) {\n                    topCommon = common;\n                }\n                else {\n                    topCommon = getCommonParent(common, topCommon);\n                }\n            }\n        });\n    });\n    return topCommon;\n};\nvar allParentAutofocusables = function (entries, visibilityCache) {\n    return entries.reduce(function (acc, node) { return acc.concat(parentAutofocusables(node, visibilityCache)); }, []);\n};\n\nvar findAutoFocused = function (autoFocusables) {\n    return function (node) { var _a; return node.autofocus || !!((_a = getDataset(node)) === null || _a === void 0 ? void 0 : _a.autofocus) || autoFocusables.indexOf(node) >= 0; };\n};\nvar reorderNodes = function (srcNodes, dstNodes) {\n    var remap = new Map();\n    dstNodes.forEach(function (entity) { return remap.set(entity.node, entity); });\n    return srcNodes.map(function (node) { return remap.get(node); }).filter(isDefined);\n};\nvar getFocusMerge = function (topNode, lastNode) {\n    var activeElement = document && getActiveElement();\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(activeElement || topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var anyFocusable = getAllTabbableNodes(entries, visibilityCache);\n    var innerElements = getTabbableNodes(entries, visibilityCache).filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    });\n    if (!innerElements[0]) {\n        innerElements = anyFocusable;\n        if (!innerElements[0]) {\n            return undefined;\n        }\n    }\n    var outerNodes = getAllTabbableNodes([commonParent], visibilityCache).map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var orderedInnerElements = reorderNodes(outerNodes, innerElements);\n    var innerNodes = orderedInnerElements.map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    var newId = newFocus(innerNodes, outerNodes, activeElement, lastNode);\n    if (newId === NEW_FOCUS) {\n        var autoFocusable = anyFocusable\n            .map(function (_a) {\n            var node = _a.node;\n            return node;\n        })\n            .filter(findAutoFocused(allParentAutofocusables(entries, visibilityCache)));\n        return {\n            node: autoFocusable && autoFocusable.length ? pickFirstFocus(autoFocusable) : pickFirstFocus(innerNodes),\n        };\n    }\n    if (newId === undefined) {\n        return newId;\n    }\n    return orderedInnerElements[newId];\n};\n\nvar getFocusabledIn = function (topNode) {\n    var entries = getAllAffectedNodes(topNode).filter(isNotAGuard);\n    var commonParent = getTopCommonParent(topNode, topNode, entries);\n    var visibilityCache = new Map();\n    var outerNodes = getTabbableNodes([commonParent], visibilityCache, true);\n    var innerElements = getTabbableNodes(entries, visibilityCache)\n        .filter(function (_a) {\n        var node = _a.node;\n        return isNotAGuard(node);\n    })\n        .map(function (_a) {\n        var node = _a.node;\n        return node;\n    });\n    return outerNodes.map(function (_a) {\n        var node = _a.node, index = _a.index;\n        return ({\n            node: node,\n            index: index,\n            lockItem: innerElements.indexOf(node) >= 0,\n            guard: isGuard(node),\n        });\n    });\n};\n\nvar focusOn = function (target, focusOptions) {\n    if ('focus' in target) {\n        target.focus(focusOptions);\n    }\n    if ('contentWindow' in target && target.contentWindow) {\n        target.contentWindow.focus();\n    }\n};\nvar guardCount = 0;\nvar lockDisabled = false;\nvar setFocus = function (topNode, lastNode, options) {\n    if (options === void 0) { options = {}; }\n    var focusable = getFocusMerge(topNode, lastNode);\n    if (lockDisabled) {\n        return;\n    }\n    if (focusable) {\n        if (guardCount > 2) {\n            console.error('FocusLock: focus-fighting detected. Only one focus management system could be active. ' +\n                'See https://github.com/theKashey/focus-lock/#focus-fighting');\n            lockDisabled = true;\n            setTimeout(function () {\n                lockDisabled = false;\n            }, 1);\n            return;\n        }\n        guardCount++;\n        focusOn(focusable.node, options.focusOptions);\n        guardCount--;\n    }\n};\n\nfunction deferAction(action) {\n  // Hidding setImmediate from Webpack to avoid inserting polyfill\n  var _window = window,\n      setImmediate = _window.setImmediate;\n\n  if (typeof setImmediate !== 'undefined') {\n    setImmediate(action);\n  } else {\n    setTimeout(action, 1);\n  }\n}\n\nvar focusOnBody = function focusOnBody() {\n  return document && document.activeElement === document.body;\n};\n\nvar isFreeFocus = function isFreeFocus() {\n  return focusOnBody() || focusIsHidden();\n};\n\nvar lastActiveTrap = null;\nvar lastActiveFocus = null;\nvar lastPortaledElement = null;\nvar focusWasOutsideWindow = false;\n\nvar defaultWhitelist = function defaultWhitelist() {\n  return true;\n};\n\nvar focusWhitelisted = function focusWhitelisted(activeElement) {\n  return (lastActiveTrap.whiteList || defaultWhitelist)(activeElement);\n};\n\nvar recordPortal = function recordPortal(observerNode, portaledElement) {\n  lastPortaledElement = {\n    observerNode: observerNode,\n    portaledElement: portaledElement\n  };\n};\n\nvar focusIsPortaledPair = function focusIsPortaledPair(element) {\n  return lastPortaledElement && lastPortaledElement.portaledElement === element;\n};\n\nfunction autoGuard(startIndex, end, step, allNodes) {\n  var lastGuard = null;\n  var i = startIndex;\n\n  do {\n    var item = allNodes[i];\n\n    if (item.guard) {\n      if (item.node.dataset.focusAutoGuard) {\n        lastGuard = item;\n      }\n    } else if (item.lockItem) {\n      if (i !== startIndex) {\n        // we will tab to the next element\n        return;\n      }\n\n      lastGuard = null;\n    } else {\n      break;\n    }\n  } while ((i += step) !== end);\n\n  if (lastGuard) {\n    lastGuard.node.tabIndex = 0;\n  }\n}\n\nvar extractRef = function extractRef(ref) {\n  return ref && 'current' in ref ? ref.current : ref;\n};\n\nvar focusWasOutside = function focusWasOutside(crossFrameOption) {\n  if (crossFrameOption) {\n    // with cross frame return true for any value\n    return Boolean(focusWasOutsideWindow);\n  } // in other case return only of focus went a while aho\n\n\n  return focusWasOutsideWindow === 'meanwhile';\n};\n\nvar checkInHost = function checkInHost(check, el, boundary) {\n  return el // find host equal to active element and check nested active element\n  && (el.host === check && (!el.activeElement || boundary.contains(el.activeElement)) // dive up\n  || el.parentNode && checkInHost(check, el.parentNode, boundary));\n};\n\nvar withinHost = function withinHost(activeElement, workingArea) {\n  return workingArea.some(function (area) {\n    return checkInHost(activeElement, area, area);\n  });\n};\n\nvar activateTrap = function activateTrap() {\n  var result = false;\n\n  if (lastActiveTrap) {\n    var _lastActiveTrap = lastActiveTrap,\n        observed = _lastActiveTrap.observed,\n        persistentFocus = _lastActiveTrap.persistentFocus,\n        autoFocus = _lastActiveTrap.autoFocus,\n        shards = _lastActiveTrap.shards,\n        crossFrame = _lastActiveTrap.crossFrame,\n        focusOptions = _lastActiveTrap.focusOptions;\n    var workingNode = observed || lastPortaledElement && lastPortaledElement.portaledElement;\n    var activeElement = document && document.activeElement;\n\n    if (workingNode) {\n      var workingArea = [workingNode].concat(shards.map(extractRef).filter(Boolean));\n\n      if (!activeElement || focusWhitelisted(activeElement)) {\n        if (persistentFocus || focusWasOutside(crossFrame) || !isFreeFocus() || !lastActiveFocus && autoFocus) {\n          if (workingNode && !( // active element is \"inside\" working area\n          focusInside(workingArea) || // check for shadow-dom contained elements\n          activeElement && withinHost(activeElement, workingArea) || focusIsPortaledPair(activeElement))) {\n            if (document && !lastActiveFocus && activeElement && !autoFocus) {\n              // Check if blur() exists, which is missing on certain elements on IE\n              if (activeElement.blur) {\n                activeElement.blur();\n              }\n\n              document.body.focus();\n            } else {\n              result = setFocus(workingArea, lastActiveFocus, {\n                focusOptions: focusOptions\n              });\n              lastPortaledElement = {};\n            }\n          }\n\n          focusWasOutsideWindow = false;\n          lastActiveFocus = document && document.activeElement;\n        }\n      }\n\n      if (document) {\n        var newActiveElement = document && document.activeElement;\n        var allNodes = getFocusabledIn(workingArea);\n        var focusedIndex = allNodes.map(function (_ref) {\n          var node = _ref.node;\n          return node;\n        }).indexOf(newActiveElement);\n\n        if (focusedIndex > -1) {\n          // remove old focus\n          allNodes.filter(function (_ref2) {\n            var guard = _ref2.guard,\n                node = _ref2.node;\n            return guard && node.dataset.focusAutoGuard;\n          }).forEach(function (_ref3) {\n            var node = _ref3.node;\n            return node.removeAttribute('tabIndex');\n          });\n          autoGuard(focusedIndex, allNodes.length, +1, allNodes);\n          autoGuard(focusedIndex, -1, -1, allNodes);\n        }\n      }\n    }\n  }\n\n  return result;\n};\n\nvar onTrap = function onTrap(event) {\n  if (activateTrap() && event) {\n    // prevent scroll jump\n    event.stopPropagation();\n    event.preventDefault();\n  }\n};\n\nvar onBlur = function onBlur() {\n  return deferAction(activateTrap);\n};\n\nvar onFocus = function onFocus(event) {\n  // detect portal\n  var source = event.target;\n  var currentNode = event.currentTarget;\n\n  if (!currentNode.contains(source)) {\n    recordPortal(currentNode, source);\n  }\n};\n\nvar FocusWatcher = function FocusWatcher() {\n  return null;\n};\n\nvar onWindowBlur = function onWindowBlur() {\n  focusWasOutsideWindow = 'just'; // using setTimeout to set  this variable after React/sidecar reaction\n\n  setTimeout(function () {\n    focusWasOutsideWindow = 'meanwhile';\n  }, 0);\n};\n\nvar attachHandler = function attachHandler() {\n  document.addEventListener('focusin', onTrap);\n  document.addEventListener('focusout', onBlur);\n  window.addEventListener('blur', onWindowBlur);\n};\n\nvar detachHandler = function detachHandler() {\n  document.removeEventListener('focusin', onTrap);\n  document.removeEventListener('focusout', onBlur);\n  window.removeEventListener('blur', onWindowBlur);\n};\n\nfunction reducePropsToState(propsList) {\n  return propsList.filter(function (_ref5) {\n    var disabled = _ref5.disabled;\n    return !disabled;\n  });\n}\n\nfunction handleStateChangeOnClient(traps) {\n  var trap = traps.slice(-1)[0];\n\n  if (trap && !lastActiveTrap) {\n    attachHandler();\n  }\n\n  var lastTrap = lastActiveTrap;\n  var sameTrap = lastTrap && trap && trap.id === lastTrap.id;\n  lastActiveTrap = trap;\n\n  if (lastTrap && !sameTrap) {\n    lastTrap.onDeactivation(); // return focus only of last trap was removed\n\n    if (!traps.filter(function (_ref6) {\n      var id = _ref6.id;\n      return id === lastTrap.id;\n    }).length) {\n      // allow defer is no other trap is awaiting restore\n      lastTrap.returnFocus(!trap);\n    }\n  }\n\n  if (trap) {\n    lastActiveFocus = null;\n\n    if (!sameTrap || lastTrap.observed !== trap.observed) {\n      trap.onActivation();\n    }\n\n    activateTrap();\n    deferAction(activateTrap);\n  } else {\n    detachHandler();\n    lastActiveFocus = null;\n  }\n} // bind medium\n\n\nmediumFocus.assignSyncMedium(onFocus);\nmediumBlur.assignMedium(onBlur);\nmediumEffect.assignMedium(function (cb) {\n  return cb({\n    moveFocusInside: setFocus,\n    focusInside: focusInside\n  });\n});\nconst FocusTrap = withSideEffect(reducePropsToState, handleStateChangeOnClient)(FocusWatcher);\n\n/* that would be a BREAKING CHANGE!\n// delaying sidecar execution till the first usage\nconst RequireSideCar = (props) => {\n  // eslint-disable-next-line global-require\n  const SideCar = require('./Trap').default;\n  return <SideCar {...props} />;\n};\n*/\n\nvar FocusLockCombination = /*#__PURE__*/react.forwardRef(function FocusLockUICombination(props, ref) {\n  return /*#__PURE__*/react.createElement(FocusLock, _extends$1({\n    sideCar: FocusTrap,\n    ref: ref\n  }, props));\n});\n\nvar _ref = FocusLock.propTypes || {};\n    _objectWithoutPropertiesLoose$1(_ref, [\"sideCar\"]);\n\nFocusLockCombination.propTypes = {};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nfunction PopoverBody(_a) {\n    var _b, _c;\n    var size = _a.size, fixedWidth = _a.fixedWidth, showDismissButton = _a.dismissButton, dismissAriaLabel = _a.dismissAriaLabel, header = _a.header, children = _a.children, onDismiss = _a.onDismiss, variant = _a.variant, _d = _a.returnFocus, returnFocus = _d === void 0 ? true : _d, overflowVisible = _a.overflowVisible, dismissButtonRef = _a.dismissButtonRef, className = _a.className;\n    var labelledById = useUniqueId('awsui-popover-');\n    var onKeyDown = react.useCallback(function (event) {\n        if (event.keyCode === KeyCode.escape) {\n            onDismiss();\n        }\n    }, [onDismiss]);\n    var dismissButton = (showDismissButton !== null && showDismissButton !== void 0 ? showDismissButton : null) && (react.createElement(\"div\", { className: styles$d.dismiss },\n        react.createElement(InternalButton, { variant: \"icon\", formAction: \"none\", iconName: \"close\", className: styles$d['dismiss-control'], ariaLabel: dismissAriaLabel, onClick: function () { return onDismiss(); }, ref: dismissButtonRef })));\n    return (react.createElement(\"div\", { className: clsx(styles$d.body, className, styles$d[\"body-size-\".concat(size)], (_b = {},\n            _b[styles$d['fixed-width']] = fixedWidth,\n            _b[styles$d[\"variant-\".concat(variant)]] = variant,\n            _b[styles$d['body-overflow-visible']] = overflowVisible === 'both',\n            _b)), role: header ? 'dialog' : undefined, onKeyDown: onKeyDown, \"aria-modal\": showDismissButton && variant !== 'annotation' ? true : undefined, \"aria-labelledby\": header ? labelledById : undefined },\n        react.createElement(FocusLockCombination, { disabled: variant === 'annotation' || !showDismissButton, autoFocus: true, returnFocus: returnFocus },\n            header && (react.createElement(\"div\", { className: clsx(styles$d['header-row'], showDismissButton && styles$d['has-dismiss']) },\n                dismissButton,\n                react.createElement(\"div\", { className: styles$d.header, id: labelledById },\n                    react.createElement(\"h2\", null, header)))),\n            react.createElement(\"div\", { className: !header && showDismissButton ? styles$d['has-dismiss'] : undefined },\n                !header && dismissButton,\n                react.createElement(\"div\", { className: clsx(styles$d.content, (_c = {}, _c[styles$d['content-overflow-visible']] = !!overflowVisible, _c)) }, children)))));\n}\n\nconst config = {\n  disabled: false\n};\n\nconst TransitionGroupContext = react.createContext(null);\n\nvar UNMOUNTED = 'unmounted';\nvar EXITED = 'exited';\nvar ENTERING = 'entering';\nvar ENTERED = 'entered';\nvar EXITING = 'exiting';\n/**\n * The Transition component lets you describe a transition from one component\n * state to another _over time_ with a simple declarative API. Most commonly\n * it's used to animate the mounting and unmounting of a component, but can also\n * be used to describe in-place transition states as well.\n *\n * ---\n *\n * **Note**: `Transition` is a platform-agnostic base component. If you're using\n * transitions in CSS, you'll probably want to use\n * [`CSSTransition`](https://reactcommunity.org/react-transition-group/css-transition)\n * instead. It inherits all the features of `Transition`, but contains\n * additional features necessary to play nice with CSS transitions (hence the\n * name of the component).\n *\n * ---\n *\n * By default the `Transition` component does not alter the behavior of the\n * component it renders, it only tracks \"enter\" and \"exit\" states for the\n * components. It's up to you to give meaning and effect to those states. For\n * example we can add styles to a component when it enters or exits:\n *\n * ```jsx\n * import { Transition } from 'react-transition-group';\n *\n * const duration = 300;\n *\n * const defaultStyle = {\n *   transition: `opacity ${duration}ms ease-in-out`,\n *   opacity: 0,\n * }\n *\n * const transitionStyles = {\n *   entering: { opacity: 1 },\n *   entered:  { opacity: 1 },\n *   exiting:  { opacity: 0 },\n *   exited:  { opacity: 0 },\n * };\n *\n * const Fade = ({ in: inProp }) => (\n *   <Transition in={inProp} timeout={duration}>\n *     {state => (\n *       <div style={{\n *         ...defaultStyle,\n *         ...transitionStyles[state]\n *       }}>\n *         I'm a fade Transition!\n *       </div>\n *     )}\n *   </Transition>\n * );\n * ```\n *\n * There are 4 main states a Transition can be in:\n *  - `'entering'`\n *  - `'entered'`\n *  - `'exiting'`\n *  - `'exited'`\n *\n * Transition state is toggled via the `in` prop. When `true` the component\n * begins the \"Enter\" stage. During this stage, the component will shift from\n * its current transition state, to `'entering'` for the duration of the\n * transition and then to the `'entered'` stage once it's complete. Let's take\n * the following example (we'll use the\n * [useState](https://reactjs.org/docs/hooks-reference.html#usestate) hook):\n *\n * ```jsx\n * function App() {\n *   const [inProp, setInProp] = useState(false);\n *   return (\n *     <div>\n *       <Transition in={inProp} timeout={500}>\n *         {state => (\n *           // ...\n *         )}\n *       </Transition>\n *       <button onClick={() => setInProp(true)}>\n *         Click to Enter\n *       </button>\n *     </div>\n *   );\n * }\n * ```\n *\n * When the button is clicked the component will shift to the `'entering'` state\n * and stay there for 500ms (the value of `timeout`) before it finally switches\n * to `'entered'`.\n *\n * When `in` is `false` the same thing happens except the state moves from\n * `'exiting'` to `'exited'`.\n */\n\nvar Transition$1 = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(Transition, _React$Component);\n\n  function Transition(props, context) {\n    var _this;\n\n    _this = _React$Component.call(this, props, context) || this;\n    var parentGroup = context; // In the context of a TransitionGroup all enters are really appears\n\n    var appear = parentGroup && !parentGroup.isMounting ? props.enter : props.appear;\n    var initialStatus;\n    _this.appearStatus = null;\n\n    if (props.in) {\n      if (appear) {\n        initialStatus = EXITED;\n        _this.appearStatus = ENTERING;\n      } else {\n        initialStatus = ENTERED;\n      }\n    } else {\n      if (props.unmountOnExit || props.mountOnEnter) {\n        initialStatus = UNMOUNTED;\n      } else {\n        initialStatus = EXITED;\n      }\n    }\n\n    _this.state = {\n      status: initialStatus\n    };\n    _this.nextCallback = null;\n    return _this;\n  }\n\n  Transition.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var nextIn = _ref.in;\n\n    if (nextIn && prevState.status === UNMOUNTED) {\n      return {\n        status: EXITED\n      };\n    }\n\n    return null;\n  } // getSnapshotBeforeUpdate(prevProps) {\n  //   let nextStatus = null\n  //   if (prevProps !== this.props) {\n  //     const { status } = this.state\n  //     if (this.props.in) {\n  //       if (status !== ENTERING && status !== ENTERED) {\n  //         nextStatus = ENTERING\n  //       }\n  //     } else {\n  //       if (status === ENTERING || status === ENTERED) {\n  //         nextStatus = EXITING\n  //       }\n  //     }\n  //   }\n  //   return { nextStatus }\n  // }\n  ;\n\n  var _proto = Transition.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    this.updateStatus(true, this.appearStatus);\n  };\n\n  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var nextStatus = null;\n\n    if (prevProps !== this.props) {\n      var status = this.state.status;\n\n      if (this.props.in) {\n        if (status !== ENTERING && status !== ENTERED) {\n          nextStatus = ENTERING;\n        }\n      } else {\n        if (status === ENTERING || status === ENTERED) {\n          nextStatus = EXITING;\n        }\n      }\n    }\n\n    this.updateStatus(false, nextStatus);\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    this.cancelNextCallback();\n  };\n\n  _proto.getTimeouts = function getTimeouts() {\n    var timeout = this.props.timeout;\n    var exit, enter, appear;\n    exit = enter = appear = timeout;\n\n    if (timeout != null && typeof timeout !== 'number') {\n      exit = timeout.exit;\n      enter = timeout.enter; // TODO: remove fallback for next major\n\n      appear = timeout.appear !== undefined ? timeout.appear : enter;\n    }\n\n    return {\n      exit: exit,\n      enter: enter,\n      appear: appear\n    };\n  };\n\n  _proto.updateStatus = function updateStatus(mounting, nextStatus) {\n    if (mounting === void 0) {\n      mounting = false;\n    }\n\n    if (nextStatus !== null) {\n      // nextStatus will always be ENTERING or EXITING.\n      this.cancelNextCallback();\n\n      if (nextStatus === ENTERING) {\n        if (this.props.unmountOnExit || this.props.mountOnEnter) {\n          this.props.nodeRef ? this.props.nodeRef.current : reactDom.findDOMNode(this); // https://github.com/reactjs/react-transition-group/pull/749\n        }\n\n        this.performEnter(mounting);\n      } else {\n        this.performExit();\n      }\n    } else if (this.props.unmountOnExit && this.state.status === EXITED) {\n      this.setState({\n        status: UNMOUNTED\n      });\n    }\n  };\n\n  _proto.performEnter = function performEnter(mounting) {\n    var _this2 = this;\n\n    var enter = this.props.enter;\n    var appearing = this.context ? this.context.isMounting : mounting;\n\n    var _ref2 = this.props.nodeRef ? [appearing] : [reactDom.findDOMNode(this), appearing],\n        maybeNode = _ref2[0],\n        maybeAppearing = _ref2[1];\n\n    var timeouts = this.getTimeouts();\n    var enterTimeout = appearing ? timeouts.appear : timeouts.enter; // no enter animation skip right to ENTERED\n    // if we are mounting and running this it means appear _must_ be set\n\n    if (!mounting && !enter || config.disabled) {\n      this.safeSetState({\n        status: ENTERED\n      }, function () {\n        _this2.props.onEntered(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onEnter(maybeNode, maybeAppearing);\n    this.safeSetState({\n      status: ENTERING\n    }, function () {\n      _this2.props.onEntering(maybeNode, maybeAppearing);\n\n      _this2.onTransitionEnd(enterTimeout, function () {\n        _this2.safeSetState({\n          status: ENTERED\n        }, function () {\n          _this2.props.onEntered(maybeNode, maybeAppearing);\n        });\n      });\n    });\n  };\n\n  _proto.performExit = function performExit() {\n    var _this3 = this;\n\n    var exit = this.props.exit;\n    var timeouts = this.getTimeouts();\n    var maybeNode = this.props.nodeRef ? undefined : reactDom.findDOMNode(this); // no exit animation skip right to EXITED\n\n    if (!exit || config.disabled) {\n      this.safeSetState({\n        status: EXITED\n      }, function () {\n        _this3.props.onExited(maybeNode);\n      });\n      return;\n    }\n\n    this.props.onExit(maybeNode);\n    this.safeSetState({\n      status: EXITING\n    }, function () {\n      _this3.props.onExiting(maybeNode);\n\n      _this3.onTransitionEnd(timeouts.exit, function () {\n        _this3.safeSetState({\n          status: EXITED\n        }, function () {\n          _this3.props.onExited(maybeNode);\n        });\n      });\n    });\n  };\n\n  _proto.cancelNextCallback = function cancelNextCallback() {\n    if (this.nextCallback !== null) {\n      this.nextCallback.cancel();\n      this.nextCallback = null;\n    }\n  };\n\n  _proto.safeSetState = function safeSetState(nextState, callback) {\n    // This shouldn't be necessary, but there are weird race conditions with\n    // setState callbacks and unmounting in testing, so always make sure that\n    // we can cancel any pending setState callbacks after we unmount.\n    callback = this.setNextCallback(callback);\n    this.setState(nextState, callback);\n  };\n\n  _proto.setNextCallback = function setNextCallback(callback) {\n    var _this4 = this;\n\n    var active = true;\n\n    this.nextCallback = function (event) {\n      if (active) {\n        active = false;\n        _this4.nextCallback = null;\n        callback(event);\n      }\n    };\n\n    this.nextCallback.cancel = function () {\n      active = false;\n    };\n\n    return this.nextCallback;\n  };\n\n  _proto.onTransitionEnd = function onTransitionEnd(timeout, handler) {\n    this.setNextCallback(handler);\n    var node = this.props.nodeRef ? this.props.nodeRef.current : reactDom.findDOMNode(this);\n    var doesNotHaveTimeoutOrListener = timeout == null && !this.props.addEndListener;\n\n    if (!node || doesNotHaveTimeoutOrListener) {\n      setTimeout(this.nextCallback, 0);\n      return;\n    }\n\n    if (this.props.addEndListener) {\n      var _ref3 = this.props.nodeRef ? [this.nextCallback] : [node, this.nextCallback],\n          maybeNode = _ref3[0],\n          maybeNextCallback = _ref3[1];\n\n      this.props.addEndListener(maybeNode, maybeNextCallback);\n    }\n\n    if (timeout != null) {\n      setTimeout(this.nextCallback, timeout);\n    }\n  };\n\n  _proto.render = function render() {\n    var status = this.state.status;\n\n    if (status === UNMOUNTED) {\n      return null;\n    }\n\n    var _this$props = this.props,\n        children = _this$props.children,\n        childProps = _objectWithoutPropertiesLoose$1(_this$props, [\"children\", \"in\", \"mountOnEnter\", \"unmountOnExit\", \"appear\", \"enter\", \"exit\", \"timeout\", \"addEndListener\", \"onEnter\", \"onEntering\", \"onEntered\", \"onExit\", \"onExiting\", \"onExited\", \"nodeRef\"]);\n\n    return (\n      /*#__PURE__*/\n      // allows for nested Transitions\n      react.createElement(TransitionGroupContext.Provider, {\n        value: null\n      }, typeof children === 'function' ? children(status, childProps) : react.cloneElement(react.Children.only(children), childProps))\n    );\n  };\n\n  return Transition;\n}(react.Component);\n\nTransition$1.contextType = TransitionGroupContext;\nTransition$1.propTypes = {}; // Name the function so it is clearer in the documentation\n\nfunction noop() {}\n\nTransition$1.defaultProps = {\n  in: false,\n  mountOnEnter: false,\n  unmountOnExit: false,\n  appear: false,\n  enter: true,\n  exit: true,\n  onEnter: noop,\n  onEntering: noop,\n  onEntered: noop,\n  onExit: noop,\n  onExiting: noop,\n  onExited: noop\n};\nTransition$1.UNMOUNTED = UNMOUNTED;\nTransition$1.EXITED = EXITED;\nTransition$1.ENTERING = ENTERING;\nTransition$1.ENTERED = ENTERED;\nTransition$1.EXITING = EXITING;\n\n/**\n * This component is a wrapper around the CSSTransition component.\n *\n * It provides a second parameter in its rendering function that must be\n * attached to the node that is transitioning.\n */\nfunction Transition(_a) {\n    var isIn = _a[\"in\"], children = _a.children, _b = _a.exit, exit = _b === void 0 ? true : _b, _c = _a.onStatusChange, onStatusChange = _c === void 0 ? function () { return void 0; } : _c, _d = _a.disabled, disabled = _d === void 0 ? false : _d, transitionChangeDelay = _a.transitionChangeDelay, rest = __rest(_a, [\"in\", \"children\", \"exit\", \"onStatusChange\", \"disabled\", \"transitionChangeDelay\"]);\n    var transitionRootElement = react.useRef(null);\n    // the initial state of the transition should be either 'exited' or 'entered' depending\n    // on the `in` property, this mimicks how internally the Transition component works here:\n    // https://github.com/reactjs/react-transition-group/blob/6cbd6aaedaf8e9472007640b429ddb48c6c24158/src/Transition.js#L121\n    var _e = react.useState(isIn ? 'entered' : 'exited'), transitionState = _e[0], setTransitionState = _e[1];\n    var motionDisabled = useReducedMotion(transitionRootElement) || disabled;\n    var addTransitionEndListener = react.useCallback(function (done) {\n        var node = transitionRootElement.current;\n        if (node === null) {\n            return;\n        }\n        var listener = function (e) {\n            if (e.target === node) {\n                node.removeEventListener('transitionend', listener);\n                node.removeEventListener('animationend', listener);\n                done();\n            }\n        };\n        node.addEventListener('transitionend', listener);\n        node.addEventListener('animationend', listener);\n    }, []);\n    return (react.createElement(Transition$1, __assign({ addEndListener: addTransitionEndListener, timeout: motionDisabled ? 0 : undefined, \"in\": isIn, nodeRef: transitionRootElement, exit: exit, onEnter: function (isAppearing) {\n            if (!isAppearing) {\n                setTransitionState('enter');\n                onStatusChange('enter');\n            }\n        }, onEntering: function (isAppearing) {\n            if (!isAppearing) {\n                if (transitionChangeDelay === null || transitionChangeDelay === void 0 ? void 0 : transitionChangeDelay.entering) {\n                    setTimeout(function () {\n                        setTransitionState('entering');\n                        onStatusChange('entering');\n                    }, transitionChangeDelay === null || transitionChangeDelay === void 0 ? void 0 : transitionChangeDelay.entering);\n                }\n                else {\n                    setTransitionState('entering');\n                    onStatusChange('entering');\n                }\n            }\n        }, onEntered: function (isAppearing) {\n            if (!isAppearing) {\n                setTransitionState('entered');\n                onStatusChange('entered');\n            }\n        }, onExit: function () {\n            setTransitionState('exit');\n            onStatusChange('exit');\n        }, onExiting: function () {\n            setTransitionState('exiting');\n            onStatusChange('exiting');\n        }, onExited: function () {\n            setTransitionState('exited');\n            onStatusChange('exited');\n        } }, rest), function () { return children(transitionState, transitionRootElement); }));\n}\n\nconst styles$c = {\n  \"link\": \"awsui_link_4c84z_lkeqe_93\",\n  \"variant-secondary\": \"awsui_variant-secondary_4c84z_lkeqe_138\",\n  \"variant-primary\": \"awsui_variant-primary_4c84z_lkeqe_173\",\n  \"variant-info\": \"awsui_variant-info_4c84z_lkeqe_208\",\n  \"variant-value-large\": \"awsui_variant-value-large_4c84z_lkeqe_243\",\n  \"variant-top-navigation\": \"awsui_variant-top-navigation_4c84z_lkeqe_277\",\n  \"variant-recovery\": \"awsui_variant-recovery_4c84z_lkeqe_312\",\n  \"button\": \"awsui_button_4c84z_lkeqe_347\",\n  \"color-inverted\": \"awsui_color-inverted_4c84z_lkeqe_382\",\n  \"font-size-body-s\": \"awsui_font-size-body-s_4c84z_lkeqe_401\",\n  \"font-size-body-m\": \"awsui_font-size-body-m_4c84z_lkeqe_406\",\n  \"font-size-heading-xs\": \"awsui_font-size-heading-xs_4c84z_lkeqe_410\",\n  \"font-size-heading-s\": \"awsui_font-size-heading-s_4c84z_lkeqe_414\",\n  \"font-size-heading-m\": \"awsui_font-size-heading-m_4c84z_lkeqe_419\",\n  \"font-size-heading-l\": \"awsui_font-size-heading-l_4c84z_lkeqe_424\",\n  \"font-size-heading-xl\": \"awsui_font-size-heading-xl_4c84z_lkeqe_429\",\n  \"font-size-display-l\": \"awsui_font-size-display-l_4c84z_lkeqe_434\",\n  \"icon-wrapper\": \"awsui_icon-wrapper_4c84z_lkeqe_440\",\n  \"icon\": \"awsui_icon_4c84z_lkeqe_440\"\n};\n\nvar InternalLink = react.forwardRef(function (_a, ref) {\n    var _b = _a.variant, variant = _b === void 0 ? 'secondary' : _b, _c = _a.fontSize, fontSize = _c === void 0 ? 'body-m' : _c, _d = _a.color, color = _d === void 0 ? 'normal' : _d, _e = _a.external, external = _e === void 0 ? false : _e, target = _a.target, href = _a.href, rel = _a.rel, ariaLabel = _a.ariaLabel, externalIconAriaLabel = _a.externalIconAriaLabel, onFollow = _a.onFollow, children = _a.children, _f = _a.__internalRootRef, __internalRootRef = _f === void 0 ? null : _f, props = __rest(_a, [\"variant\", \"fontSize\", \"color\", \"external\", \"target\", \"href\", \"rel\", \"ariaLabel\", \"externalIconAriaLabel\", \"onFollow\", \"children\", \"__internalRootRef\"]);\n    checkSafeUrl('Link', href);\n    var isButton = !href;\n    var specialStyles = ['top-navigation', 'link', 'recovery'];\n    var hasSpecialStyle = specialStyles.indexOf(variant) > -1;\n    var focusVisible = useFocusVisible();\n    var baseProps = getBaseProps(props);\n    var anchorTarget = target !== null && target !== void 0 ? target : (external ? '_blank' : undefined);\n    var anchorRel = rel !== null && rel !== void 0 ? rel : (anchorTarget === '_blank' ? 'noopener noreferrer' : undefined);\n    var fireFollowEvent = function (event) {\n        fireCancelableEvent(onFollow, { href: href, external: external, target: anchorTarget }, event);\n    };\n    var handleLinkClick = function (event) {\n        if (isPlainLeftClick(event)) {\n            fireFollowEvent(event);\n        }\n    };\n    var handleButtonClick = function (event) {\n        fireFollowEvent(event);\n    };\n    var handleButtonKeyDown = function (event) {\n        if (event.keyCode === KeyCode.space || event.keyCode === KeyCode.enter) {\n            event.preventDefault();\n            fireFollowEvent(event);\n        }\n    };\n    var linkRef = react.useRef(null);\n    var isVisualRefresh = useVisualRefresh();\n    useForwardFocus(ref, linkRef);\n    // Visual refresh should only add styles to buttons that don't already have unique styles (e.g. primary/secondary variants)\n    var applyButtonStyles = isButton && isVisualRefresh && !hasSpecialStyle;\n    var sharedProps = __assign(__assign(__assign({}, focusVisible), baseProps), { \n        // https://github.com/microsoft/TypeScript/issues/36659\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ref: useMergeRefs$1(linkRef, __internalRootRef), className: clsx(styles$c.link, baseProps.className, applyButtonStyles ? styles$c.button : null, styles$c[getVariantStyle(variant)], styles$c[getFontSizeStyle(variant, fontSize)], styles$c[getColorStyle(variant, color)]), 'aria-label': ariaLabel });\n    var content = (react.createElement(react.Fragment, null,\n        children,\n        external && (react.createElement(\"span\", { className: styles$c['icon-wrapper'] },\n            \"\\u00A0\",\n            react.createElement(\"span\", { className: styles$c.icon, \"aria-label\": externalIconAriaLabel, role: externalIconAriaLabel ? 'img' : undefined },\n                react.createElement(InternalIcon, { name: \"external\", size: \"inherit\" }))))));\n    if (isButton) {\n        return (react.createElement(\"a\", __assign({}, sharedProps, { role: \"button\", tabIndex: 0, onKeyDown: handleButtonKeyDown, onClick: handleButtonClick }), content));\n    }\n    return (\n    // we dynamically set proper rel in the code above\n    // eslint-disable-next-line react/jsx-no-target-blank\n    react.createElement(\"a\", __assign({}, sharedProps, { target: anchorTarget, rel: anchorRel, href: href, onClick: handleLinkClick }), content));\n});\nfunction getVariantStyle(variant) {\n    return \"variant-\".concat(variant.replace(/^awsui-/, ''));\n}\nfunction getFontSizeStyle(variant, fontSize) {\n    switch (variant) {\n        case 'info':\n            return 'font-size-body-s';\n        case 'awsui-value-large':\n            return 'font-size-display-l';\n        default:\n            return \"font-size-\".concat(fontSize);\n    }\n}\nfunction getColorStyle(variant, color) {\n    return \"color-\".concat(variant === 'info' ? 'normal' : color);\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar FormFieldContext = react.createContext({});\nfunction applyDefault(fields, defaults, keys) {\n    var result = {};\n    keys.forEach(function (key) {\n        result[key] = fields[key] === undefined ? defaults[key] : fields[key];\n    });\n    return result;\n}\nfunction useFormFieldContext(props) {\n    var context = react.useContext(FormFieldContext);\n    return applyDefault(props, context, ['invalid', 'controlId', 'ariaLabelledby', 'ariaDescribedby']);\n}\n\nvar searchableFields = ['value', 'label', 'description', 'labelTag'];\nvar matchesString = function (value, searchText, strictMatching) {\n    if (!value) {\n        return false;\n    }\n    var index = value.toLowerCase().indexOf(searchText);\n    return strictMatching ? index === 0 : index > -1;\n};\nvar matchesSingleOption = function (dropdownOption, text, strictMatching) {\n    var searchText = text.toLowerCase();\n    var option = dropdownOption.option;\n    var searchStrFields = function (attr) { return matchesString(option[attr], searchText, strictMatching); };\n    var searchTagsFields = function (attr) { var _a; return (_a = option[attr]) === null || _a === void 0 ? void 0 : _a.some(function (value) { return matchesString(value, searchText, strictMatching); }); };\n    var searchableTagFields = ['tags'];\n    if (!strictMatching) {\n        searchableTagFields.push('filteringTags');\n    }\n    return searchableFields.some(searchStrFields) || searchableTagFields.some(searchTagsFields);\n};\nvar filterOptions$1 = function (options, searchText, strictMatching) {\n    if (strictMatching === void 0) { strictMatching = false; }\n    if (searchText === '') {\n        return options;\n    }\n    var currentGroup = null;\n    var parentMatched = false;\n    return options.reduce(function (acc, option) {\n        if (option.type === 'parent') {\n            parentMatched = false;\n            currentGroup = option;\n            if (matchesSingleOption(option, searchText, strictMatching)) {\n                parentMatched = true;\n                acc.push(currentGroup);\n            }\n            return acc;\n        }\n        if (option.type !== 'child') {\n            currentGroup = null;\n            parentMatched = false;\n        }\n        if (parentMatched) {\n            acc.push(option);\n        }\n        else if (matchesSingleOption(option, searchText, strictMatching)) {\n            if (currentGroup) {\n                acc.push(currentGroup);\n                currentGroup = null;\n            }\n            acc.push(option);\n        }\n        return acc;\n    }, []);\n};\nvar isInteractive$2 = function (option) { return !!option && !option.disabled && option.type !== 'parent'; };\nvar isGroupInteractive = function (option) { return !!option && !option.disabled; };\nvar isGroup$2 = function (option) {\n    return !!option && 'options' in option;\n};\n\nconst styles$b = {\n  \"root\": \"awsui_root_1afi9_1ehx9_93\",\n  \"hidden\": \"awsui_hidden_1afi9_1ehx9_103\",\n  \"no-items\": \"awsui_no-items_1afi9_1ehx9_106\"\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n/**\n * This hook gives the value of any variable from the previous render invocation\n */\nvar usePrevious = function (value) {\n    var ref = react.useRef();\n    react.useEffect(function () {\n        ref.current = value;\n    });\n    return ref.current;\n};\n\nconst styles$a = {\n  \"root\": \"awsui_root_vrgzu_foq7p_93\",\n  \"recovery\": \"awsui_recovery_vrgzu_foq7p_105\"\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nfunction DropdownStatus(_a) {\n    var children = _a.children;\n    return react.createElement(\"div\", { className: styles$a.root }, children);\n}\nvar useDropdownStatus = function (_a) {\n    var statusType = _a.statusType, empty = _a.empty, loadingText = _a.loadingText, finishedText = _a.finishedText, errorText = _a.errorText, recoveryText = _a.recoveryText, isEmpty = _a.isEmpty, isNoMatch = _a.isNoMatch, noMatch = _a.noMatch, onRecoveryClick = _a.onRecoveryClick;\n    var linkRef = react.useRef(null);\n    var focusRecoveryLink = function () { var _a; return (_a = linkRef.current) === null || _a === void 0 ? void 0 : _a.focus(); };\n    var previousStatusType = usePrevious(statusType);\n    var statusResult = { isSticky: true, content: null, focusRecoveryLink: focusRecoveryLink };\n    if (statusType === 'loading') {\n        statusResult.content = react.createElement(StatusIndicator, { type: 'loading' }, loadingText);\n    }\n    else if (statusType === 'error') {\n        statusResult.content = (react.createElement(react.Fragment, null,\n            react.createElement(StatusIndicator, { type: \"error\", __animate: previousStatusType !== 'error' }, errorText),\n            ' ',\n            recoveryText && (react.createElement(InternalLink, { ref: linkRef, onFollow: function () { return fireNonCancelableEvent(onRecoveryClick); }, variant: \"recovery\", className: styles$a.recovery }, recoveryText))));\n    }\n    else if (isEmpty && empty) {\n        statusResult.content = empty;\n    }\n    else if (isNoMatch && noMatch) {\n        statusResult.content = noMatch;\n    }\n    else if (statusType === 'finished' && finishedText) {\n        statusResult.content = finishedText;\n        statusResult.isSticky = false;\n    }\n    return statusResult;\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar DropdownFooter = function (_a) {\n    var _b;\n    var content = _a.content, _c = _a.hasItems, hasItems = _c === void 0 ? true : _c;\n    return (react.createElement(\"div\", { className: clsx(styles$b.root, (_b = {}, _b[styles$b.hidden] = content === null, _b[styles$b['no-items']] = !hasItems, _b)), \"aria-live\": \"polite\", \"aria-atomic\": \"true\" }, content && react.createElement(DropdownStatus, null, content)));\n};\n\nvar flattenOptions = function (options) {\n    var parentMap = new Map();\n    var flatOptions = options.reduce(function (acc, option) {\n        if ('options' in option) {\n            var options_1 = option.options, rest_1 = __rest(option, [\"options\"]);\n            var parentDropdownOption_1 = { type: 'parent', option: option };\n            var allOptionsDisabled = options_1.every(function (option) { return option.disabled; });\n            if (option.disabled || allOptionsDisabled) {\n                parentDropdownOption_1.disabled = true;\n            }\n            acc.push(parentDropdownOption_1);\n            options_1.forEach(function (child) {\n                var childDropdownOption = { type: 'child', option: child };\n                if (rest_1.disabled || child.disabled) {\n                    childDropdownOption.disabled = true;\n                }\n                acc.push(childDropdownOption);\n                parentMap.set(childDropdownOption, parentDropdownOption_1);\n            });\n        }\n        else {\n            var dropdownOption = { option: option };\n            if (option.disabled) {\n                dropdownOption.disabled = true;\n            }\n            acc.push(dropdownOption);\n        }\n        return acc;\n    }, []);\n    return {\n        flatOptions: flatOptions,\n        parentMap: parentMap\n    };\n};\n\nvar testIndexMap = new WeakMap();\n//retrieves the test indexes of the option for the findOption and findOptionInGroup test-utils\nvar getTestOptionIndexes = function (item) { return testIndexMap.get(item); };\nvar generateTestIndexes = function (filteredItems, getParentGroup) {\n    var throughIndex = 1;\n    var groupIndex = 0;\n    var inGroupIndex = 1;\n    var currentGroup = null;\n    filteredItems.forEach(function (item) {\n        if (!('type' in item)) {\n            testIndexMap.set(item, { throughIndex: throughIndex++ });\n        }\n        else if (item.type === 'child') {\n            var parentGroup = getParentGroup(item);\n            if (parentGroup && parentGroup !== currentGroup) {\n                currentGroup = parentGroup;\n                inGroupIndex = 1;\n                testIndexMap.set(item, {\n                    throughIndex: throughIndex++,\n                    groupIndex: ++groupIndex,\n                    inGroupIndex: inGroupIndex++\n                });\n            }\n            else {\n                testIndexMap.set(item, { throughIndex: throughIndex++, groupIndex: groupIndex, inGroupIndex: inGroupIndex++ });\n            }\n        }\n    });\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nfunction prepareOptions(options, filteringType, filteringText) {\n    var _a = flattenOptions(options), flatOptions = _a.flatOptions, parentMap = _a.parentMap;\n    var filteredOptions = filteringType !== 'auto' ? flatOptions : filterOptions$1(flatOptions, filteringText);\n    generateTestIndexes(filteredOptions, parentMap.get.bind(parentMap));\n    return { filteredOptions: filteredOptions, parentMap: parentMap };\n}\n\nconst styles$9 = {\n  \"dropdown-content-wrapper\": \"awsui_dropdown-content-wrapper_qwoo0_1jaxg_93\",\n  \"awsui-motion-fade-in-dropdown\": \"awsui_awsui-motion-fade-in-dropdown_qwoo0_1jaxg_1\",\n  \"refresh\": \"awsui_refresh_qwoo0_1jaxg_114\",\n  \"awsui-motion-fade-in-0\": \"awsui_awsui-motion-fade-in-0_qwoo0_1jaxg_1\",\n  \"root\": \"awsui_root_qwoo0_1jaxg_143\",\n  \"interior\": \"awsui_interior_qwoo0_1jaxg_155\",\n  \"dropdown\": \"awsui_dropdown_qwoo0_1jaxg_93\",\n  \"use-portal\": \"awsui_use-portal_qwoo0_1jaxg_166\",\n  \"dropdown-drop-up\": \"awsui_dropdown-drop-up_qwoo0_1jaxg_211\",\n  \"with-limited-width\": \"awsui_with-limited-width_qwoo0_1jaxg_215\",\n  \"dropdown-drop-left\": \"awsui_dropdown-drop-left_qwoo0_1jaxg_218\",\n  \"dropdown-drop-right\": \"awsui_dropdown-drop-right_qwoo0_1jaxg_221\",\n  \"occupy-entire-width\": \"awsui_occupy-entire-width_qwoo0_1jaxg_224\",\n  \"hide-upper-border\": \"awsui_hide-upper-border_qwoo0_1jaxg_227\",\n  \"open\": \"awsui_open_qwoo0_1jaxg_234\",\n  \"nowrap\": \"awsui_nowrap_qwoo0_1jaxg_243\",\n  \"is-empty\": \"awsui_is-empty_qwoo0_1jaxg_247\",\n  \"dropdown-content\": \"awsui_dropdown-content_qwoo0_1jaxg_93\",\n  \"ie11-wrapper\": \"awsui_ie11-wrapper_qwoo0_1jaxg_257\",\n  \"stretch-trigger-height\": \"awsui_stretch-trigger-height_qwoo0_1jaxg_261\"\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar AVAILABLE_SPACE_RESERVE_DEFAULT = 50;\nvar AVAILABLE_SPACE_RESERVE_MOBILE_VERTICAL = 19; // 50 - 31\nvar AVAILABLE_SPACE_RESERVE_MOBILE_HORIZONTAL = 20;\nvar getClosestParentDimensions = function (element) {\n    var parents = getOverflowParents(element).map(function (el) {\n        var _a = el.getBoundingClientRect(), height = _a.height, width = _a.width, top = _a.top, left = _a.left;\n        return {\n            height: height,\n            width: width,\n            top: top,\n            left: left\n        };\n    });\n    return parents.shift();\n};\nvar getAvailableSpace = function (trigger, dropdown, overflowParents, stretchWidth, stretchHeight, isMobile) {\n    if (stretchWidth === void 0) { stretchWidth = false; }\n    if (stretchHeight === void 0) { stretchHeight = false; }\n    var availableSpaceReserveVertical = stretchHeight\n        ? 0\n        : isMobile\n            ? AVAILABLE_SPACE_RESERVE_MOBILE_VERTICAL\n            : AVAILABLE_SPACE_RESERVE_DEFAULT;\n    var availableSpaceReserveHorizontal = stretchWidth\n        ? 0\n        : isMobile\n            ? AVAILABLE_SPACE_RESERVE_MOBILE_HORIZONTAL\n            : AVAILABLE_SPACE_RESERVE_DEFAULT;\n    var _a = trigger.getBoundingClientRect(), triggerBottom = _a.bottom, triggerLeft = _a.left, triggerRight = _a.right;\n    return overflowParents.reduce(function (_a, overflowParent) {\n        var above = _a.above, below = _a.below, left = _a.left, right = _a.right;\n        var offsetTop = triggerBottom - overflowParent.top;\n        var currentAbove = offsetTop - trigger.offsetHeight - availableSpaceReserveVertical;\n        var currentBelow = overflowParent.height - offsetTop - availableSpaceReserveVertical;\n        var currentLeft = triggerRight - overflowParent.left - availableSpaceReserveHorizontal;\n        var currentRight = overflowParent.left + overflowParent.width - triggerLeft - availableSpaceReserveHorizontal;\n        return {\n            above: Math.min(above, currentAbove),\n            below: Math.min(below, currentBelow),\n            left: Math.min(left, currentLeft),\n            right: Math.min(right, currentRight)\n        };\n    }, { above: Number.MAX_VALUE, below: Number.MAX_VALUE, left: Number.MAX_VALUE, right: Number.MAX_VALUE });\n};\nvar getInteriorAvailableSpace = function (trigger, dropdown, overflowParents, isMobile) {\n    var AVAILABLE_SPACE_RESERVE_VERTICAL = isMobile\n        ? AVAILABLE_SPACE_RESERVE_MOBILE_VERTICAL\n        : AVAILABLE_SPACE_RESERVE_DEFAULT;\n    var AVAILABLE_SPACE_RESERVE_HORIZONTAL = isMobile\n        ? AVAILABLE_SPACE_RESERVE_MOBILE_HORIZONTAL\n        : AVAILABLE_SPACE_RESERVE_DEFAULT;\n    var _a = trigger.getBoundingClientRect(), triggerBottom = _a.bottom, triggerTop = _a.top, triggerLeft = _a.left, triggerRight = _a.right;\n    return overflowParents.reduce(function (_a, overflowParent) {\n        var above = _a.above, below = _a.below, left = _a.left, right = _a.right;\n        var currentAbove = triggerBottom - overflowParent.top - AVAILABLE_SPACE_RESERVE_VERTICAL;\n        var currentBelow = overflowParent.height - triggerTop + overflowParent.top - AVAILABLE_SPACE_RESERVE_VERTICAL;\n        var currentLeft = triggerLeft - overflowParent.left - AVAILABLE_SPACE_RESERVE_HORIZONTAL;\n        var currentRight = overflowParent.left + overflowParent.width - triggerRight - AVAILABLE_SPACE_RESERVE_HORIZONTAL;\n        return {\n            above: Math.min(above, currentAbove),\n            below: Math.min(below, currentBelow),\n            left: Math.min(left, currentLeft),\n            right: Math.min(right, currentRight)\n        };\n    }, { above: Number.MAX_VALUE, below: Number.MAX_VALUE, left: Number.MAX_VALUE, right: Number.MAX_VALUE });\n};\nvar getDropdownPosition = function (trigger, dropdown, overflowParents, minWidth, preferCenter, stretchWidth, stretchHeight, isMobile) {\n    if (preferCenter === void 0) { preferCenter = false; }\n    if (stretchWidth === void 0) { stretchWidth = false; }\n    if (stretchHeight === void 0) { stretchHeight = false; }\n    var availableSpace = getAvailableSpace(trigger, dropdown, overflowParents, stretchWidth, stretchHeight, isMobile);\n    var triggerWidth = trigger.getBoundingClientRect().width;\n    minWidth = minWidth ? Math.min(triggerWidth, minWidth) : triggerWidth;\n    var requiredWidth = dropdown.getBoundingClientRect().width;\n    // dropdown should not be smaller than the trigger\n    var idealWidth = Math.max(requiredWidth, minWidth);\n    var dropLeft;\n    var left = null;\n    var width = idealWidth;\n    //1. Can it be positioned with ideal width to the right?\n    if (idealWidth <= availableSpace.right) {\n        dropLeft = false;\n        //2. Can it be positioned with ideal width to the left?\n    }\n    else if (idealWidth <= availableSpace.left) {\n        dropLeft = true;\n        //3. Fit into biggest available space either on left or right\n    }\n    else {\n        dropLeft = availableSpace.left > availableSpace.right;\n        width = Math.max(availableSpace.left, availableSpace.right, minWidth);\n    }\n    if (preferCenter) {\n        var spillOver = (idealWidth - triggerWidth) / 2;\n        // availableSpace always includes the trigger width, but we want to exclude that\n        var availableOutsideLeft = availableSpace.left - triggerWidth;\n        var availableOutsideRight = availableSpace.right - triggerWidth;\n        var fitsInCenter = availableOutsideLeft >= spillOver && availableOutsideRight >= spillOver;\n        if (fitsInCenter) {\n            left = -spillOver;\n        }\n    }\n    var dropUp = availableSpace.below < dropdown.offsetHeight && availableSpace.above > availableSpace.below;\n    var availableHeight = dropUp ? availableSpace.above : availableSpace.below;\n    // Try and crop the bottom item when all options can't be displayed, affordance for \"there's more\"\n    var croppedHeight = stretchHeight ? availableHeight : Math.floor(availableHeight / 31) * 31 + 16;\n    return {\n        dropUp: dropUp,\n        dropLeft: dropLeft,\n        left: left === null ? 'auto' : \"\".concat(left, \"px\"),\n        height: \"\".concat(croppedHeight, \"px\"),\n        width: \"\".concat(width, \"px\")\n    };\n};\nvar getInteriorDropdownPosition = function (trigger, dropdown, overflowParents, isMobile) {\n    var availableSpace = getInteriorAvailableSpace(trigger, dropdown, overflowParents, isMobile);\n    var _a = trigger.getBoundingClientRect(), triggerBottom = _a.bottom, triggerTop = _a.top, triggerWidth = _a.width;\n    var _b = getClosestParentDimensions(trigger), parentDropdownTop = _b.top, parentDropdownHeight = _b.height;\n    var dropLeft;\n    var width = dropdown.getBoundingClientRect().width;\n    var top = triggerTop - parentDropdownTop;\n    if (width <= availableSpace.right) {\n        dropLeft = false;\n    }\n    else if (width <= availableSpace.left) {\n        dropLeft = true;\n    }\n    else {\n        dropLeft = availableSpace.left > availableSpace.right;\n        width = Math.max(availableSpace.left, availableSpace.right);\n    }\n    var left = dropLeft ? 0 - width : triggerWidth;\n    var dropUp = availableSpace.below < dropdown.offsetHeight && availableSpace.above > availableSpace.below;\n    var bottom = dropUp ? parentDropdownTop + parentDropdownHeight - triggerBottom : 0;\n    var availableHeight = dropUp ? availableSpace.above : availableSpace.below;\n    // Try and crop the bottom item when all options can't be displayed, affordance for \"there's more\"\n    var croppedHeight = Math.floor(availableHeight / 31) * 31 + 16;\n    return {\n        dropUp: dropUp,\n        dropLeft: dropLeft,\n        height: \"\".concat(croppedHeight, \"px\"),\n        width: \"\".concat(width, \"px\"),\n        top: \"\".concat(top, \"px\"),\n        bottom: \"\".concat(bottom, \"px\"),\n        left: \"\".concat(left, \"px\")\n    };\n};\nvar calculatePosition = function (dropdownElement, triggerElement, verticalContainerElement, interior, expandToViewport, preferCenter, stretchWidth, stretchHeight, isMobile, minWidth) {\n    // cleaning previously assigned values,\n    // so that they are not reused in case of screen resize and similar events\n    verticalContainerElement.style.maxHeight = '';\n    dropdownElement.style.width = '';\n    dropdownElement.style.top = '';\n    dropdownElement.style.bottom = '';\n    dropdownElement.style.left = '';\n    dropdownElement.classList.remove(styles$9['dropdown-drop-left']);\n    dropdownElement.classList.remove(styles$9['dropdown-drop-right']);\n    dropdownElement.classList.remove(styles$9['dropdown-drop-up']);\n    var overflowParents = getOverflowParentDimensions(dropdownElement, interior, expandToViewport, stretchHeight);\n    var position = interior\n        ? getInteriorDropdownPosition(triggerElement, dropdownElement, overflowParents, isMobile)\n        : getDropdownPosition(triggerElement, dropdownElement, overflowParents, minWidth, preferCenter, stretchWidth, stretchHeight, isMobile);\n    var triggerBox = triggerElement.getBoundingClientRect();\n    return [position, triggerBox];\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nfunction usePortalModeClasses(ref) {\n    var _a;\n    var colorMode = useCurrentMode(ref);\n    var densityMode = useDensityMode(ref);\n    var context = useVisualContext(ref);\n    var visualRefresh = useVisualRefresh();\n    return clsx((_a = {\n            'awsui-polaris-dark-mode awsui-dark-mode': colorMode === 'dark',\n            'awsui-polaris-compact-mode awsui-compact-mode': densityMode === 'compact',\n            'awsui-visual-refresh': visualRefresh\n        },\n        _a[\"awsui-context-\".concat(context)] = context,\n        _a));\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar DropdownContext = react.createContext({\n    position: 'bottom-right'\n});\nfunction DropdownContextProvider(_a) {\n    var children = _a.children, _b = _a.position, position = _b === void 0 ? 'bottom-right' : _b;\n    return react.createElement(DropdownContext.Provider, { value: { position: position } }, children);\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// This component handles focus-forwarding when navigating through the calendar grid.\n// When the customer focuses that component the `next` callback function is called\n// with forwards the focus.\nfunction TabTrap(_a) {\n    var focusNextCallback = _a.focusNextCallback, _b = _a.disabled, disabled = _b === void 0 ? false : _b;\n    return react.createElement(\"div\", { tabIndex: disabled ? -1 : 0, onFocus: focusNextCallback });\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Credits to\n// https://github.com/theKashey/focus-lock/blob/33f8b4bd9675d2605b15e2e4015b77fe35fbd6d0/src/utils/tabbables.ts\nvar tabbables = [\n    'button:enabled',\n    'select:enabled',\n    'textarea:enabled',\n    'input:enabled',\n    'a[href]',\n    'area[href]',\n    'summary',\n    'iframe',\n    'object',\n    'embed',\n    'audio[controls]',\n    'video[controls]',\n    '[tabindex]',\n    '[contenteditable]',\n    '[autofocus]',\n].join(',');\nfunction getFocusables(container) {\n    return Array.prototype.slice\n        .call(container.querySelectorAll(tabbables))\n        .filter(function (element) { return element.tabIndex !== -1; });\n}\nfunction getFirstFocusable(container) {\n    var _a;\n    var focusables = getFocusables(container);\n    return (_a = focusables[0]) !== null && _a !== void 0 ? _a : null;\n}\nfunction getLastFocusable(container) {\n    var _a;\n    var focusables = getFocusables(container);\n    return (_a = focusables[focusables.length - 1]) !== null && _a !== void 0 ? _a : null;\n}\n\nvar DropdownContainer = function (_a) {\n    var children = _a.children, _b = _a.renderWithPortal, renderWithPortal = _b === void 0 ? false : _b, id = _a.id, open = _a.open;\n    if (renderWithPortal) {\n        if (open) {\n            return reactDom.createPortal(react.createElement(\"div\", { id: id }, children), document.body);\n        }\n        else {\n            return null;\n        }\n    }\n    else {\n        return react.createElement(react.Fragment, null, children);\n    }\n};\nvar TransitionContent = function (_a) {\n    var _b;\n    var state = _a.state, transitionRef = _a.transitionRef, dropdownClasses = _a.dropdownClasses, stretchWidth = _a.stretchWidth, interior = _a.interior, hasContent = _a.hasContent, isRefresh = _a.isRefresh, dropdownRef = _a.dropdownRef, verticalContainerRef = _a.verticalContainerRef, expandToViewport = _a.expandToViewport, header = _a.header, children = _a.children, footer = _a.footer, position = _a.position, open = _a.open, onMouseDown = _a.onMouseDown;\n    var contentRef = useMergeRefs$1(dropdownRef, transitionRef);\n    return (react.createElement(\"div\", { className: clsx(styles$9.dropdown, dropdownClasses, (_b = {},\n            _b[styles$9.open] = open,\n            _b[styles$9['with-limited-width']] = !stretchWidth,\n            _b[styles$9['hide-upper-border']] = stretchWidth,\n            _b[styles$9.interior] = interior,\n            _b[styles$9['is-empty']] = !header && !hasContent,\n            _b[styles$9.refresh] = isRefresh,\n            _b[styles$9['use-portal']] = expandToViewport && !interior,\n            _b)), ref: contentRef, \"data-open\": open, \"data-animating\": state !== 'exited', onMouseDown: onMouseDown },\n        react.createElement(\"div\", { className: clsx(styles$9['dropdown-content-wrapper'], isRefresh && styles$9.refresh) },\n            react.createElement(\"div\", { className: styles$9['ie11-wrapper'] },\n                react.createElement(\"div\", { ref: verticalContainerRef, className: styles$9['dropdown-content'] },\n                    react.createElement(DropdownContextProvider, { position: position },\n                        header,\n                        children,\n                        footer))))));\n};\nvar Dropdown = function (_a) {\n    var children = _a.children, trigger = _a.trigger, open = _a.open, onDropdownClose = _a.onDropdownClose, onMouseDown = _a.onMouseDown, header = _a.header, footer = _a.footer, dropdownId = _a.dropdownId, _b = _a.stretchTriggerHeight, stretchTriggerHeight = _b === void 0 ? false : _b, _c = _a.stretchWidth, stretchWidth = _c === void 0 ? true : _c, _d = _a.stretchHeight, stretchHeight = _d === void 0 ? false : _d, _e = _a.stretchToTriggerWidth, stretchToTriggerWidth = _e === void 0 ? true : _e, _f = _a.expandToViewport, expandToViewport = _f === void 0 ? false : _f, _g = _a.preferCenter, preferCenter = _g === void 0 ? false : _g, _h = _a.interior, interior = _h === void 0 ? false : _h, minWidth = _a.minWidth, _j = _a.hasContent, hasContent = _j === void 0 ? true : _j, _k = _a.scrollable, scrollable = _k === void 0 ? true : _k, _l = _a.trapFocus, trapFocus = _l === void 0 ? false : _l;\n    var triggerRef = react.useRef(null);\n    var dropdownRef = react.useRef(null);\n    // This container is only needed to apply max-height to. We can't move max-height to it's parent\n    // because of an IE11 issue with flexbox. https://github.com/philipwalton/flexbugs/issues/216\n    var verticalContainerRef = react.useRef(null);\n    // To keep track of the initial position (drop up/down) which is kept the same during fixed repositioning\n    var fixedPosition = react.useRef(null);\n    var isRefresh = useVisualRefresh();\n    var dropdownClasses = usePortalModeClasses(triggerRef);\n    var _m = react.useState('bottom-right'), position = _m[0], setPosition = _m[1];\n    var isMobile = useMobile();\n    var setDropdownPosition = function (position, triggerBox, target, verticalContainer) {\n        var entireWidth = !interior && stretchWidth;\n        if (!stretchWidth) {\n            // 1px offset for dropdowns where the dropdown itself needs a border, rather than on the items\n            verticalContainer.style.maxHeight = \"\".concat(parseInt(position.height) + 1, \"px\");\n        }\n        else {\n            verticalContainer.style.maxHeight = position.height;\n        }\n        if (entireWidth && !expandToViewport) {\n            if (stretchToTriggerWidth) {\n                target.classList.add(styles$9['occupy-entire-width']);\n            }\n        }\n        else {\n            target.style.width = position.width;\n        }\n        // Using styles for main dropdown to adjust its position as preferred alternative\n        if (position.dropUp && !interior) {\n            target.classList.add(styles$9['dropdown-drop-up']);\n            if (!expandToViewport) {\n                target.style.bottom = '100%';\n            }\n        }\n        else {\n            target.classList.remove(styles$9['dropdown-drop-up']);\n        }\n        target.classList.add(position.dropLeft ? styles$9['dropdown-drop-left'] : styles$9['dropdown-drop-right']);\n        if (position.left && position.left !== 'auto') {\n            target.style.left = position.left;\n        }\n        // Position normal overflow dropdowns with fixed positioning relative to viewport\n        if (expandToViewport && !interior) {\n            target.style.position = 'fixed';\n            if (position.dropUp) {\n                target.style.bottom = \"calc(100% - \".concat(triggerBox.top, \"px)\");\n            }\n            else {\n                target.style.top = \"\".concat(triggerBox.bottom, \"px\");\n            }\n            if (position.dropLeft) {\n                target.style.left = \"calc(\".concat(triggerBox.right, \"px - \").concat(position.width, \")\");\n            }\n            else {\n                target.style.left = \"\".concat(triggerBox.left, \"px\");\n            }\n            // Keep track of the initial dropdown position and direction.\n            // Dropdown direction doesn't need to change as the user scrolls, just needs to stay attached to the trigger.\n            fixedPosition.current = position;\n            return;\n        }\n        // For an interior dropdown (the fly out) we need exact values for positioning\n        // and classes are not enough\n        // usage of relative position is impossible due to overwrite of overflow-x\n        if (interior && isInteriorPosition(position)) {\n            if (position.dropUp) {\n                target.style.bottom = position.bottom;\n            }\n            else {\n                target.style.top = position.top;\n            }\n            target.style.left = position.left;\n        }\n        if (position.dropUp && position.dropLeft) {\n            setPosition('top-left');\n        }\n        else if (position.dropUp) {\n            setPosition('top-right');\n        }\n        else if (position.dropLeft) {\n            setPosition('bottom-left');\n        }\n        else {\n            setPosition('bottom-right');\n        }\n    };\n    react.useLayoutEffect(function () {\n        var onDropdownOpen = function () {\n            if (open && dropdownRef.current && triggerRef.current && verticalContainerRef.current) {\n                // calculate scroll width only for dropdowns that has a scrollbar and ignore it for date picker components\n                if (scrollable) {\n                    dropdownRef.current.classList.add(styles$9.nowrap);\n                }\n                setDropdownPosition.apply(void 0, __spreadArray(__spreadArray([], calculatePosition(dropdownRef.current, triggerRef.current, verticalContainerRef.current, interior, expandToViewport, preferCenter, stretchWidth, stretchHeight, isMobile, minWidth), false), [dropdownRef.current,\n                    verticalContainerRef.current], false));\n                if (scrollable) {\n                    dropdownRef.current.classList.remove(styles$9.nowrap);\n                }\n            }\n        };\n        onDropdownOpen();\n        if (open) {\n            // window may scroll when dropdown opens, for example when soft keyboard shows up\n            window.addEventListener('scroll', onDropdownOpen);\n            // only listen to window scroll within very short time after the dropdown opens\n            // do not want to interfere dropdown position on scroll afterwards\n            var timeoutId_1 = setTimeout(function () {\n                window.removeEventListener('scroll', onDropdownOpen);\n            }, 500);\n            return function () {\n                clearTimeout(timeoutId_1);\n                window.removeEventListener('scroll', onDropdownOpen);\n            };\n        }\n        // See AWSUI-13040\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [open, dropdownRef, triggerRef, verticalContainerRef, interior, stretchWidth, isMobile]);\n    // subscribe to outside click\n    react.useEffect(function () {\n        if (!open) {\n            return;\n        }\n        var clickListener = function (e) {\n            var _a;\n            if (!((_a = dropdownRef.current) === null || _a === void 0 ? void 0 : _a.contains(e.target))) {\n                fireNonCancelableEvent(onDropdownClose);\n            }\n        };\n        /*\n         * This small delay allows the event that opened the dropdown to\n         * finish bubbling, so that it is not immediately captured here.\n         */\n        var timeout = setTimeout(function () {\n            window.addEventListener('click', clickListener);\n        }, 0);\n        return function () {\n            clearTimeout(timeout);\n            window.removeEventListener('click', clickListener);\n        };\n    }, [open, onDropdownClose]);\n    // sync dropdown position on scroll and resize\n    react.useLayoutEffect(function () {\n        if (!expandToViewport || !open) {\n            return;\n        }\n        var updateDropdownPosition = function () {\n            if (triggerRef.current && dropdownRef.current && verticalContainerRef.current) {\n                var triggerRect = triggerRef.current.getBoundingClientRect();\n                var target = dropdownRef.current;\n                if (fixedPosition.current) {\n                    if (fixedPosition.current.dropUp) {\n                        dropdownRef.current.style.bottom = \"calc(100% - \".concat(triggerRect.top, \"px)\");\n                    }\n                    else {\n                        target.style.top = \"\".concat(triggerRect.bottom, \"px\");\n                    }\n                    if (fixedPosition.current.dropLeft) {\n                        target.style.left = \"calc(\".concat(triggerRect.right, \"px - \").concat(fixedPosition.current.width, \")\");\n                    }\n                    else {\n                        target.style.left = \"\".concat(triggerRect.left, \"px\");\n                    }\n                }\n            }\n        };\n        updateDropdownPosition();\n        window.addEventListener('scroll', updateDropdownPosition, true);\n        window.addEventListener('resize', updateDropdownPosition, true);\n        return function () {\n            window.removeEventListener('scroll', updateDropdownPosition, true);\n            window.removeEventListener('resize', updateDropdownPosition, true);\n        };\n    }, [open, expandToViewport]);\n    return (react.createElement(\"div\", { className: clsx(styles$9.root, interior && styles$9.interior, stretchTriggerHeight && styles$9['stretch-trigger-height']) },\n        react.createElement(\"div\", { className: clsx(stretchTriggerHeight && styles$9['stretch-trigger-height']), ref: triggerRef }, trigger),\n        react.createElement(TabTrap, { focusNextCallback: function () { var _a; return dropdownRef.current && ((_a = getFirstFocusable(dropdownRef.current)) === null || _a === void 0 ? void 0 : _a.focus()); }, disabled: !open || !trapFocus }),\n        react.createElement(DropdownContainer, { renderWithPortal: expandToViewport && !interior, id: dropdownId, open: open },\n            react.createElement(Transition, { \"in\": open !== null && open !== void 0 ? open : false, exit: false }, function (state, ref) { return (react.createElement(\"div\", { onBlur: function (event) { return trapFocus && event.stopPropagation(); } },\n                react.createElement(TabTrap, { focusNextCallback: function () { var _a; return triggerRef.current && ((_a = getLastFocusable(triggerRef.current)) === null || _a === void 0 ? void 0 : _a.focus()); }, disabled: !open || !trapFocus }),\n                react.createElement(TransitionContent, { state: state, transitionRef: ref, dropdownClasses: dropdownClasses, open: open, stretchWidth: stretchWidth, interior: interior, header: header, hasContent: hasContent, expandToViewport: expandToViewport, footer: footer, onMouseDown: onMouseDown, isRefresh: isRefresh, dropdownRef: dropdownRef, verticalContainerRef: verticalContainerRef, position: position }, children),\n                react.createElement(TabTrap, { focusNextCallback: function () { var _a; return triggerRef.current && ((_a = getFirstFocusable(triggerRef.current)) === null || _a === void 0 ? void 0 : _a.focus()); }, disabled: !open || !trapFocus }))); }))));\n};\nvar isInteriorPosition = function (position) { return position.bottom !== undefined; };\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nfunction useHighlightedOption(_a) {\n    var options = _a.options, isHighlightable = _a.isHighlightable;\n    var _b = react.useState(-1), highlightedIndex = _b[0], setHighlightedIndexState = _b[1];\n    var _c = react.useState('keyboard'), highlightType = _c[0], setHighlightType = _c[1];\n    var setHighlightedIndex = react.useCallback(function (index, highlightType) {\n        setHighlightedIndexState(index);\n        setHighlightType(highlightType);\n    }, []);\n    var highlightedOption = options[highlightedIndex] && isHighlightable(options[highlightedIndex]) ? options[highlightedIndex] : undefined;\n    var moveHighlightFrom = function (direction, startIndex, highlightType) {\n        if (startIndex === void 0) { startIndex = highlightedIndex; }\n        var newIndex = startIndex;\n        do {\n            newIndex += direction;\n        } while (options[newIndex] && !isHighlightable(options[newIndex]));\n        if (options[newIndex]) {\n            setHighlightedIndex(newIndex, highlightType);\n        }\n    };\n    var moveHighlight = function (direction, highlightType) {\n        return moveHighlightFrom(direction, highlightedIndex, highlightType);\n    };\n    var highlightOption = react.useCallback(function (option, highlightType) {\n        var index = options.indexOf(option);\n        setHighlightedIndex(index, highlightType);\n    }, [options, setHighlightedIndex]);\n    return [\n        { highlightType: highlightType, highlightedIndex: highlightedIndex, highlightedOption: highlightedOption },\n        {\n            setHighlightedIndexWithMouse: function (index) { return setHighlightedIndex(index, 'mouse'); },\n            moveHighlightWithKeyboard: function (direction) { return moveHighlight(direction, 'keyboard'); },\n            highlightOptionWithKeyboard: function (option) { return highlightOption(option, 'keyboard'); },\n            resetHighlightWithKeyboard: function () { return setHighlightedIndex(-1, 'keyboard'); },\n            goHomeWithKeyboard: function () { return moveHighlightFrom(1, -1, 'keyboard'); },\n            goEndWithKeyboard: function () { return moveHighlightFrom(-1, options.length, 'keyboard'); }\n        },\n    ];\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar useOpenState = function (_a) {\n    var onOpen = _a.onOpen, onClose = _a.onClose;\n    var _b = react.useState(false), isOpen = _b[0], setIsOpen = _b[1];\n    var openDropdown = function () {\n        if (!isOpen) {\n            setIsOpen(true);\n            onOpen === null || onOpen === void 0 ? void 0 : onOpen();\n        }\n    };\n    var closeDropdown = function () {\n        if (isOpen) {\n            setIsOpen(false);\n            onClose === null || onClose === void 0 ? void 0 : onClose();\n        }\n    };\n    var toggleDropdown = function () {\n        if (isOpen) {\n            closeDropdown();\n        }\n        else {\n            openDropdown();\n        }\n    };\n    return { isOpen: isOpen, openDropdown: openDropdown, closeDropdown: closeDropdown, toggleDropdown: toggleDropdown };\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar HOME = 36;\nvar END = 35;\nvar useMenuKeyboard = function (_a) {\n    var moveHighlight = _a.moveHighlight, selectOption = _a.selectOption, goHome = _a.goHome, goEnd = _a.goEnd, closeDropdown = _a.closeDropdown, isSelectingUsingSpace = _a.isSelectingUsingSpace, _b = _a.preventNativeSpace, preventNativeSpace = _b === void 0 ? false : _b;\n    return react.useCallback(function (e) {\n        switch (e.detail.keyCode) {\n            case KeyCode.up:\n                e.preventDefault();\n                moveHighlight(-1);\n                break;\n            case KeyCode.down:\n                e.preventDefault();\n                moveHighlight(1);\n                break;\n            case HOME:\n                goHome();\n                break;\n            case END:\n                goEnd();\n                break;\n            case KeyCode.escape:\n                closeDropdown();\n                break;\n            case KeyCode.enter:\n                e.preventDefault();\n                selectOption();\n                break;\n            case KeyCode.space:\n                if (preventNativeSpace) {\n                    e.preventDefault();\n                    selectOption();\n                    isSelectingUsingSpace.current = true;\n                }\n        }\n    }, [moveHighlight, selectOption, goHome, goEnd, closeDropdown, isSelectingUsingSpace, preventNativeSpace]);\n};\nvar useTriggerKeyboard = function (_a) {\n    var openDropdown = _a.openDropdown, goHome = _a.goHome;\n    return react.useCallback(function (e) {\n        switch (e.detail.keyCode) {\n            case KeyCode.up:\n            case KeyCode.down:\n                e.preventDefault();\n                goHome();\n                openDropdown();\n                break;\n            case KeyCode.space:\n                e.preventDefault();\n                openDropdown();\n                break;\n        }\n    }, [openDropdown, goHome]);\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar useIds = function (_a) {\n    var hasSelectedOption = _a.hasSelectedOption;\n    return {\n        selectedOptionId: react.useMemo(function () { return (hasSelectedOption ? generateUniqueId() : undefined); }, [hasSelectedOption]),\n        menuId: useUniqueId('option-list')\n    };\n};\nvar getOptionId = function (menuId, index) {\n    if (index < 0) {\n        return undefined;\n    }\n    return \"\".concat(menuId, \"-option-\").concat(index);\n};\n\nvar connectOptionsByValue = function (options, selectedOptions) {\n    return (selectedOptions || []).map(function (selectedOption) {\n        for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n            var dropdownOption = options_1[_i];\n            if (dropdownOption.type !== 'parent' &&\n                dropdownOption.option.value === selectedOption.value) {\n                return dropdownOption;\n            }\n        }\n        return { option: selectedOption };\n    });\n};\n\nfunction useSelect(_a) {\n    var selectedOptions = _a.selectedOptions, updateSelectedOption = _a.updateSelectedOption, options = _a.options, filteringType = _a.filteringType, onBlur = _a.onBlur, onFocus = _a.onFocus, externalRef = _a.externalRef, keepOpen = _a.keepOpen, fireLoadItems = _a.fireLoadItems, setFilteringValue = _a.setFilteringValue, _b = _a.useInteractiveGroups, useInteractiveGroups = _b === void 0 ? false : _b;\n    var interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive$2;\n    var isHighlightable = function (option) { return !!option && (useInteractiveGroups || option.type !== 'parent'); };\n    var filterRef = react.useRef(null);\n    var triggerRef = react.useRef(null);\n    var menuRef = react.useRef(null);\n    var hasFilter = filteringType !== 'none';\n    var activeRef = hasFilter ? filterRef : menuRef;\n    var isSelectingUsingSpace = react.useRef(false);\n    var __selectedOptions = connectOptionsByValue(options, selectedOptions);\n    var __selectedValuesSet = selectedOptions.reduce(function (selectedValuesSet, item) {\n        if (item.value) {\n            selectedValuesSet.add(item.value);\n        }\n        return selectedValuesSet;\n    }, new Set());\n    var _c = useHighlightedOption({ options: options, isHighlightable: isHighlightable }), _d = _c[0], highlightType = _d.highlightType, highlightedOption = _d.highlightedOption, highlightedIndex = _d.highlightedIndex, _e = _c[1], moveHighlightWithKeyboard = _e.moveHighlightWithKeyboard, resetHighlightWithKeyboard = _e.resetHighlightWithKeyboard, setHighlightedIndexWithMouse = _e.setHighlightedIndexWithMouse, highlightOptionWithKeyboard = _e.highlightOptionWithKeyboard, goHomeWithKeyboard = _e.goHomeWithKeyboard, goEndWithKeyboard = _e.goEndWithKeyboard;\n    var _f = useOpenState({\n        onOpen: function () { return fireLoadItems(''); },\n        onClose: function () {\n            resetHighlightWithKeyboard();\n            setFilteringValue('');\n        }\n    }), isOpen = _f.isOpen, openDropdown = _f.openDropdown, closeDropdown = _f.closeDropdown, toggleDropdown = _f.toggleDropdown;\n    var focused = react.useRef(false);\n    var handleFocus = function () {\n        if (!focused.current) {\n            fireCancelableEvent(onFocus, {});\n            focused.current = true;\n        }\n    };\n    var handleBlur = function (_a) {\n        var detail = _a.detail;\n        var relatedTarget = detail.relatedTarget;\n        var nextFocusedIsTrigger = relatedTarget ? containsOrEqual(triggerRef.current, relatedTarget) : false;\n        var nextFocusedInsideDropdown = relatedTarget\n            ? containsOrEqual(menuRef.current, relatedTarget) || containsOrEqual(filterRef.current, relatedTarget)\n            : false;\n        var nextFocusedInsideComponent = nextFocusedIsTrigger || nextFocusedInsideDropdown;\n        var focusingOut = focused.current && !nextFocusedInsideComponent;\n        if (nextFocusedIsTrigger || focusingOut) {\n            closeDropdown();\n        }\n        if (focusingOut) {\n            fireCancelableEvent(onBlur, {});\n            focused.current = false;\n        }\n    };\n    var hasSelectedOption = __selectedOptions.length > 0;\n    var _g = useIds({ hasSelectedOption: hasSelectedOption }), selectedOptionId = _g.selectedOptionId, menuId = _g.menuId;\n    var highlightedOptionId = getOptionId(menuId, highlightedIndex);\n    var selectOption = function (option) {\n        var _a;\n        isSelectingUsingSpace.current = false;\n        var optionToSelect = option || highlightedOption;\n        if (!optionToSelect || !interactivityCheck(optionToSelect)) {\n            return;\n        }\n        updateSelectedOption(optionToSelect.option);\n        if (!keepOpen) {\n            (_a = triggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n            closeDropdown();\n        }\n    };\n    var activeKeyDownHandler = useMenuKeyboard({\n        moveHighlight: moveHighlightWithKeyboard,\n        selectOption: selectOption,\n        goHome: goHomeWithKeyboard,\n        goEnd: goEndWithKeyboard,\n        closeDropdown: function () {\n            var _a;\n            (_a = triggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n            closeDropdown();\n        },\n        isSelectingUsingSpace: isSelectingUsingSpace,\n        preventNativeSpace: !hasFilter\n    });\n    var triggerKeyDownHandler = useTriggerKeyboard({ openDropdown: openDropdown, goHome: goHomeWithKeyboard });\n    var getTriggerProps = function (disabled) {\n        if (disabled === void 0) { disabled = false; }\n        var triggerProps = {\n            ref: triggerRef,\n            onFocus: handleFocus,\n            onBlur: handleBlur\n        };\n        if (!disabled) {\n            triggerProps.onMouseDown = function (event) {\n                var _a;\n                event.preventDefault(); // prevent current focus from blurring as it immediately closes the dropdown\n                if (isOpen) {\n                    (_a = triggerRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n                }\n                toggleDropdown();\n            };\n            triggerProps.onKeyDown = triggerKeyDownHandler;\n        }\n        if (hasSelectedOption) {\n            triggerProps.ariaLabelledby = selectedOptionId;\n        }\n        return triggerProps;\n    };\n    var getFilterProps = function () {\n        var _a;\n        if (!hasFilter) {\n            return {};\n        }\n        return {\n            ref: filterRef,\n            onKeyDown: activeKeyDownHandler,\n            __onBlurWithDetail: handleBlur,\n            onFocus: handleFocus,\n            onChange: function (event) {\n                setFilteringValue(event.detail.value);\n                resetHighlightWithKeyboard();\n            },\n            __onDelayedInput: function (event) {\n                fireLoadItems(event.detail.value);\n            },\n            __nativeAttributes: (_a = {\n                    'aria-activedescendant': highlightedOptionId\n                },\n                _a['aria-owns'] = menuId,\n                _a['aria-controls'] = menuId,\n                _a)\n        };\n    };\n    var getMenuProps = function () {\n        var menuProps = {\n            id: menuId,\n            ref: menuRef,\n            open: isOpen,\n            onFocus: handleFocus,\n            onBlur: handleBlur,\n            onMouseUp: function (itemIndex) {\n                if (itemIndex > -1) {\n                    selectOption(options[itemIndex]);\n                }\n            },\n            onMouseMove: function (itemIndex) {\n                if (itemIndex > -1) {\n                    setHighlightedIndexWithMouse(itemIndex);\n                }\n            }\n        };\n        if (!hasFilter) {\n            menuProps.onKeyDown = activeKeyDownHandler;\n            menuProps.onBlur = handleBlur;\n            menuProps.onFocus = handleFocus;\n            menuProps.nativeAttributes = {\n                'aria-activedescendant': highlightedOptionId\n            };\n        }\n        return menuProps;\n    };\n    var getGroupState = function (option) {\n        var totalSelected = option.options.filter(function (item) { return !!item.value && __selectedValuesSet.has(item.value); }).length;\n        var hasSelected = totalSelected > 0;\n        var allSelected = totalSelected === option.options.length;\n        return {\n            selected: hasSelected && allSelected,\n            indeterminate: hasSelected && !allSelected\n        };\n    };\n    var getOptionProps = function (option, index) {\n        var _a;\n        var _b;\n        var highlighted = option === highlightedOption;\n        var groupState = isGroup$2(option.option) ? getGroupState(option.option) : undefined;\n        var selected = __selectedOptions.indexOf(option) > -1 || !!(groupState === null || groupState === void 0 ? void 0 : groupState.selected);\n        var nextOption = (_b = options[index + 1]) === null || _b === void 0 ? void 0 : _b.option;\n        var isNextSelected = !!nextOption && isGroup$2(nextOption)\n            ? getGroupState(nextOption).selected\n            : __selectedOptions.indexOf(options[index + 1]) > -1;\n        var optionProps = (_a = {\n                key: index,\n                option: option,\n                highlighted: highlighted,\n                selected: selected,\n                isNextSelected: isNextSelected,\n                indeterminate: !!(groupState === null || groupState === void 0 ? void 0 : groupState.indeterminate)\n            },\n            _a['data-mouse-target'] = isHighlightable(option) ? index : -1,\n            _a.id = getOptionId(menuId, index),\n            _a);\n        return optionProps;\n    };\n    var prevOpen = usePrevious(isOpen);\n    react.useEffect(function () {\n        // highlight the first selected option, when opening the Select component\n        if (isOpen && !prevOpen && hasSelectedOption) {\n            setHighlightedIndexWithMouse(options.indexOf(__selectedOptions[0]));\n        }\n    }, [isOpen, __selectedOptions, hasSelectedOption, setHighlightedIndexWithMouse, options, prevOpen]);\n    react.useEffect(function () {\n        var _a;\n        if (isOpen) {\n            // dropdown-fit calculations ensure that the dropdown will fit inside the current\n            // viewport, so prevent the browser from trying to scroll it into view (e.g. if\n            // scroll-padding-top is set on a parent)\n            (_a = activeRef.current) === null || _a === void 0 ? void 0 : _a.focus({ preventScroll: true });\n        }\n    }, [isOpen, activeRef]);\n    useForwardFocus(externalRef, triggerRef);\n    var highlightedGroupSelected = !!highlightedOption && isGroup$2(highlightedOption.option) && getGroupState(highlightedOption.option).selected;\n    var announceSelected = !!highlightedOption && (__selectedOptions.indexOf(highlightedOption) > -1 || highlightedGroupSelected);\n    return {\n        isOpen: isOpen,\n        highlightedOption: highlightedOption,\n        highlightedIndex: highlightedIndex,\n        highlightType: highlightType,\n        getTriggerProps: getTriggerProps,\n        getMenuProps: getMenuProps,\n        getFilterProps: getFilterProps,\n        getOptionProps: getOptionProps,\n        highlightOption: highlightOptionWithKeyboard,\n        selectOption: selectOption,\n        announceSelected: announceSelected\n    };\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar isChar = function (keyCode) {\n    return [0, KeyCode.enter, KeyCode.space, KeyCode.tab].indexOf(keyCode) === -1;\n};\nvar isRepeatedChar = function (str) { return str.split('').every(function (c) { return c === str[0]; }); };\nfunction findMatchingOption(options, searchText, currentHighlight, useInteractiveGroups) {\n    var interactivityCheck = useInteractiveGroups ? isGroupInteractive : isInteractive$2;\n    var filter = function (searchText) {\n        return filterOptions$1(options, searchText, true).filter(function (option) { return interactivityCheck(option); });\n    };\n    var matchingOptions = filter(searchText);\n    if (matchingOptions.length === 1) {\n        return matchingOptions[0];\n    }\n    // Hit the same char over and over, we assume they want to cycle through\n    if (currentHighlight && searchText.length > 1 && isRepeatedChar(searchText)) {\n        var matchingOptions_1 = filter(searchText[0]);\n        if (matchingOptions_1.length > 0) {\n            //handling OptionGroups when useInteractiveGroups is set\n            var active = isGroup$2(currentHighlight)\n                ? matchingOptions_1.map(function (_a) {\n                    var option = _a.option;\n                    return option;\n                }).indexOf(currentHighlight)\n                : matchingOptions_1\n                    .map(function (_a) {\n                    var option = _a.option;\n                    return option.value;\n                })\n                    .indexOf(currentHighlight.value);\n            // Pick the next thing (if something with this prefix wasn't selected\n            // we'll end up with the first option)\n            active += 1;\n            active = active % matchingOptions_1.length;\n            return matchingOptions_1[active];\n        }\n    }\n    // We have multiple things that start with this prefix.  Based on the\n    // behavior of native select, this is considered after the repeated case\n    if (matchingOptions.length > 0) {\n        return matchingOptions[0];\n    }\n    return null;\n}\nfunction useNativeSearch(_a) {\n    var isEnabled = _a.isEnabled, options = _a.options, highlightOption = _a.highlightOption, highlightedOption = _a.highlightedOption, useInteractiveGroups = _a.useInteractiveGroups;\n    var value = react.useRef('');\n    var delayedResetValue = useDebounceCallback(function () { return (value.current = ''); }, 500);\n    return function (event) {\n        if (!isEnabled) {\n            return;\n        }\n        var charCode = event.charCode;\n        if (!isChar(charCode)) {\n            return;\n        }\n        delayedResetValue();\n        var newValue = value.current + String.fromCharCode(charCode);\n        value.current = newValue;\n        var nextHighlight = findMatchingOption(options, newValue, highlightedOption, useInteractiveGroups);\n        if (nextHighlight) {\n            highlightOption(nextHighlight);\n        }\n    };\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar useLoadItems$1 = function (_a) {\n    var onLoadItems = _a.onLoadItems, options = _a.options, statusType = _a.statusType;\n    var prevFilteringText = react.useRef(undefined);\n    var fireLoadItems = function (filteringText) {\n        if (prevFilteringText.current === filteringText) {\n            return;\n        }\n        prevFilteringText.current = filteringText;\n        fireNonCancelableEvent(onLoadItems, { filteringText: filteringText, firstPage: true, samePage: false });\n    };\n    var handleLoadMore = function () {\n        var firstPage = options.length === 0;\n        statusType === 'pending' &&\n            fireNonCancelableEvent(onLoadItems, {\n                firstPage: firstPage,\n                samePage: false,\n                filteringText: prevFilteringText.current || ''\n            });\n    };\n    var handleRecoveryClick = function () {\n        return fireNonCancelableEvent(onLoadItems, {\n            firstPage: false,\n            samePage: true,\n            filteringText: prevFilteringText.current || ''\n        });\n    };\n    return {\n        fireLoadItems: fireLoadItems,\n        handleLoadMore: handleLoadMore,\n        handleRecoveryClick: handleRecoveryClick\n    };\n};\n\nfunction defaultOptionDescription(option, parentGroup) {\n    return [parentGroup && parentGroup.label, option.label || option.value, option.description, option.labelTag]\n        .concat(option.tags)\n        .filter(function (el) { return !!el; })\n        .join(' ');\n}\n\n/**\n * The hook produces the live region string to be announced when an option is highlighted.\n * This is a workaround to account for the issues with assistive technologies.\n *\n * If the testing reveals no issues with the native announcements the live-region can be removed.\n */\nfunction useAnnouncement(_a) {\n    var announceSelected = _a.announceSelected, highlightedOption = _a.highlightedOption, getParent = _a.getParent, selectedAriaLabel = _a.selectedAriaLabel, renderHighlightedAriaLive = _a.renderHighlightedAriaLive;\n    var prevAnnouncedGroup = react.useRef(undefined);\n    // Record previously announced group with a delay to account for possible re-renders of the hook.\n    react.useEffect(function () {\n        if (highlightedOption) {\n            var frameId_1 = requestAnimationFrame(function () {\n                prevAnnouncedGroup.current = getParent(highlightedOption);\n            });\n            return function () { return cancelAnimationFrame(frameId_1); };\n        }\n    });\n    if (!highlightedOption) {\n        return '';\n    }\n    var option = highlightedOption.option;\n    var parent = getParent(highlightedOption);\n    // Only announce parent group if it wasn't announced with previous option.\n    var group = parent && parent !== prevAnnouncedGroup.current ? parent : undefined;\n    // Use custom renderer if provided.\n    if (renderHighlightedAriaLive) {\n        return renderHighlightedAriaLive(option, group);\n    }\n    // Use default renderer with selected ARIA label if defined and relevant.\n    var selectedPrefix = announceSelected && selectedAriaLabel ? selectedAriaLabel : '';\n    var defaultDescription = defaultOptionDescription(option, group);\n    return [selectedPrefix, defaultDescription].filter(Boolean).join(' ');\n}\n\nconst styles$8 = {\n  \"options-list\": \"awsui_options-list_19gcf_1wdy7_93\",\n  \"decrease-top-margin\": \"awsui_decrease-top-margin_19gcf_1wdy7_113\"\n};\n\nvar BOTTOM_TRIGGER_OFFSET = 80;\nvar getItemIndex = function (containerRef, event) {\n    var target = findUpUntil(event.target, function (element) { return element === containerRef.current || !!element.dataset.mouseTarget; });\n    var mouseTarget = target === null || target === void 0 ? void 0 : target.dataset.mouseTarget;\n    return mouseTarget ? parseInt(mouseTarget) : -1;\n};\nvar OptionsList = function (_a, ref) {\n    var _b;\n    var open = _a.open, children = _a.children, _c = _a.nativeAttributes, nativeAttributes = _c === void 0 ? {} : _c, onKeyDown = _a.onKeyDown, onBlur = _a.onBlur, onFocus = _a.onFocus, onLoadMore = _a.onLoadMore, onMouseUp = _a.onMouseUp, onMouseMove = _a.onMouseMove, _d = _a.position, position = _d === void 0 ? 'relative' : _d, _e = _a.role, role = _e === void 0 ? 'listbox' : _e, _f = _a.decreaseTopMargin, decreaseTopMargin = _f === void 0 ? false : _f, ariaLabelledby = _a.ariaLabelledby, restProps = __rest(_a, [\"open\", \"children\", \"nativeAttributes\", \"onKeyDown\", \"onBlur\", \"onFocus\", \"onLoadMore\", \"onMouseUp\", \"onMouseMove\", \"position\", \"role\", \"decreaseTopMargin\", \"ariaLabelledby\"]);\n    var baseProps = getBaseProps(restProps);\n    var menuRef = react.useRef(null);\n    var handleScroll = function () {\n        var scrollContainer = menuRef === null || menuRef === void 0 ? void 0 : menuRef.current;\n        if (scrollContainer) {\n            var bottomEdgePosition = scrollContainer.scrollTop + scrollContainer.clientHeight;\n            var remainingScrollHeight = scrollContainer.scrollHeight - bottomEdgePosition;\n            if (remainingScrollHeight < BOTTOM_TRIGGER_OFFSET) {\n                fireNonCancelableEvent(onLoadMore);\n            }\n        }\n    };\n    react.useEffect(function () {\n        if (!open) {\n            return;\n        }\n        handleScroll();\n    });\n    var className = clsx(styles$8['options-list'], (_b = {},\n        _b[styles$8['decrease-top-margin']] = decreaseTopMargin,\n        _b));\n    var mergedRef = useMergeRefs$1(ref, menuRef);\n    return (react.createElement(\"ul\", __assign({}, baseProps, nativeAttributes, { className: className, ref: mergedRef, style: { position: position }, role: role, onScroll: handleScroll, onKeyDown: function (event) { return onKeyDown && fireKeyboardEvent(onKeyDown, event); }, onMouseMove: function (event) { return onMouseMove === null || onMouseMove === void 0 ? void 0 : onMouseMove(getItemIndex(menuRef, event)); }, onMouseUp: function (event) { return onMouseUp === null || onMouseUp === void 0 ? void 0 : onMouseUp(getItemIndex(menuRef, event)); }, onBlur: function (event) { return fireNonCancelableEvent(onBlur, { relatedTarget: getBlurEventRelatedTarget(event.nativeEvent) }); }, onFocus: function () { return fireNonCancelableEvent(onFocus); }, tabIndex: -1, \"aria-labelledby\": ariaLabelledby }), open && children));\n};\nconst OptionsList$1 = react.forwardRef(OptionsList);\n\nconst styles$7 = {\n  \"placeholder\": \"awsui_placeholder_dwuol_mf4fo_93\",\n  \"item\": \"awsui_item_dwuol_mf4fo_98\",\n  \"checkbox\": \"awsui_checkbox_dwuol_mf4fo_102\",\n  \"filter\": \"awsui_filter_dwuol_mf4fo_111\",\n  \"trigger\": \"awsui_trigger_dwuol_mf4fo_116\",\n  \"layout-strut\": \"awsui_layout-strut_dwuol_mf4fo_122\",\n  \"list-bottom\": \"awsui_list-bottom_dwuol_mf4fo_128\",\n  \"selected-icon\": \"awsui_selected-icon_dwuol_mf4fo_132\",\n  \"show-label-tag\": \"awsui_show-label-tag_dwuol_mf4fo_136\"\n};\n\nconst styles$6 = {\n  \"option\": \"awsui_option_1p2cx_q2hb5_97\",\n  \"disabled\": \"awsui_disabled_1p2cx_q2hb5_113\",\n  \"parent\": \"awsui_parent_1p2cx_q2hb5_116\",\n  \"content\": \"awsui_content_1p2cx_q2hb5_123\",\n  \"label-content\": \"awsui_label-content_1p2cx_q2hb5_130\",\n  \"label\": \"awsui_label_1p2cx_q2hb5_130\",\n  \"tag\": \"awsui_tag_1p2cx_q2hb5_137\",\n  \"label-tag\": \"awsui_label-tag_1p2cx_q2hb5_138\",\n  \"label-prefix\": \"awsui_label-prefix_1p2cx_q2hb5_149\",\n  \"tags\": \"awsui_tags_1p2cx_q2hb5_162\",\n  \"description\": \"awsui_description_1p2cx_q2hb5_163\",\n  \"icon\": \"awsui_icon_1p2cx_q2hb5_180\",\n  \"icon-size-big\": \"awsui_icon-size-big_1p2cx_q2hb5_187\",\n  \"filtering-match-highlight\": \"awsui_filtering-match-highlight_1p2cx_q2hb5_191\",\n  \"trigger-variant\": \"awsui_trigger-variant_1p2cx_q2hb5_206\"\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar splitOnFiltering = function (str, highlightText) {\n    // Filtering needs to be case insensitive\n    var filteringPattern = highlightText.replace(/[-[\\]/{}()*+?.\\\\^$|]/g, '\\\\$&');\n    var regexp = new RegExp(filteringPattern, 'gi');\n    var noMatches = str.split(regexp);\n    var matches = str.match(regexp);\n    return { noMatches: noMatches, matches: matches };\n};\nvar Highlight = function (_a) {\n    var str = _a.str;\n    return str ? react.createElement(\"span\", { className: clsx(styles$6['filtering-match-highlight']) }, str) : null;\n};\nfunction HighlightMatch(_a) {\n    var str = _a.str, highlightText = _a.highlightText;\n    if (!str || !highlightText) {\n        return react.createElement(react.Fragment, null, str);\n    }\n    if (str === highlightText) {\n        return react.createElement(Highlight, { str: str });\n    }\n    var _b = splitOnFiltering(str, highlightText), noMatches = _b.noMatches, matches = _b.matches;\n    var highlighted = [];\n    noMatches.forEach(function (noMatch, idx) {\n        highlighted.push(noMatch);\n        if (matches && idx < matches.length) {\n            highlighted.push(react.createElement(Highlight, { key: idx, str: matches[idx] }));\n        }\n    });\n    return react.createElement(\"span\", null, highlighted);\n}\n\nvar Label = function (_a) {\n    var label = _a.label, prefix = _a.prefix, highlightText = _a.highlightText, triggerVariant = _a.triggerVariant;\n    return (react.createElement(\"span\", { className: clsx(styles$6.label, triggerVariant && styles$6['trigger-variant']) },\n        prefix && (react.createElement(\"span\", { className: clsx(styles$6['label-prefix'], triggerVariant && styles$6['trigger-variant']) },\n            prefix,\n            \" \")),\n        react.createElement(HighlightMatch, { str: label, highlightText: highlightText })));\n};\nvar LabelTag = function (_a) {\n    var labelTag = _a.labelTag, highlightText = _a.highlightText, triggerVariant = _a.triggerVariant;\n    return labelTag ? (react.createElement(\"span\", { className: clsx(styles$6['label-tag'], triggerVariant && styles$6['trigger-variant']) },\n        react.createElement(HighlightMatch, { str: labelTag, highlightText: highlightText }))) : null;\n};\nvar Description = function (_a) {\n    var description = _a.description, highlightText = _a.highlightText, triggerVariant = _a.triggerVariant;\n    return description ? (\n    // We do not reach AA compliance in Dark mode for highlighted state\n    // TODO: Remove aria-disabled={true} when we fix AWSUI-10333\n    react.createElement(\"span\", { className: clsx(styles$6.description, triggerVariant && styles$6['trigger-variant']), \"aria-disabled\": true },\n        react.createElement(HighlightMatch, { str: description, highlightText: highlightText }))) : null;\n};\nvar Tags = function (_a) {\n    var tags = _a.tags, highlightText = _a.highlightText, triggerVariant = _a.triggerVariant;\n    return tags ? (react.createElement(\"span\", { className: clsx(styles$6.tags) }, tags.map(function (tag, idx) { return (\n    // We do not reach AA compliance in Dark mode for highlighted state\n    // TODO: Remove aria-disabled={true} when we fix AWSUI-10333\n    react.createElement(\"span\", { key: idx, className: clsx(styles$6.tag, triggerVariant && styles$6['trigger-variant']), \"aria-disabled\": true },\n        react.createElement(HighlightMatch, { str: tag, highlightText: highlightText }))); }))) : null;\n};\nvar FilteringTags = function (_a) {\n    var filteringTags = _a.filteringTags, highlightText = _a.highlightText, triggerVariant = _a.triggerVariant;\n    if (!highlightText || !filteringTags) {\n        return null;\n    }\n    var searchElement = highlightText.toLowerCase();\n    return (react.createElement(\"span\", { className: clsx(styles$6.tags) }, filteringTags.map(function (filteringTag, key) {\n        var match = filteringTag.toLowerCase().indexOf(searchElement) !== -1;\n        if (match) {\n            return (\n            // We do not reach AA compliance in Dark mode for highlighted state\n            // TODO: Remove aria-disabled={true} when we fix AWSUI-10333\n            react.createElement(\"span\", { className: clsx(styles$6.tag, triggerVariant && styles$6['trigger-variant']), key: key, \"aria-disabled\": true },\n                react.createElement(HighlightMatch, { str: filteringTag, highlightText: highlightText })));\n        }\n        return null;\n    })));\n};\nvar OptionIcon = function (props) {\n    if (!props.name && !props.url && !props.svg) {\n        return null;\n    }\n    return (react.createElement(\"span\", { className: clsx(styles$6.icon, props.size === 'big' && [styles$6[\"icon-size-big\"]]) },\n        react.createElement(InternalIcon, __assign({}, props))));\n};\n\nvar Option = function (_a) {\n    var option = _a.option, highlightText = _a.highlightText, _d = _a.triggerVariant, triggerVariant = _d === void 0 ? false : _d, _e = _a.isGroupOption, isGroupOption = _e === void 0 ? false : _e, restProps = __rest(_a, [\"option\", \"highlightText\", \"triggerVariant\", \"isGroupOption\"]);\n    if (!option) {\n        return null;\n    }\n    var disabled = option.disabled;\n    var baseProps = getBaseProps(restProps);\n    var className = clsx(styles$6.option, disabled && styles$6.disabled, isGroupOption && styles$6.parent);\n    var icon = option.__customIcon || (react.createElement(OptionIcon, { name: option.iconName, url: option.iconUrl, svg: option.iconSvg, alt: option.iconAlt, size: option.description || option.tags ? 'big' : 'normal' }));\n    return (react.createElement(\"span\", __assign({ title: option.label || option.value, \"data-value\": option.value, className: className, \"aria-disabled\": disabled }, baseProps),\n        icon,\n        react.createElement(\"span\", { className: clsx(styles$6.content) },\n            react.createElement(\"span\", { className: clsx(styles$6['label-content']) },\n                react.createElement(Label, { label: option.label || option.value, prefix: option.__labelPrefix, highlightText: highlightText, triggerVariant: triggerVariant }),\n                react.createElement(LabelTag, { labelTag: option.labelTag, highlightText: highlightText, triggerVariant: triggerVariant })),\n            react.createElement(Description, { description: option.description, highlightText: highlightText, triggerVariant: triggerVariant }),\n            react.createElement(Tags, { tags: option.tags, highlightText: highlightText, triggerVariant: triggerVariant }),\n            react.createElement(FilteringTags, { filteringTags: option.filteringTags, highlightText: highlightText, triggerVariant: triggerVariant }))));\n};\n\nconst styles$5 = {\n  \"selectable-item\": \"awsui_selectable-item_15o6u_1ndqp_93\",\n  \"pad-bottom\": \"awsui_pad-bottom_15o6u_1ndqp_113\",\n  \"has-background\": \"awsui_has-background_15o6u_1ndqp_122\",\n  \"highlighted\": \"awsui_highlighted_15o6u_1ndqp_125\",\n  \"selected\": \"awsui_selected_15o6u_1ndqp_125\",\n  \"disabled\": \"awsui_disabled_15o6u_1ndqp_139\",\n  \"next-item-selected\": \"awsui_next-item-selected_15o6u_1ndqp_147\",\n  \"is-keyboard\": \"awsui_is-keyboard_15o6u_1ndqp_155\",\n  \"parent\": \"awsui_parent_15o6u_1ndqp_159\",\n  \"interactiveGroups\": \"awsui_interactiveGroups_15o6u_1ndqp_163\",\n  \"child\": \"awsui_child_15o6u_1ndqp_175\",\n  \"virtual\": \"awsui_virtual_15o6u_1ndqp_190\",\n  \"measure-strut\": \"awsui_measure-strut_15o6u_1ndqp_201\",\n  \"measure-strut-first\": \"awsui_measure-strut-first_15o6u_1ndqp_210\",\n  \"screenreader-content\": \"awsui_screenreader-content_15o6u_1ndqp_214\",\n  \"option-content\": \"awsui_option-content_15o6u_1ndqp_220\"\n};\n\nvar SelectableItem = function (_a, ref) {\n    var _b;\n    var content = _a.children, ariaSelected = _a.ariaSelected, ariaChecked = _a.ariaChecked, selected = _a.selected, highlighted = _a.highlighted, disabled = _a.disabled, hasBackground = _a.hasBackground, isParent = _a.isParent, isChild = _a.isChild, virtualPosition = _a.virtualPosition, padBottom = _a.padBottom, isNextSelected = _a.isNextSelected, useInteractiveGroups = _a.useInteractiveGroups, screenReaderContent = _a.screenReaderContent, ariaPosinset = _a.ariaPosinset, ariaSetsize = _a.ariaSetsize, highlightType = _a.highlightType, restProps = __rest(_a, [\"children\", \"ariaSelected\", \"ariaChecked\", \"selected\", \"highlighted\", \"disabled\", \"hasBackground\", \"isParent\", \"isChild\", \"virtualPosition\", \"padBottom\", \"isNextSelected\", \"useInteractiveGroups\", \"screenReaderContent\", \"ariaPosinset\", \"ariaSetsize\", \"highlightType\"]);\n    var _c = getBaseProps(restProps), className = _c.className, rest = __rest(_c, [\"className\"]);\n    var classNames = clsx(className, styles$5['selectable-item'], (_b = {},\n        _b[styles$5.selected] = selected,\n        _b[styles$5.highlighted] = highlighted,\n        _b[styles$5['has-background']] = hasBackground,\n        _b[styles$5.parent] = isParent,\n        _b[styles$5.child] = isChild,\n        _b[styles$5['is-keyboard']] = highlightType === 'keyboard',\n        _b[styles$5.disabled] = disabled,\n        _b[styles$5.virtual] = virtualPosition !== undefined,\n        _b[styles$5['pad-bottom']] = padBottom,\n        _b[styles$5['next-item-selected']] = isNextSelected,\n        _b[styles$5.interactiveGroups] = useInteractiveGroups,\n        _b));\n    var contentRef = react.useRef(null);\n    var screenReaderContentRef = react.useRef(null);\n    react.useLayoutEffect(function () {\n        // the state of aria-hidden and announcement is not set back because NVDA+Firefox would announce\n        // the item which lost highlight\n        // set aria-hidden true when there is announcement content, so that screen reader still announce\n        // meaningful content when navigate with screen reader cursor\n        // imperatively update to avoid announcement made multiple times when content updates\n        if (highlighted && screenReaderContent) {\n            if (contentRef.current) {\n                contentRef.current.setAttribute('aria-hidden', 'true');\n            }\n            if (screenReaderContentRef.current) {\n                screenReaderContentRef.current.textContent = screenReaderContent;\n            }\n        }\n    }, [highlighted, screenReaderContent, contentRef, screenReaderContentRef]);\n    var style = virtualPosition !== undefined\n        ? {\n            transform: \"translateY(\".concat(virtualPosition, \"px)\")\n        }\n        : undefined;\n    var a11yProperties = {\n        'aria-disabled': disabled\n    };\n    if (isParent && !useInteractiveGroups) {\n        a11yProperties['aria-hidden'] = true;\n    }\n    if (ariaSelected) {\n        a11yProperties['aria-selected'] = ariaSelected;\n    }\n    // Safari+VO needs aria-checked for multi-selection. Otherwise it only announces selected option even though another option is highlighted.\n    if (ariaChecked) {\n        a11yProperties['aria-checked'] = ariaChecked;\n    }\n    if (ariaPosinset && ariaSetsize) {\n        a11yProperties['aria-posinset'] = ariaPosinset;\n        a11yProperties['aria-setsize'] = ariaSetsize;\n    }\n    return (react.createElement(\"li\", __assign({ role: \"option\", className: classNames, style: style }, a11yProperties, rest),\n        react.createElement(\"div\", { className: styles$5['option-content'], ref: contentRef }, content),\n        react.createElement(\"div\", { className: styles$5['measure-strut'], ref: ref }),\n        react.createElement(\"div\", { className: styles$5['screenreader-content'], ref: screenReaderContentRef })));\n};\nconst SelectableItem$1 = react.forwardRef(SelectableItem);\n\nvar Item = function (_a, ref) {\n    var option = _a.option, highlighted = _a.highlighted, selected = _a.selected, filteringValue = _a.filteringValue, hasCheckbox = _a.hasCheckbox, virtualPosition = _a.virtualPosition, padBottom = _a.padBottom, isNextSelected = _a.isNextSelected, screenReaderContent = _a.screenReaderContent, ariaPosinset = _a.ariaPosinset, ariaSetsize = _a.ariaSetsize, highlightType = _a.highlightType, restProps = __rest(_a, [\"option\", \"highlighted\", \"selected\", \"filteringValue\", \"hasCheckbox\", \"virtualPosition\", \"padBottom\", \"isNextSelected\", \"screenReaderContent\", \"ariaPosinset\", \"ariaSetsize\", \"highlightType\"]);\n    var baseProps = getBaseProps(restProps);\n    var isParent = option.type === 'parent';\n    var isChild = option.type === 'child';\n    var wrappedOption = option.option;\n    var disabled = option.disabled || wrappedOption.disabled;\n    return (react.createElement(SelectableItem$1, __assign({ ariaSelected: selected, selected: selected, isNextSelected: isNextSelected, highlighted: highlighted, disabled: option.disabled, isParent: isParent, isChild: isChild, ref: ref, virtualPosition: virtualPosition, padBottom: padBottom, screenReaderContent: screenReaderContent, ariaPosinset: ariaPosinset, ariaSetsize: ariaSetsize, highlightType: highlightType }, baseProps),\n        react.createElement(\"div\", { className: clsx(styles$7.item, !isParent && wrappedOption.labelTag && styles$7['show-label-tag']) },\n            hasCheckbox && !isParent && (react.createElement(\"div\", { className: styles$7.checkbox },\n                react.createElement(CheckboxIcon, { checked: selected || false, disabled: option.disabled }))),\n            isParent ? (wrappedOption.label || wrappedOption.value) : (react.createElement(Option, { option: __assign(__assign({}, wrappedOption), { disabled: disabled }), highlightText: filteringValue })),\n            !hasCheckbox && !isParent && selected && (react.createElement(\"div\", { className: styles$7['selected-icon'] },\n                react.createElement(InternalIcon, { name: \"check\" }))))));\n};\nconst Item$1 = react.memo(react.forwardRef(Item));\n\nvar MultiSelectItem = function (_a, ref) {\n    var _b;\n    var option = _a.option, highlighted = _a.highlighted, selected = _a.selected, filteringValue = _a.filteringValue, hasCheckbox = _a.hasCheckbox, virtualPosition = _a.virtualPosition, padBottom = _a.padBottom, isNextSelected = _a.isNextSelected, indeterminate = _a.indeterminate, screenReaderContent = _a.screenReaderContent, ariaPosinset = _a.ariaPosinset, ariaSetsize = _a.ariaSetsize, highlightType = _a.highlightType, restProps = __rest(_a, [\"option\", \"highlighted\", \"selected\", \"filteringValue\", \"hasCheckbox\", \"virtualPosition\", \"padBottom\", \"isNextSelected\", \"indeterminate\", \"screenReaderContent\", \"ariaPosinset\", \"ariaSetsize\", \"highlightType\"]);\n    var baseProps = getBaseProps(restProps);\n    var isParent = option.type === 'parent';\n    var isChild = option.type === 'child';\n    var wrappedOption = option.option;\n    var disabled = option.disabled || wrappedOption.disabled;\n    var className = clsx(styles$7.item, (_b = {},\n        _b[styles$7.disabled] = disabled,\n        _b));\n    return (react.createElement(SelectableItem$1, __assign({ ariaChecked: selected, selected: selected, isNextSelected: isNextSelected, highlighted: highlighted, disabled: disabled, isParent: isParent, isChild: isChild, highlightType: highlightType, ref: ref, virtualPosition: virtualPosition, padBottom: padBottom, useInteractiveGroups: true, screenReaderContent: screenReaderContent, ariaPosinset: ariaPosinset, ariaSetsize: ariaSetsize }, baseProps),\n        react.createElement(\"div\", { className: className },\n            hasCheckbox && (react.createElement(\"div\", { className: styles$7.checkbox },\n                react.createElement(CheckboxIcon, { checked: selected, indeterminate: isParent && indeterminate, disabled: option.disabled }))),\n            react.createElement(Option, { option: __assign(__assign({}, wrappedOption), { disabled: disabled }), highlightText: filteringValue, isGroupOption: isParent }))));\n};\nconst MutliselectItem = react.memo(react.forwardRef(MultiSelectItem));\n\nvar getItemProps = function (_a) {\n    var _b;\n    var option = _a.option, index = _a.index, getOptionProps = _a.getOptionProps, filteringValue = _a.filteringValue, _c = _a.checkboxes, checkboxes = _c === void 0 ? false : _c;\n    var optionProps = getOptionProps(option, index);\n    optionProps.filteringValue = filteringValue;\n    var _d = getTestOptionIndexes(option) || {}, inGroupIndex = _d.inGroupIndex, groupIndex = _d.groupIndex, throughIndex = _d.throughIndex;\n    return __assign(__assign({}, optionProps), (_b = { hasCheckbox: checkboxes }, _b['data-group-index'] = groupIndex, _b['data-child-index'] = inGroupIndex, _b['data-test-index'] = throughIndex, _b));\n};\n\nvar renderOptions = function (_a) {\n    var options = _a.options, getOptionProps = _a.getOptionProps, filteringValue = _a.filteringValue, highlightType = _a.highlightType, _b = _a.checkboxes, checkboxes = _b === void 0 ? false : _b, hasDropdownStatus = _a.hasDropdownStatus, virtualItems = _a.virtualItems, useInteractiveGroups = _a.useInteractiveGroups, screenReaderContent = _a.screenReaderContent, ariaSetsize = _a.ariaSetsize;\n    return options.map(function (option, index) {\n        var virtualItem = virtualItems && virtualItems[index];\n        var globalIndex = virtualItem ? virtualItem.index : index;\n        var props = getItemProps({\n            option: option,\n            index: globalIndex,\n            getOptionProps: getOptionProps,\n            filteringValue: filteringValue,\n            checkboxes: checkboxes\n        });\n        var isLastItem = index === options.length - 1;\n        var padBottom = !hasDropdownStatus && isLastItem;\n        var ListItem = useInteractiveGroups ? MutliselectItem : Item$1;\n        return (react.createElement(ListItem, __assign({ key: globalIndex }, props, { virtualPosition: virtualItem && virtualItem.start, ref: virtualItem && virtualItem.measureRef, padBottom: padBottom, screenReaderContent: screenReaderContent, ariaPosinset: globalIndex + 1, ariaSetsize: ariaSetsize, highlightType: highlightType })));\n    });\n};\n\nvar PlainList$1 = function (_a, ref) {\n    var menuProps = _a.menuProps, getOptionProps = _a.getOptionProps, filteredOptions = _a.filteredOptions, filteringValue = _a.filteringValue, highlightType = _a.highlightType, checkboxes = _a.checkboxes, hasDropdownStatus = _a.hasDropdownStatus, listBottom = _a.listBottom, useInteractiveGroups = _a.useInteractiveGroups, screenReaderContent = _a.screenReaderContent;\n    var menuRef = menuProps.ref;\n    react.useImperativeHandle(ref, function () { return function (index) {\n        var _a;\n        var item = (_a = menuRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(\"[data-mouse-target=\\\"\".concat(index, \"\\\"]\"));\n        if (highlightType === 'keyboard' && item) {\n            scrollElementIntoView(item);\n        }\n    }; }, [highlightType, menuRef]);\n    return (react.createElement(OptionsList$1, __assign({}, menuProps),\n        renderOptions({\n            options: filteredOptions,\n            getOptionProps: getOptionProps,\n            filteringValue: filteringValue,\n            highlightType: highlightType,\n            checkboxes: checkboxes,\n            hasDropdownStatus: hasDropdownStatus,\n            useInteractiveGroups: useInteractiveGroups,\n            screenReaderContent: screenReaderContent\n        }),\n        listBottom ? (react.createElement(\"li\", { role: \"option\", className: styles$7['list-bottom'] }, listBottom)) : null));\n};\nconst PlainList$2 = react.forwardRef(PlainList$1);\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar props = ['bottom', 'height', 'left', 'right', 'top', 'width'];\n\nvar rectChanged = function rectChanged(a, b) {\n  if (a === void 0) {\n    a = {};\n  }\n\n  if (b === void 0) {\n    b = {};\n  }\n\n  return props.some(function (prop) {\n    return a[prop] !== b[prop];\n  });\n};\n\nvar observedNodes = /*#__PURE__*/new Map();\nvar rafId;\n\nvar run = function run() {\n  var changedStates = [];\n  observedNodes.forEach(function (state, node) {\n    var newRect = node.getBoundingClientRect();\n\n    if (rectChanged(newRect, state.rect)) {\n      state.rect = newRect;\n      changedStates.push(state);\n    }\n  });\n  changedStates.forEach(function (state) {\n    state.callbacks.forEach(function (cb) {\n      return cb(state.rect);\n    });\n  });\n  rafId = window.requestAnimationFrame(run);\n};\n\nfunction observeRect(node, cb) {\n  return {\n    observe: function observe() {\n      var wasEmpty = observedNodes.size === 0;\n\n      if (observedNodes.has(node)) {\n        observedNodes.get(node).callbacks.push(cb);\n      } else {\n        observedNodes.set(node, {\n          rect: undefined,\n          hasRectChanged: false,\n          callbacks: [cb]\n        });\n      }\n\n      if (wasEmpty) run();\n    },\n    unobserve: function unobserve() {\n      var state = observedNodes.get(node);\n\n      if (state) {\n        // Remove the callback\n        var index = state.callbacks.indexOf(cb);\n        if (index >= 0) state.callbacks.splice(index, 1); // Remove the node reference\n\n        if (!state.callbacks.length) observedNodes[\"delete\"](node); // Stop the loop\n\n        if (!observedNodes.size) cancelAnimationFrame(rafId);\n      }\n    }\n  };\n}\n\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? react.useLayoutEffect : react.useEffect;\n\nfunction useRect(nodeRef, initialRect) {\n  if (initialRect === void 0) {\n    initialRect = {\n      width: 0,\n      height: 0\n    };\n  }\n\n  var _React$useState = react.useState(nodeRef.current),\n      element = _React$useState[0],\n      setElement = _React$useState[1];\n\n  var _React$useReducer = react.useReducer(rectReducer, initialRect),\n      rect = _React$useReducer[0],\n      dispatch = _React$useReducer[1];\n\n  var initialRectSet = react.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (nodeRef.current !== element) {\n      setElement(nodeRef.current);\n    }\n  });\n  useIsomorphicLayoutEffect(function () {\n    if (element && !initialRectSet.current) {\n      initialRectSet.current = true;\n\n      var _rect = element.getBoundingClientRect();\n\n      dispatch({\n        rect: _rect\n      });\n    }\n  }, [element]);\n  react.useEffect(function () {\n    if (!element) {\n      return;\n    }\n\n    var observer = observeRect(element, function (rect) {\n      dispatch({\n        rect: rect\n      });\n    });\n    observer.observe();\n    return function () {\n      observer.unobserve();\n    };\n  }, [element]);\n  return rect;\n}\n\nfunction rectReducer(state, action) {\n  var rect = action.rect;\n\n  if (state.height !== rect.height || state.width !== rect.width) {\n    return rect;\n  }\n\n  return state;\n}\n\nvar defaultEstimateSize = function defaultEstimateSize() {\n  return 50;\n};\n\nvar defaultKeyExtractor = function defaultKeyExtractor(index) {\n  return index;\n};\n\nvar defaultMeasureSize = function defaultMeasureSize(el, horizontal) {\n  var key = horizontal ? 'offsetWidth' : 'offsetHeight';\n  return el[key];\n};\n\nvar defaultRangeExtractor = function defaultRangeExtractor(range) {\n  var start = Math.max(range.start - range.overscan, 0);\n  var end = Math.min(range.end + range.overscan, range.size - 1);\n  var arr = [];\n\n  for (var i = start; i <= end; i++) {\n    arr.push(i);\n  }\n\n  return arr;\n};\nfunction useVirtual(_ref) {\n  var _measurements;\n\n  var _ref$size = _ref.size,\n      size = _ref$size === void 0 ? 0 : _ref$size,\n      _ref$estimateSize = _ref.estimateSize,\n      estimateSize = _ref$estimateSize === void 0 ? defaultEstimateSize : _ref$estimateSize,\n      _ref$overscan = _ref.overscan,\n      overscan = _ref$overscan === void 0 ? 1 : _ref$overscan,\n      _ref$paddingStart = _ref.paddingStart,\n      paddingStart = _ref$paddingStart === void 0 ? 0 : _ref$paddingStart,\n      _ref$paddingEnd = _ref.paddingEnd,\n      paddingEnd = _ref$paddingEnd === void 0 ? 0 : _ref$paddingEnd,\n      parentRef = _ref.parentRef,\n      horizontal = _ref.horizontal,\n      scrollToFn = _ref.scrollToFn,\n      useObserver = _ref.useObserver,\n      initialRect = _ref.initialRect,\n      onScrollElement = _ref.onScrollElement,\n      scrollOffsetFn = _ref.scrollOffsetFn,\n      _ref$keyExtractor = _ref.keyExtractor,\n      keyExtractor = _ref$keyExtractor === void 0 ? defaultKeyExtractor : _ref$keyExtractor,\n      _ref$measureSize = _ref.measureSize,\n      measureSize = _ref$measureSize === void 0 ? defaultMeasureSize : _ref$measureSize,\n      _ref$rangeExtractor = _ref.rangeExtractor,\n      rangeExtractor = _ref$rangeExtractor === void 0 ? defaultRangeExtractor : _ref$rangeExtractor;\n  var sizeKey = horizontal ? 'width' : 'height';\n  var scrollKey = horizontal ? 'scrollLeft' : 'scrollTop';\n  var latestRef = react.useRef({\n    scrollOffset: 0,\n    measurements: []\n  });\n\n  var _React$useState = react.useState(0),\n      scrollOffset = _React$useState[0],\n      setScrollOffset = _React$useState[1];\n\n  latestRef.current.scrollOffset = scrollOffset;\n  var useMeasureParent = useObserver || useRect;\n\n  var _useMeasureParent = useMeasureParent(parentRef, initialRect),\n      outerSize = _useMeasureParent[sizeKey];\n\n  latestRef.current.outerSize = outerSize;\n  var defaultScrollToFn = react.useCallback(function (offset) {\n    if (parentRef.current) {\n      parentRef.current[scrollKey] = offset;\n    }\n  }, [parentRef, scrollKey]);\n  var resolvedScrollToFn = scrollToFn || defaultScrollToFn;\n  scrollToFn = react.useCallback(function (offset) {\n    resolvedScrollToFn(offset, defaultScrollToFn);\n  }, [defaultScrollToFn, resolvedScrollToFn]);\n\n  var _React$useState2 = react.useState({}),\n      measuredCache = _React$useState2[0],\n      setMeasuredCache = _React$useState2[1];\n\n  var measure = react.useCallback(function () {\n    return setMeasuredCache({});\n  }, []);\n  var pendingMeasuredCacheIndexesRef = react.useRef([]);\n  var measurements = react.useMemo(function () {\n    var min = pendingMeasuredCacheIndexesRef.current.length > 0 ? Math.min.apply(Math, pendingMeasuredCacheIndexesRef.current) : 0;\n    pendingMeasuredCacheIndexesRef.current = [];\n    var measurements = latestRef.current.measurements.slice(0, min);\n\n    for (var i = min; i < size; i++) {\n      var key = keyExtractor(i);\n      var measuredSize = measuredCache[key];\n\n      var _start = measurements[i - 1] ? measurements[i - 1].end : paddingStart;\n\n      var _size = typeof measuredSize === 'number' ? measuredSize : estimateSize(i);\n\n      var _end = _start + _size;\n\n      measurements[i] = {\n        index: i,\n        start: _start,\n        size: _size,\n        end: _end,\n        key: key\n      };\n    }\n\n    return measurements;\n  }, [estimateSize, measuredCache, paddingStart, size, keyExtractor]);\n  var totalSize = (((_measurements = measurements[size - 1]) == null ? void 0 : _measurements.end) || paddingStart) + paddingEnd;\n  latestRef.current.measurements = measurements;\n  latestRef.current.totalSize = totalSize;\n  var element = onScrollElement ? onScrollElement.current : parentRef.current;\n  var scrollOffsetFnRef = react.useRef(scrollOffsetFn);\n  scrollOffsetFnRef.current = scrollOffsetFn;\n  useIsomorphicLayoutEffect(function () {\n    if (!element) {\n      setScrollOffset(0);\n      return;\n    }\n\n    var onScroll = function onScroll(event) {\n      var offset = scrollOffsetFnRef.current ? scrollOffsetFnRef.current(event) : element[scrollKey];\n      setScrollOffset(offset);\n    };\n\n    onScroll();\n    element.addEventListener('scroll', onScroll, {\n      capture: false,\n      passive: true\n    });\n    return function () {\n      element.removeEventListener('scroll', onScroll);\n    };\n  }, [element, scrollKey]);\n\n  var _calculateRange = calculateRange(latestRef.current),\n      start = _calculateRange.start,\n      end = _calculateRange.end;\n\n  var indexes = react.useMemo(function () {\n    return rangeExtractor({\n      start: start,\n      end: end,\n      overscan: overscan,\n      size: measurements.length\n    });\n  }, [start, end, overscan, measurements.length, rangeExtractor]);\n  var measureSizeRef = react.useRef(measureSize);\n  measureSizeRef.current = measureSize;\n  var virtualItems = react.useMemo(function () {\n    var virtualItems = [];\n\n    var _loop = function _loop(k, len) {\n      var i = indexes[k];\n      var measurement = measurements[i];\n\n      var item = _extends(_extends({}, measurement), {}, {\n        measureRef: function measureRef(el) {\n          if (el) {\n            var measuredSize = measureSizeRef.current(el, horizontal);\n\n            if (measuredSize !== item.size) {\n              var _scrollOffset = latestRef.current.scrollOffset;\n\n              if (item.start < _scrollOffset) {\n                defaultScrollToFn(_scrollOffset + (measuredSize - item.size));\n              }\n\n              pendingMeasuredCacheIndexesRef.current.push(i);\n              setMeasuredCache(function (old) {\n                var _extends2;\n\n                return _extends(_extends({}, old), {}, (_extends2 = {}, _extends2[item.key] = measuredSize, _extends2));\n              });\n            }\n          }\n        }\n      });\n\n      virtualItems.push(item);\n    };\n\n    for (var k = 0, len = indexes.length; k < len; k++) {\n      _loop(k);\n    }\n\n    return virtualItems;\n  }, [indexes, defaultScrollToFn, horizontal, measurements]);\n  var mountedRef = react.useRef(false);\n  useIsomorphicLayoutEffect(function () {\n    if (mountedRef.current) {\n      setMeasuredCache({});\n    }\n\n    mountedRef.current = true;\n  }, [estimateSize]);\n  var scrollToOffset = react.useCallback(function (toOffset, _temp) {\n    var _ref2 = _temp === void 0 ? {} : _temp,\n        _ref2$align = _ref2.align,\n        align = _ref2$align === void 0 ? 'start' : _ref2$align;\n\n    var _latestRef$current = latestRef.current,\n        scrollOffset = _latestRef$current.scrollOffset,\n        outerSize = _latestRef$current.outerSize;\n\n    if (align === 'auto') {\n      if (toOffset <= scrollOffset) {\n        align = 'start';\n      } else if (toOffset >= scrollOffset + outerSize) {\n        align = 'end';\n      } else {\n        align = 'start';\n      }\n    }\n\n    if (align === 'start') {\n      scrollToFn(toOffset);\n    } else if (align === 'end') {\n      scrollToFn(toOffset - outerSize);\n    } else if (align === 'center') {\n      scrollToFn(toOffset - outerSize / 2);\n    }\n  }, [scrollToFn]);\n  var tryScrollToIndex = react.useCallback(function (index, _temp2) {\n    var _ref3 = _temp2 === void 0 ? {} : _temp2,\n        _ref3$align = _ref3.align,\n        align = _ref3$align === void 0 ? 'auto' : _ref3$align,\n        rest = _objectWithoutPropertiesLoose(_ref3, [\"align\"]);\n\n    var _latestRef$current2 = latestRef.current,\n        measurements = _latestRef$current2.measurements,\n        scrollOffset = _latestRef$current2.scrollOffset,\n        outerSize = _latestRef$current2.outerSize;\n    var measurement = measurements[Math.max(0, Math.min(index, size - 1))];\n\n    if (!measurement) {\n      return;\n    }\n\n    if (align === 'auto') {\n      if (measurement.end >= scrollOffset + outerSize) {\n        align = 'end';\n      } else if (measurement.start <= scrollOffset) {\n        align = 'start';\n      } else {\n        return;\n      }\n    }\n\n    var toOffset = align === 'center' ? measurement.start + measurement.size / 2 : align === 'end' ? measurement.end : measurement.start;\n    scrollToOffset(toOffset, _extends({\n      align: align\n    }, rest));\n  }, [scrollToOffset, size]);\n  var scrollToIndex = react.useCallback(function () {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    // We do a double request here because of\n    // dynamic sizes which can cause offset shift\n    // and end up in the wrong spot. Unfortunately,\n    // we can't know about those dynamic sizes until\n    // we try and render them. So double down!\n    tryScrollToIndex.apply(void 0, args);\n    requestAnimationFrame(function () {\n      tryScrollToIndex.apply(void 0, args);\n    });\n  }, [tryScrollToIndex]);\n  return {\n    virtualItems: virtualItems,\n    totalSize: totalSize,\n    scrollToOffset: scrollToOffset,\n    scrollToIndex: scrollToIndex,\n    measure: measure\n  };\n}\n\nvar findNearestBinarySearch = function findNearestBinarySearch(low, high, getCurrentValue, value) {\n  while (low <= high) {\n    var middle = (low + high) / 2 | 0;\n    var currentValue = getCurrentValue(middle);\n\n    if (currentValue < value) {\n      low = middle + 1;\n    } else if (currentValue > value) {\n      high = middle - 1;\n    } else {\n      return middle;\n    }\n  }\n\n  if (low > 0) {\n    return low - 1;\n  } else {\n    return 0;\n  }\n};\n\nfunction calculateRange(_ref4) {\n  var measurements = _ref4.measurements,\n      outerSize = _ref4.outerSize,\n      scrollOffset = _ref4.scrollOffset;\n  var size = measurements.length - 1;\n\n  var getOffset = function getOffset(index) {\n    return measurements[index].start;\n  };\n\n  var start = findNearestBinarySearch(0, size, getOffset, scrollOffset);\n  var end = start;\n\n  while (end < size && measurements[end].end < scrollOffset + outerSize) {\n    end++;\n  }\n\n  return {\n    start: start,\n    end: end\n  };\n}\n\nvar VirtualList$1 = function (props, ref) {\n    return props.menuProps.open ? react.createElement(VirtualListOpen, __assign({}, props, { ref: ref })) : react.createElement(VirtualListClosed, __assign({}, props, { ref: ref }));\n};\nvar VirtualListOpen = react.forwardRef(function (_a, ref) {\n    var menuProps = _a.menuProps, getOptionProps = _a.getOptionProps, filteredOptions = _a.filteredOptions, filteringValue = _a.filteringValue, highlightType = _a.highlightType, checkboxes = _a.checkboxes, hasDropdownStatus = _a.hasDropdownStatus, listBottom = _a.listBottom, useInteractiveGroups = _a.useInteractiveGroups, screenReaderContent = _a.screenReaderContent;\n    // update component, when it gets wider or narrower to reposition items\n    var _b = useContainerQuery(function (rect) { return rect.width; }, []), width = _b[0], menuMeasureRef = _b[1];\n    var menuRefObject = react.useRef(null);\n    var menuRef = useMergeRefs$1(menuMeasureRef, menuRefObject, menuProps.ref);\n    var _c = useVirtual({\n        size: filteredOptions.length,\n        parentRef: menuRefObject,\n        // estimateSize is a dependency of measurements memo. We update it to force full recalculation\n        // when the height of any option could have changed:\n        // 1: because the component got resized (width property got updated)\n        // 2: because the option changed its content (filteringValue property controls the highlight and the visibility of hidden tags)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        estimateSize: react.useCallback(function () { return 31; }, [width, filteringValue]),\n        overscan: 5\n    }), virtualItems = _c.virtualItems, totalSize = _c.totalSize, scrollToIndex = _c.scrollToIndex;\n    react.useImperativeHandle(ref, function () { return function (index) {\n        if (highlightType === 'keyboard') {\n            scrollToIndex(index);\n        }\n    }; }, [highlightType, scrollToIndex]);\n    var finalOptions = renderOptions({\n        options: virtualItems.map(function (_a) {\n            var index = _a.index;\n            return filteredOptions[index];\n        }),\n        getOptionProps: getOptionProps,\n        filteringValue: filteringValue,\n        highlightType: highlightType,\n        checkboxes: checkboxes,\n        hasDropdownStatus: hasDropdownStatus,\n        virtualItems: virtualItems,\n        useInteractiveGroups: useInteractiveGroups,\n        screenReaderContent: screenReaderContent,\n        ariaSetsize: filteredOptions.length\n    });\n    return (react.createElement(OptionsList$1, __assign({}, menuProps, { ref: menuRef }),\n        react.createElement(\"div\", { \"aria-hidden\": \"true\", key: \"total-size\", className: styles$7['layout-strut'], style: { height: totalSize } }),\n        finalOptions,\n        listBottom ? (react.createElement(\"li\", { role: \"option\", className: styles$7['list-bottom'] }, listBottom)) : null));\n});\nvar VirtualListClosed = react.forwardRef(function (_a, ref) {\n    var menuProps = _a.menuProps, listBottom = _a.listBottom;\n    react.useImperativeHandle(ref, function () { return function () { }; }, []);\n    return (react.createElement(OptionsList$1, __assign({}, menuProps, { ref: menuProps.ref }), listBottom ? (react.createElement(\"li\", { role: \"option\", className: styles$7['list-bottom'] }, listBottom)) : null));\n});\nconst VirtualList$2 = react.forwardRef(VirtualList$1);\n\nvar Filter = react.forwardRef(function (_a, ref) {\n    var filteringType = _a.filteringType, filterProps = __rest(_a, [\"filteringType\"]);\n    if (filteringType === 'none') {\n        return null;\n    }\n    return (react.createElement(InternalInput, __assign({ ref: ref, type: \"search\", className: styles$7.filter, autoComplete: false, disableBrowserAutocorrect: true, invalid: false, __noBorderRadius: true }, filterProps, { __nativeAttributes: __assign({ 'aria-expanded': true, 'aria-haspopup': true, role: 'combobox', autoCorrect: 'off', autoCapitalize: 'off' }, filterProps.__nativeAttributes) })));\n});\n\nconst buttonTriggerStyles = {\n  \"button-trigger\": \"awsui_button-trigger_18eso_1si9w_97\",\n  \"arrow\": \"awsui_arrow_18eso_1si9w_97\",\n  \"has-caret\": \"awsui_has-caret_18eso_1si9w_135\",\n  \"placeholder\": \"awsui_placeholder_18eso_1si9w_138\",\n  \"pressed\": \"awsui_pressed_18eso_1si9w_151\",\n  \"disabled\": \"awsui_disabled_18eso_1si9w_154\",\n  \"in-filtering-token\": \"awsui_in-filtering-token_18eso_1si9w_163\",\n  \"read-only\": \"awsui_read-only_18eso_1si9w_169\",\n  \"invalid\": \"awsui_invalid_18eso_1si9w_186\"\n};\n\nvar ButtonTrigger = function (_a, ref) {\n    var children = _a.children, _b = _a.pressed, pressed = _b === void 0 ? false : _b, _c = _a.hideCaret, hideCaret = _c === void 0 ? false : _c, _d = _a.disabled, disabled = _d === void 0 ? false : _d, _e = _a.readOnly, readOnly = _e === void 0 ? false : _e, _f = _a.invalid, invalid = _f === void 0 ? false : _f, inFilteringToken = _a.inFilteringToken, ariaHasPopup = _a.ariaHasPopup, ariaLabel = _a.ariaLabel, ariaLabelledby = _a.ariaLabelledby, ariaDescribedby = _a.ariaDescribedby, onKeyDown = _a.onKeyDown, onKeyUp = _a.onKeyUp, onMouseDown = _a.onMouseDown, onClick = _a.onClick, onFocus = _a.onFocus, onBlur = _a.onBlur, restProps = __rest(_a, [\"children\", \"pressed\", \"hideCaret\", \"disabled\", \"readOnly\", \"invalid\", \"inFilteringToken\", \"ariaHasPopup\", \"ariaLabel\", \"ariaLabelledby\", \"ariaDescribedby\", \"onKeyDown\", \"onKeyUp\", \"onMouseDown\", \"onClick\", \"onFocus\", \"onBlur\"]);\n    var baseProps = getBaseProps(restProps);\n    var focusVisible = useFocusVisible();\n    var attributes = __assign(__assign(__assign({}, focusVisible), baseProps), { type: 'button', className: clsx(buttonTriggerStyles['button-trigger'], baseProps.className, pressed && buttonTriggerStyles.pressed, disabled && buttonTriggerStyles.disabled, invalid && buttonTriggerStyles.invalid, !hideCaret && buttonTriggerStyles['has-caret'], readOnly && buttonTriggerStyles['read-only'], inFilteringToken && buttonTriggerStyles['in-filtering-token']), disabled: disabled || readOnly, 'aria-expanded': pressed, 'aria-label': ariaLabel, 'aria-labelledby': ariaLabelledby, 'aria-describedby': ariaDescribedby, 'aria-haspopup': ariaHasPopup !== null && ariaHasPopup !== void 0 ? ariaHasPopup : 'listbox', onKeyDown: onKeyDown && (function (event) { return fireKeyboardEvent(onKeyDown, event); }), onKeyUp: onKeyUp && (function (event) { return fireKeyboardEvent(onKeyUp, event); }), onMouseDown: onMouseDown && (function (event) { return fireCancelableEvent(onMouseDown, {}, event); }), onClick: onClick && (function (event) { return fireCancelableEvent(onClick, {}, event); }), onFocus: onFocus && (function (event) { return fireCancelableEvent(onFocus, {}, event); }), onBlur: onBlur &&\n            (function (event) { return fireCancelableEvent(onBlur, { relatedTarget: getBlurEventRelatedTarget(event.nativeEvent) }, event); }) });\n    if (invalid) {\n        attributes['aria-invalid'] = invalid;\n    }\n    return (react.createElement(\"button\", __assign({ ref: ref }, attributes),\n        children,\n        !hideCaret && (react.createElement(\"span\", { className: buttonTriggerStyles.arrow },\n            react.createElement(InternalIcon, { name: \"caret-down-filled\", variant: disabled ? 'disabled' : 'normal' })))));\n};\nconst ButtonTrigger$1 = react.forwardRef(ButtonTrigger);\n\nvar Trigger = react.forwardRef(function (_a, ref) {\n    var ariaLabelledby = _a.ariaLabelledby, ariaDescribedby = _a.ariaDescribedby, controlId = _a.controlId, invalid = _a.invalid, triggerProps = _a.triggerProps, selectedOption = _a.selectedOption, triggerVariant = _a.triggerVariant, inFilteringToken = _a.inFilteringToken, isOpen = _a.isOpen, placeholder = _a.placeholder, disabled = _a.disabled, ariaLabel = _a.ariaLabel;\n    var id = react.useMemo(function () { return controlId !== null && controlId !== void 0 ? controlId : generateUniqueId(); }, [controlId]);\n    var triggerContent = null;\n    if (!selectedOption) {\n        triggerContent = (react.createElement(\"span\", { \"aria-disabled\": \"true\", className: clsx(styles$7.placeholder, styles$7.trigger), id: triggerProps.ariaLabelledby }, placeholder));\n    }\n    else if (triggerVariant === 'option') {\n        triggerContent = (react.createElement(Option, { id: triggerProps.ariaLabelledby, option: __assign(__assign({}, selectedOption), { disabled: disabled }), triggerVariant: true }));\n    }\n    else {\n        triggerContent = (react.createElement(\"span\", { id: triggerProps.ariaLabelledby, className: styles$7.trigger }, selectedOption.label || selectedOption.value));\n    }\n    var mergedRef = useMergeRefs$1(triggerProps.ref, ref);\n    return (react.createElement(ButtonTrigger$1, __assign({}, triggerProps, { id: id, ref: mergedRef, pressed: isOpen, disabled: disabled, invalid: invalid, inFilteringToken: inFilteringToken, ariaLabel: ariaLabel, ariaDescribedby: ariaDescribedby, ariaLabelledby: [ariaLabelledby, triggerProps.ariaLabelledby].filter(function (label) { return !!label; }).join(' ') }), triggerContent));\n});\n\nconst styles$4 = {\n  \"root\": \"awsui_root_dm8gx_15qqo_97\",\n  \"has-items\": \"awsui_has-items_dm8gx_15qqo_107\",\n  \"token\": \"awsui_token_dm8gx_15qqo_111\",\n  \"dismiss-button\": \"awsui_dismiss-button_dm8gx_15qqo_123\",\n  \"token-disabled\": \"awsui_token-disabled_dm8gx_15qqo_157\",\n  \"toggle\": \"awsui_toggle_dm8gx_15qqo_172\",\n  \"description\": \"awsui_description_dm8gx_15qqo_233\"\n};\n\nvar SelectToggle = function (_a) {\n    var controlId = _a.controlId, allHidden = _a.allHidden, expanded = _a.expanded, numberOfHiddenOptions = _a.numberOfHiddenOptions, onClick = _a.onClick, _b = _a.i18nStrings, i18nStrings = _b === void 0 ? {} : _b;\n    var focusVisible = useFocusVisible();\n    var numberOfHiddenOptionLabel = allHidden ? numberOfHiddenOptions : \"+\".concat(numberOfHiddenOptions);\n    var description = expanded\n        ? i18nStrings.limitShowFewer\n        : \"\".concat(i18nStrings.limitShowMore || '', \" (\").concat(numberOfHiddenOptionLabel, \")\");\n    var handleClick = react.useCallback(function () {\n        fireNonCancelableEvent(onClick, null);\n    }, [onClick]);\n    return (react.createElement(\"button\", __assign({ type: \"button\", className: styles$4.toggle, onClick: handleClick, \"aria-controls\": controlId, \"aria-expanded\": expanded }, focusVisible),\n        react.createElement(InternalIcon, { name: expanded ? 'treeview-collapse' : 'treeview-expand' }),\n        react.createElement(\"span\", { className: styles$4.description }, description)));\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar useSelectVisibleOption = function (filteredItems, selectOption, isInteractive) {\n    return react.useCallback(function (index) {\n        var option = filteredItems[index];\n        if (option && isInteractive(option)) {\n            selectOption(option);\n        }\n    }, [filteredItems, selectOption, isInteractive]);\n};\nvar useHighlightVisibleOption = function (filteredItems, setHighlightedIndex, isHighlightable) {\n    return react.useCallback(function (index) {\n        var option = filteredItems[index];\n        if (option && isHighlightable(option)) {\n            setHighlightedIndex(index);\n        }\n    }, [filteredItems, setHighlightedIndex, isHighlightable]);\n};\nvar useKeyboardHandler = function (_a) {\n    var open = _a.open, onPressArrowDown = _a.onPressArrowDown, onPressArrowUp = _a.onPressArrowUp, onPressEnter = _a.onPressEnter, onPressEsc = _a.onPressEsc, onKeyDown = _a.onKeyDown;\n    return function (e) {\n        switch (e.detail.keyCode) {\n            case KeyCode.down: {\n                onPressArrowDown();\n                e.preventDefault();\n                break;\n            }\n            case KeyCode.up: {\n                onPressArrowUp();\n                e.preventDefault();\n                break;\n            }\n            case KeyCode.enter: {\n                if (open) {\n                    onPressEnter();\n                    e.preventDefault();\n                }\n                onKeyDown(e);\n                break;\n            }\n            case KeyCode.escape: {\n                onPressEsc();\n                e.preventDefault();\n                onKeyDown(e);\n                break;\n            }\n            default: {\n                onKeyDown(e);\n            }\n        }\n    };\n};\n\nvar isGroup$1 = function (option) { return 'type' in option && option.type === 'parent'; };\nvar popLastGroup = function (options) {\n    if (options.length) {\n        var lastOption = options[options.length - 1];\n        if (isGroup$1(lastOption)) {\n            options.pop();\n        }\n    }\n};\nvar filterOptions = function (options, text) {\n    var filteredOptions = options.reduce(function (filteredIn, option) {\n        if (isGroup$1(option)) {\n            popLastGroup(filteredIn);\n            filteredIn.push(option);\n        }\n        else if (matchSingleOption(option, text)) {\n            filteredIn.push(option);\n        }\n        return filteredIn;\n    }, []);\n    popLastGroup(filteredOptions);\n    return filteredOptions;\n};\nvar matchSingleOption = function (option, text) {\n    var searchableFields = ['value', 'label', 'description', 'labelTag'];\n    var searchableTagFields = ['tags', 'filteringTags'];\n    var searchText = text.toLowerCase();\n    var searchStrFieldsFn = function (attr) { return matchString(option[attr], searchText); };\n    var searchTagsFieldsFn = function (attr) { var _a; return (_a = option[attr]) === null || _a === void 0 ? void 0 : _a.some(function (value) { return matchString(value, searchText); }); };\n    return searchableFields.some(searchStrFieldsFn) || searchableTagFields.some(searchTagsFieldsFn);\n};\nvar matchString = function (value, searchText) {\n    return value && value.toLowerCase().indexOf(searchText) !== -1;\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar isHighlightable$1 = function (option) {\n    return !!option && option.type !== 'parent';\n};\nvar parentMap = new WeakMap();\nvar getParentGroup = function (item) { return parentMap.get(item); };\nvar isInteractive$1 = function (option) { return !!option && !option.disabled && option.type !== 'parent'; };\nvar useAutosuggestItems = function (_a) {\n    var options = _a.options, filterValue = _a.filterValue, filterText = _a.filterText, filteringType = _a.filteringType, hideEnteredTextLabel = _a.hideEnteredTextLabel, onSelectItem = _a.onSelectItem;\n    var _b = react.useState(false), showAll = _b[0], setShowAll = _b[1];\n    var items = react.useMemo(function () { return createItems(options); }, [options]);\n    var filteredItems = react.useMemo(function () {\n        var filteredItems = filteringType === 'auto' && !showAll ? filterOptions(items, filterText) : __spreadArray([], items, true);\n        if (filterValue && !hideEnteredTextLabel) {\n            filteredItems.unshift({ value: filterValue, type: 'use-entered', option: { value: filterValue } });\n        }\n        generateTestIndexes(filteredItems, getParentGroup);\n        return filteredItems;\n    }, [items, filterValue, filterText, filteringType, showAll, hideEnteredTextLabel]);\n    var _c = useHighlightedOption({\n        options: filteredItems,\n        isHighlightable: isHighlightable$1\n    }), highlightedOptionState = _c[0], highlightedOptionHandlers = _c[1];\n    var selectHighlightedOptionWithKeyboard = function () {\n        if (highlightedOptionState.highlightedOption && isInteractive$1(highlightedOptionState.highlightedOption)) {\n            onSelectItem(highlightedOptionState.highlightedOption);\n            return true;\n        }\n        return false;\n    };\n    return [\n        __assign({ items: filteredItems, showAll: showAll }, highlightedOptionState),\n        __assign({ setShowAll: setShowAll, selectHighlightedOptionWithKeyboard: selectHighlightedOptionWithKeyboard }, highlightedOptionHandlers),\n    ];\n};\nfunction createItems(options) {\n    var items = [];\n    for (var _i = 0, options_1 = options; _i < options_1.length; _i++) {\n        var option = options_1[_i];\n        if (isGroup(option)) {\n            for (var _a = 0, _b = flattenGroup(option); _a < _b.length; _a++) {\n                var item = _b[_a];\n                items.push(item);\n            }\n        }\n        else {\n            items.push(__assign(__assign({}, option), { option: option }));\n        }\n    }\n    return items;\n}\nfunction isGroup(optionOrGroup) {\n    return 'options' in optionOrGroup;\n}\nfunction flattenGroup(group) {\n    var options = group.options, rest = __rest(group, [\"options\"]);\n    var hasOnlyDisabledChildren = true;\n    var items = [__assign(__assign({}, rest), { type: 'parent', option: group })];\n    for (var _i = 0, options_2 = options; _i < options_2.length; _i++) {\n        var option = options_2[_i];\n        if (!option.disabled) {\n            hasOnlyDisabledChildren = false;\n        }\n        var childOption = __assign(__assign({}, option), { type: 'child', disabled: option.disabled || rest.disabled, option: option });\n        items.push(childOption);\n        // TODO: Refactor parentMap and remove this side effect\n        parentMap.set(childOption, __assign(__assign({}, group), { option: group }));\n    }\n    items[0].disabled = items[0].disabled || hasOnlyDisabledChildren;\n    return items;\n}\n\nconst styles$3 = {\n  \"root\": \"awsui_root_12hwc_1ej6r_5\",\n  \"layout-strut\": \"awsui_layout-strut_12hwc_1ej6r_9\",\n  \"dropdown-footer\": \"awsui_dropdown-footer_12hwc_1ej6r_15\",\n  \"list-bottom\": \"awsui_list-bottom_12hwc_1ej6r_20\"\n};\n\nvar AutosuggestOption = function (_a, ref) {\n    var _b = _a.nativeAttributes, nativeAttributes = _b === void 0 ? {} : _b, highlightText = _a.highlightText, option = _a.option, highlighted = _a.highlighted, highlightType = _a.highlightType, enteredTextLabel = _a.enteredTextLabel, virtualPosition = _a.virtualPosition, padBottom = _a.padBottom, screenReaderContent = _a.screenReaderContent, ariaSetsize = _a.ariaSetsize, ariaPosinset = _a.ariaPosinset, rest = __rest(_a, [\"nativeAttributes\", \"highlightText\", \"option\", \"highlighted\", \"highlightType\", \"enteredTextLabel\", \"virtualPosition\", \"padBottom\", \"screenReaderContent\", \"ariaSetsize\", \"ariaPosinset\"]);\n    var baseProps = getBaseProps(rest);\n    var useEntered = 'type' in option && option.type === 'use-entered';\n    var isParent = 'type' in option && option.type === 'parent';\n    var isChild = 'type' in option && option.type === 'child';\n    var _c = getTestOptionIndexes(option) || {}, throughIndex = _c.throughIndex, inGroupIndex = _c.inGroupIndex, groupIndex = _c.groupIndex;\n    var optionContent;\n    if (useEntered) {\n        optionContent = enteredTextLabel(option.value || '');\n    }\n    else if (isParent) {\n        optionContent = option.label;\n    }\n    else {\n        var a11yProperties = {};\n        if (nativeAttributes['aria-label']) {\n            a11yProperties['aria-label'] = nativeAttributes['aria-label'];\n        }\n        optionContent = (react.createElement(\"div\", __assign({}, a11yProperties),\n            react.createElement(Option, { option: option, highlightText: highlightText })));\n    }\n    return (react.createElement(SelectableItem$1, __assign({}, baseProps, { className: styles$3.option, ariaSelected: highlighted || undefined, highlighted: highlighted, disabled: option.disabled, hasBackground: useEntered, isParent: isParent, isChild: isChild, virtualPosition: virtualPosition, \"data-test-index\": throughIndex, \"data-in-group-index\": inGroupIndex, \"data-group-index\": groupIndex, ref: ref, padBottom: padBottom, screenReaderContent: screenReaderContent, ariaSetsize: ariaSetsize, ariaPosinset: ariaPosinset, highlightType: highlightType }), optionContent));\n};\nconst AutosuggestOption$1 = react.memo(react.forwardRef(AutosuggestOption));\n\nvar getOptionProps = function (index, item, filteredItems, highlightedA11yProps, highlightedOption, hasDropdownStatus) {\n    var nativeAttributes = item === highlightedOption ? highlightedA11yProps : {};\n    var baseOptionProps = getBaseProps(nativeAttributes);\n    var isLastItem = index === filteredItems.length - 1;\n    var isNotEnteredTextItem = filteredItems.length > 1;\n    var padBottom = !hasDropdownStatus && isNotEnteredTextItem && isLastItem;\n    return __assign({ nativeAttributes: nativeAttributes, padBottom: padBottom }, baseOptionProps);\n};\nvar PlainList = function (_a) {\n    var autosuggestItemsState = _a.autosuggestItemsState, handleLoadMore = _a.handleLoadMore, menuProps = _a.menuProps, enteredTextLabel = _a.enteredTextLabel, highlightedA11yProps = _a.highlightedA11yProps, hasDropdownStatus = _a.hasDropdownStatus, highlightText = _a.highlightText, listBottom = _a.listBottom, screenReaderContent = _a.screenReaderContent;\n    var listRef = react.useRef(null);\n    react.useEffect(function () {\n        var _a;\n        var item = (_a = listRef.current) === null || _a === void 0 ? void 0 : _a.querySelector(\"[data-mouse-target=\\\"\".concat(autosuggestItemsState.highlightedIndex, \"\\\"]\"));\n        if (autosuggestItemsState.highlightType === 'keyboard' && item) {\n            scrollElementIntoView(item);\n        }\n    }, [autosuggestItemsState.highlightType, autosuggestItemsState.highlightedIndex]);\n    return (react.createElement(OptionsList$1, __assign({}, menuProps, { onLoadMore: handleLoadMore, open: true, ref: listRef, \n        // to prevent closing the list when clicking the scrollbar on IE11\n        nativeAttributes: { unselectable: 'on' } }),\n        autosuggestItemsState.items.map(function (item, index) {\n            var optionProps = getOptionProps(index, item, autosuggestItemsState.items, highlightedA11yProps, autosuggestItemsState.highlightedOption, hasDropdownStatus);\n            return (react.createElement(AutosuggestOption$1, __assign({ highlightText: highlightText, option: item, highlighted: item === autosuggestItemsState.highlightedOption, key: index, \"data-mouse-target\": index, enteredTextLabel: enteredTextLabel, screenReaderContent: screenReaderContent, highlightType: autosuggestItemsState.highlightType }, optionProps)));\n        }),\n        listBottom ? (react.createElement(\"li\", { role: \"option\", className: styles$3['list-bottom'] }, listBottom)) : null));\n};\n\nvar VirtualList = function (_a) {\n    var autosuggestItemsState = _a.autosuggestItemsState, handleLoadMore = _a.handleLoadMore, menuProps = _a.menuProps, enteredTextLabel = _a.enteredTextLabel, highlightedA11yProps = _a.highlightedA11yProps, hasDropdownStatus = _a.hasDropdownStatus, highlightText = _a.highlightText, listBottom = _a.listBottom, screenReaderContent = _a.screenReaderContent;\n    var scrollRef = react.useRef(null);\n    // update component, when it gets wider or narrower to reposition items\n    var _b = useContainerQuery(function (rect) { return rect.width; }, []), width = _b[0], strutRef = _b[1];\n    react.useImperativeHandle(strutRef, function () { return scrollRef.current; });\n    var rowVirtualizer = useVirtual({\n        size: autosuggestItemsState.items.length,\n        parentRef: scrollRef,\n        // estimateSize is a dependency of measurements memo. We update it to force full recalculation\n        // when the height of any option could have changed:\n        // 1: because the component got resized (width property got updated)\n        // 2: becasue the option changed its content (highlightText property controls the highlight and the visibility of hidden tags)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n        estimateSize: react.useCallback(function () { return 31; }, [width, highlightText]),\n        overscan: 5\n    });\n    react.useEffect(function () {\n        if (autosuggestItemsState.highlightType === 'keyboard') {\n            rowVirtualizer.scrollToIndex(autosuggestItemsState.highlightedIndex);\n        }\n    }, [autosuggestItemsState.highlightType, autosuggestItemsState.highlightedIndex, rowVirtualizer]);\n    return (react.createElement(OptionsList$1, __assign({}, menuProps, { onLoadMore: handleLoadMore, ref: scrollRef, open: true, \n        // to prevent closing the list when clicking the scrollbar on IE11\n        nativeAttributes: { unselectable: 'on' } }),\n        react.createElement(\"div\", { \"aria-hidden\": \"true\", key: \"total-size\", className: styles$3['layout-strut'], style: { height: rowVirtualizer.totalSize + (autosuggestItemsState.items.length === 1 ? 1 : 0) } }),\n        rowVirtualizer.virtualItems.map(function (virtualRow) {\n            var index = virtualRow.index, start = virtualRow.start, measureRef = virtualRow.measureRef;\n            var item = autosuggestItemsState.items[index];\n            var optionProps = getOptionProps(index, item, autosuggestItemsState.items, highlightedA11yProps, autosuggestItemsState.highlightedOption, hasDropdownStatus);\n            return (react.createElement(AutosuggestOption$1, __assign({ key: index, ref: measureRef, highlightText: highlightText, option: item, highlighted: item === autosuggestItemsState.highlightedOption, \"data-mouse-target\": index, enteredTextLabel: enteredTextLabel, virtualPosition: start + (index === 0 ? 1 : 0), screenReaderContent: screenReaderContent, ariaSetsize: autosuggestItemsState.items.length, ariaPosinset: index + 1, highlightType: autosuggestItemsState.highlightType }, optionProps)));\n        }),\n        listBottom ? (react.createElement(\"li\", { role: \"option\", className: styles$3['list-bottom'] }, listBottom)) : null));\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar isInteractive = function (option) {\n    return !!option && !option.disabled && option.type !== 'parent';\n};\nvar isHighlightable = function (option) {\n    return !!option && option.type !== 'parent';\n};\nvar createMouseEventHandler = function (handler) { return function (itemIndex) {\n    // prevent mouse events to avoid losing focus from the input\n    if (itemIndex > -1) {\n        handler(itemIndex);\n    }\n}; };\nfunction AutosuggestOptionsList(_a) {\n    var autosuggestItemsState = _a.autosuggestItemsState, autosuggestItemsHandlers = _a.autosuggestItemsHandlers, selectOption = _a.selectOption, highlightedOptionId = _a.highlightedOptionId, highlightText = _a.highlightText, listId = _a.listId, controlId = _a.controlId, enteredTextLabel = _a.enteredTextLabel, handleLoadMore = _a.handleLoadMore, hasDropdownStatus = _a.hasDropdownStatus, virtualScroll = _a.virtualScroll, selectedAriaLabel = _a.selectedAriaLabel, renderHighlightedAriaLive = _a.renderHighlightedAriaLive, listBottom = _a.listBottom;\n    var highlightVisibleOption = useHighlightVisibleOption(autosuggestItemsState.items, autosuggestItemsHandlers.setHighlightedIndexWithMouse, isHighlightable);\n    var selectVisibleOption = useSelectVisibleOption(autosuggestItemsState.items, selectOption, isInteractive);\n    var handleMouseUp = createMouseEventHandler(selectVisibleOption);\n    var handleMouseMove = createMouseEventHandler(highlightVisibleOption);\n    var ListComponent = virtualScroll ? VirtualList : PlainList;\n    var announcement = useAnnouncement({\n        announceSelected: true,\n        highlightedOption: autosuggestItemsState.highlightedOption,\n        getParent: function (option) { var _a; return (_a = getParentGroup(option)) === null || _a === void 0 ? void 0 : _a.option; },\n        selectedAriaLabel: selectedAriaLabel,\n        renderHighlightedAriaLive: renderHighlightedAriaLive\n    });\n    return (react.createElement(ListComponent, { listBottom: listBottom, handleLoadMore: handleLoadMore, autosuggestItemsState: autosuggestItemsState, highlightText: highlightText, enteredTextLabel: enteredTextLabel, highlightedA11yProps: highlightedOptionId ? { id: highlightedOptionId } : {}, hasDropdownStatus: hasDropdownStatus, menuProps: { id: listId, ariaLabelledby: controlId, onMouseUp: handleMouseUp, onMouseMove: handleMouseMove }, screenReaderContent: announcement }));\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar useAutosuggestDropdown = function (_a) {\n    var readOnly = _a.readOnly, onClose = _a.onClose, onBlur = _a.onBlur;\n    var _b = react.useState(false), open = _b[0], setOpen = _b[1];\n    var footerRef = react.useRef(null);\n    var openDropdown = function () { return !readOnly && setOpen(true); };\n    var closeDropdown = function () {\n        setOpen(false);\n        onClose === null || onClose === void 0 ? void 0 : onClose();\n    };\n    var handleBlur = function (event) {\n        var _a;\n        var relatedTarget = getBlurEventRelatedTarget(event.nativeEvent);\n        if (event.currentTarget.contains(relatedTarget) || ((_a = footerRef.current) === null || _a === void 0 ? void 0 : _a.contains(relatedTarget))) {\n            return;\n        }\n        closeDropdown();\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur();\n    };\n    var handleMouseDown = function (event) {\n        // Prevent currently focused element from losing focus.\n        event.preventDefault();\n    };\n    return [{ open: open }, { openDropdown: openDropdown, closeDropdown: closeDropdown, handleBlur: handleBlur, handleMouseDown: handleMouseDown }, { footerRef: footerRef }];\n};\n\nvar useLoadMoreItems$1 = function (onLoadItems) {\n    var lastFilteringText = react.useRef(null);\n    return react.useCallback(function (firstPage, samePage, filteringText) {\n        if (samePage || !firstPage || filteringText === undefined || lastFilteringText.current !== filteringText) {\n            if (filteringText !== undefined) {\n                lastFilteringText.current = filteringText;\n            }\n            if (lastFilteringText.current !== null && onLoadItems) {\n                fireNonCancelableEvent(onLoadItems, { filteringText: lastFilteringText.current, firstPage: firstPage, samePage: samePage });\n            }\n        }\n    }, [onLoadItems]);\n};\nvar InternalAutosuggest = react.forwardRef(function (props, ref) {\n    var _a;\n    var value = props.value, onChange = props.onChange, onBlur = props.onBlur, onFocus = props.onFocus, onKeyUp = props.onKeyUp, onLoadItems = props.onLoadItems, options = props.options, _b = props.filteringType, filteringType = _b === void 0 ? 'auto' : _b, _c = props.statusType, statusType = _c === void 0 ? 'finished' : _c, placeholder = props.placeholder, name = props.name, disabled = props.disabled, _d = props.disableBrowserAutocorrect, disableBrowserAutocorrect = _d === void 0 ? false : _d, autoFocus = props.autoFocus, readOnly = props.readOnly, ariaLabel = props.ariaLabel, ariaRequired = props.ariaRequired, enteredTextLabel = props.enteredTextLabel, onKeyDown = props.onKeyDown, virtualScroll = props.virtualScroll, expandToViewport = props.expandToViewport, onSelect = props.onSelect, selectedAriaLabel = props.selectedAriaLabel, renderHighlightedAriaLive = props.renderHighlightedAriaLive, __internalRootRef = props.__internalRootRef, rest = __rest(props, [\"value\", \"onChange\", \"onBlur\", \"onFocus\", \"onKeyUp\", \"onLoadItems\", \"options\", \"filteringType\", \"statusType\", \"placeholder\", \"name\", \"disabled\", \"disableBrowserAutocorrect\", \"autoFocus\", \"readOnly\", \"ariaLabel\", \"ariaRequired\", \"enteredTextLabel\", \"onKeyDown\", \"virtualScroll\", \"expandToViewport\", \"onSelect\", \"selectedAriaLabel\", \"renderHighlightedAriaLive\", \"__internalRootRef\"]);\n    var selectOption = function (option) {\n        var value = option.value || '';\n        fireNonCancelableEvent(onChange, { value: value });\n        autosuggestDropdownHandlers.closeDropdown();\n        fireNonCancelableEvent(onSelect, { value: value });\n    };\n    var _e = useAutosuggestItems({\n        options: options || [],\n        filterValue: value,\n        filterText: value,\n        filteringType: filteringType,\n        hideEnteredTextLabel: false,\n        onSelectItem: selectOption\n    }), autosuggestItemsState = _e[0], autosuggestItemsHandlers = _e[1];\n    var _f = useAutosuggestDropdown({\n        readOnly: readOnly,\n        onClose: function () { return autosuggestItemsHandlers.resetHighlightWithKeyboard(); },\n        onBlur: function () { return fireNonCancelableEvent(onBlur); }\n    }), open = _f[0].open, autosuggestDropdownHandlers = _f[1], autosuggestDropdownRefs = _f[2];\n    var fireLoadMore = useLoadMoreItems$1(onLoadItems);\n    var handleInputChange = function (e) {\n        autosuggestDropdownHandlers.openDropdown();\n        autosuggestItemsHandlers.setShowAll(false);\n        autosuggestItemsHandlers.resetHighlightWithKeyboard();\n        onChange && onChange(e);\n    };\n    var handleKeyDown = useKeyboardHandler({\n        open: open,\n        onPressArrowDown: function () {\n            autosuggestItemsHandlers.moveHighlightWithKeyboard(1);\n            autosuggestDropdownHandlers.openDropdown();\n        },\n        onPressArrowUp: function () {\n            autosuggestItemsHandlers.moveHighlightWithKeyboard(-1);\n            autosuggestDropdownHandlers.openDropdown();\n        },\n        onPressEnter: function () {\n            autosuggestItemsHandlers.selectHighlightedOptionWithKeyboard();\n            autosuggestDropdownHandlers.closeDropdown();\n        },\n        onPressEsc: function () {\n            if (open) {\n                autosuggestDropdownHandlers.closeDropdown();\n            }\n            else if (value) {\n                fireNonCancelableEvent(onChange, { value: '' });\n            }\n        },\n        onKeyDown: function (e) {\n            fireCancelableEvent(onKeyDown, e.detail);\n        }\n    });\n    var handleLoadMore = react.useCallback(function () {\n        options && options.length && statusType === 'pending' && fireLoadMore(false, false);\n    }, [fireLoadMore, options, statusType]);\n    var handleRecoveryClick = react.useCallback(function () {\n        var _a;\n        fireLoadMore(false, true);\n        (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }, [fireLoadMore]);\n    var formFieldContext = useFormFieldContext(rest);\n    var baseProps = getBaseProps(rest);\n    var inputRef = react.useRef(null);\n    useForwardFocus(ref, inputRef);\n    var selfControlId = useUniqueId('input');\n    var controlId = (_a = formFieldContext.controlId) !== null && _a !== void 0 ? _a : selfControlId;\n    var dropdownId = useUniqueId('dropdown');\n    var listId = useUniqueId('list');\n    // From an a11y point of view we only count the dropdown as 'expanded' if there are items that a user can dropdown into\n    var expanded = open && autosuggestItemsState.items.length > 1;\n    var highlightedOptionId = autosuggestItemsState.highlightedOption ? generateUniqueId() : undefined;\n    var nativeAttributes = {\n        name: name,\n        placeholder: placeholder,\n        autoFocus: autoFocus,\n        onClick: autosuggestDropdownHandlers.openDropdown,\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-expanded': expanded,\n        'aria-controls': listId,\n        // 'aria-owns' needed for safari+vo to announce activedescendant content\n        'aria-owns': listId,\n        'aria-label': ariaLabel,\n        'aria-activedescendant': highlightedOptionId\n    };\n    var handleInputFocus = function (e) {\n        autosuggestItemsHandlers.setShowAll(true);\n        autosuggestDropdownHandlers.openDropdown();\n        fireLoadMore(true, false, '');\n        onFocus === null || onFocus === void 0 ? void 0 : onFocus(e);\n    };\n    var isEmpty = !value && !autosuggestItemsState.items.length;\n    var showRecoveryLink = open && statusType === 'error' && props.recoveryText;\n    var dropdownStatus = useDropdownStatus(__assign(__assign({}, props), { isEmpty: isEmpty, onRecoveryClick: handleRecoveryClick }));\n    return (react.createElement(\"div\", __assign({}, baseProps, { className: clsx(styles$3.root, baseProps.className), ref: __internalRootRef, onBlur: autosuggestDropdownHandlers.handleBlur }),\n        react.createElement(Dropdown, { trigger: react.createElement(InternalInput, __assign({ type: \"search\", value: value, onChange: handleInputChange, __onDelayedInput: function (event) { return fireLoadMore(true, false, event.detail.value); }, onFocus: handleInputFocus, onKeyDown: handleKeyDown, onKeyUp: onKeyUp, disabled: disabled, disableBrowserAutocorrect: disableBrowserAutocorrect, readOnly: readOnly, ariaRequired: ariaRequired, ref: inputRef, autoComplete: false, __nativeAttributes: nativeAttributes }, formFieldContext, { controlId: controlId })), onMouseDown: autosuggestDropdownHandlers.handleMouseDown, open: open, dropdownId: dropdownId, footer: dropdownStatus.isSticky ? (react.createElement(\"div\", { ref: autosuggestDropdownRefs.footerRef, className: styles$3['dropdown-footer'] },\n                react.createElement(DropdownFooter, { content: dropdownStatus.content, hasItems: autosuggestItemsState.items.length >= 1 }))) : null, expandToViewport: expandToViewport, hasContent: autosuggestItemsState.items.length >= 1 || dropdownStatus.content !== null, trapFocus: !!showRecoveryLink }, open && (react.createElement(AutosuggestOptionsList, { autosuggestItemsState: autosuggestItemsState, autosuggestItemsHandlers: autosuggestItemsHandlers, selectOption: selectOption, highlightedOptionId: highlightedOptionId, highlightText: value, listId: listId, controlId: controlId, enteredTextLabel: enteredTextLabel, handleLoadMore: handleLoadMore, hasDropdownStatus: dropdownStatus.content !== null, virtualScroll: virtualScroll, selectedAriaLabel: selectedAriaLabel, renderHighlightedAriaLive: renderHighlightedAriaLive, listBottom: !dropdownStatus.isSticky ? react.createElement(DropdownFooter, { content: dropdownStatus.content }) : null })))));\n});\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar Arrow = function (props) { return (react.createElement(\"div\", { className: clsx(styles$d.arrow, props.position && styles$d[\"arrow-position-\".concat(props.position)]) },\n    react.createElement(\"div\", { className: styles$d['arrow-outer'] }),\n    react.createElement(\"div\", { className: styles$d['arrow-inner'] }))); };\nconst Arrow$1 = react.memo(Arrow);\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n/**\n * A safe react portal component that renders to a provided node.\n * If a node isn't provided, it creates one under document.body.\n */\nfunction Portal(_a) {\n    var container = _a.container, children = _a.children;\n    var _b = react.useState(container !== null && container !== void 0 ? container : null), activeContainer = _b[0], setActiveContainer = _b[1];\n    react.useLayoutEffect(function () {\n        if (container) {\n            setActiveContainer(container);\n            return;\n        }\n        var newContainer = document.createElement('div');\n        document.body.appendChild(newContainer);\n        setActiveContainer(newContainer);\n        return function () {\n            document.body.removeChild(newContainer);\n            setActiveContainer(null);\n        };\n    }, [container]);\n    return activeContainer && reactDom.createPortal(children, activeContainer);\n}\n\nconst styles$2 = {\n  \"root\": \"awsui_root_r2vco_wid5c_93\"\n};\n\nvar InternalSelect = react.forwardRef(function (_a, externalRef) {\n    var _b;\n    var options = _a.options, _c = _a.filteringType, filteringType = _c === void 0 ? 'none' : _c, filteringPlaceholder = _a.filteringPlaceholder, filteringAriaLabel = _a.filteringAriaLabel, ariaRequired = _a.ariaRequired, placeholder = _a.placeholder, disabled = _a.disabled, ariaLabel = _a.ariaLabel, _d = _a.statusType, statusType = _d === void 0 ? 'finished' : _d, empty = _a.empty, loadingText = _a.loadingText, finishedText = _a.finishedText, errorText = _a.errorText, recoveryText = _a.recoveryText, noMatch = _a.noMatch, _e = _a.triggerVariant, triggerVariant = _e === void 0 ? 'label' : _e, selectedAriaLabel = _a.selectedAriaLabel, renderHighlightedAriaLive = _a.renderHighlightedAriaLive, selectedOption = _a.selectedOption, onBlur = _a.onBlur, onFocus = _a.onFocus, onLoadItems = _a.onLoadItems, onChange = _a.onChange, virtualScroll = _a.virtualScroll, expandToViewport = _a.expandToViewport, __inFilteringToken = _a.__inFilteringToken, _f = _a.__internalRootRef, __internalRootRef = _f === void 0 ? null : _f, restProps = __rest(_a, [\"options\", \"filteringType\", \"filteringPlaceholder\", \"filteringAriaLabel\", \"ariaRequired\", \"placeholder\", \"disabled\", \"ariaLabel\", \"statusType\", \"empty\", \"loadingText\", \"finishedText\", \"errorText\", \"recoveryText\", \"noMatch\", \"triggerVariant\", \"selectedAriaLabel\", \"renderHighlightedAriaLive\", \"selectedOption\", \"onBlur\", \"onFocus\", \"onLoadItems\", \"onChange\", \"virtualScroll\", \"expandToViewport\", \"__inFilteringToken\", \"__internalRootRef\"]);\n    var baseProps = getBaseProps(restProps);\n    var formFieldContext = useFormFieldContext(restProps);\n    var _g = useLoadItems$1({\n        onLoadItems: onLoadItems,\n        options: options,\n        statusType: statusType\n    }), handleLoadMore = _g.handleLoadMore, handleRecoveryClick = _g.handleRecoveryClick, fireLoadItems = _g.fireLoadItems;\n    var _h = react.useState(''), filteringValue = _h[0], setFilteringValue = _h[1];\n    var _j = prepareOptions(options, filteringType, filteringValue), filteredOptions = _j.filteredOptions, parentMap = _j.parentMap;\n    var rootRef = react.useRef(null);\n    var triggerRef = react.useRef(null);\n    var selfControlId = useUniqueId('trigger');\n    var controlId = (_b = formFieldContext.controlId) !== null && _b !== void 0 ? _b : selfControlId;\n    var scrollToIndex = react.useRef(null);\n    var _k = useSelect({\n        selectedOptions: selectedOption ? [selectedOption] : [],\n        updateSelectedOption: function (option) { return fireNonCancelableEvent(onChange, { selectedOption: option }); },\n        options: filteredOptions,\n        filteringType: filteringType,\n        onBlur: onBlur,\n        onFocus: onFocus,\n        externalRef: externalRef,\n        fireLoadItems: fireLoadItems,\n        setFilteringValue: setFilteringValue\n    }), isOpen = _k.isOpen, highlightType = _k.highlightType, highlightedOption = _k.highlightedOption, highlightedIndex = _k.highlightedIndex, getTriggerProps = _k.getTriggerProps, getFilterProps = _k.getFilterProps, getMenuProps = _k.getMenuProps, getOptionProps = _k.getOptionProps, highlightOption = _k.highlightOption, selectOption = _k.selectOption, announceSelected = _k.announceSelected;\n    var handleNativeSearch = useNativeSearch({\n        isEnabled: filteringType === 'none',\n        options: filteredOptions,\n        highlightOption: !isOpen ? selectOption : highlightOption,\n        highlightedOption: !isOpen ? selectedOption : highlightedOption === null || highlightedOption === void 0 ? void 0 : highlightedOption.option\n    });\n    react.useEffect(function () {\n        var _a;\n        (_a = scrollToIndex.current) === null || _a === void 0 ? void 0 : _a.call(scrollToIndex, highlightedIndex);\n    }, [highlightedIndex]);\n    var filter = (react.createElement(Filter, __assign({ filteringType: filteringType, placeholder: filteringPlaceholder, ariaLabel: filteringAriaLabel, ariaRequired: ariaRequired, value: filteringValue }, getFilterProps())));\n    var trigger = (react.createElement(Trigger, __assign({ ref: triggerRef, placeholder: placeholder, disabled: disabled, ariaLabel: ariaLabel, triggerVariant: triggerVariant, triggerProps: getTriggerProps(disabled), selectedOption: selectedOption, isOpen: isOpen, inFilteringToken: __inFilteringToken }, formFieldContext, { controlId: controlId })));\n    var menuProps = __assign(__assign({}, getMenuProps()), { onLoadMore: handleLoadMore, ariaLabelledby: controlId });\n    var isEmpty = !options || options.length === 0;\n    var isNoMatch = filteredOptions && filteredOptions.length === 0;\n    var dropdownStatus = useDropdownStatus({\n        statusType: statusType,\n        empty: empty,\n        loadingText: loadingText,\n        finishedText: finishedText,\n        errorText: errorText,\n        recoveryText: recoveryText,\n        isEmpty: isEmpty,\n        isNoMatch: isNoMatch,\n        noMatch: noMatch,\n        onRecoveryClick: handleRecoveryClick\n    });\n    var announcement = useAnnouncement({\n        announceSelected: announceSelected,\n        highlightedOption: highlightedOption,\n        getParent: function (option) { var _a; return (_a = parentMap.get(option)) === null || _a === void 0 ? void 0 : _a.option; },\n        selectedAriaLabel: selectedAriaLabel,\n        renderHighlightedAriaLive: renderHighlightedAriaLive\n    });\n    var ListComponent = virtualScroll ? VirtualList$2 : PlainList$2;\n    var handleMouseDown = function (event) {\n        var target = event.target;\n        if (target !== document.activeElement) {\n            // prevent currently focused element from losing it\n            event.preventDefault();\n        }\n    };\n    var mergedRef = useMergeRefs$1(rootRef, __internalRootRef);\n    return (react.createElement(\"div\", __assign({}, baseProps, { ref: mergedRef, className: clsx(styles$2.root, baseProps.className), onKeyPress: handleNativeSearch }),\n        react.createElement(Dropdown, { open: isOpen, stretchTriggerHeight: __inFilteringToken, trigger: trigger, header: filter, onMouseDown: handleMouseDown, footer: dropdownStatus.isSticky ? react.createElement(DropdownFooter, { content: dropdownStatus.content }) : null, expandToViewport: expandToViewport },\n            react.createElement(ListComponent, { listBottom: !dropdownStatus.isSticky ? react.createElement(DropdownFooter, { content: dropdownStatus.content }) : null, menuProps: menuProps, getOptionProps: getOptionProps, filteredOptions: filteredOptions, filteringValue: filteringValue, ref: scrollToIndex, hasDropdownStatus: dropdownStatus.content !== null, screenReaderContent: announcement, highlightType: highlightType }))));\n});\n\nconst InternalPopover = react.forwardRef(InternalPopover$1);\nfunction InternalPopover$1(_a, ref) {\n    var _b = _a.position, position = _b === void 0 ? 'right' : _b, _c = _a.size, size = _c === void 0 ? 'medium' : _c, _d = _a.fixedWidth, fixedWidth = _d === void 0 ? false : _d, _e = _a.triggerType, triggerType = _e === void 0 ? 'text' : _e, _f = _a.dismissButton, dismissButton = _f === void 0 ? true : _f, dismissAriaLabel = _a.dismissAriaLabel, children = _a.children, header = _a.header, content = _a.content, _g = _a.renderWithPortal, renderWithPortal = _g === void 0 ? false : _g, __onOpen = _a.__onOpen, _h = _a.__internalRootRef, __internalRootRef = _h === void 0 ? null : _h, restProps = __rest(_a, [\"position\", \"size\", \"fixedWidth\", \"triggerType\", \"dismissButton\", \"dismissAriaLabel\", \"children\", \"header\", \"content\", \"renderWithPortal\", \"__onOpen\", \"__internalRootRef\"]);\n    var baseProps = getBaseProps(restProps);\n    var focusVisible = useFocusVisible();\n    var triggerRef = react.useRef(null);\n    var popoverRef = react.useRef(null);\n    var clickFrameId = react.useRef(null);\n    var _j = react.useState(false), visible = _j[0], setVisible = _j[1];\n    var onTriggerClick = react.useCallback(function () {\n        fireNonCancelableEvent(__onOpen);\n        setVisible(true);\n    }, [__onOpen]);\n    var onDismiss = react.useCallback(function () {\n        setVisible(false);\n    }, []);\n    var onTriggerKeyDown = react.useCallback(function (event) {\n        if (event.keyCode === KeyCode.tab || event.keyCode === KeyCode.escape) {\n            setVisible(false);\n        }\n    }, []);\n    react.useImperativeHandle(ref, function () { return ({\n        dismissPopover: onDismiss\n    }); });\n    react.useEffect(function () {\n        if (!triggerRef.current) {\n            return;\n        }\n        var document = triggerRef.current.ownerDocument;\n        var onDocumentClick = function () {\n            // Dismiss popover unless there was a click inside within the last animation frame.\n            if (clickFrameId.current === null) {\n                setVisible(false);\n            }\n        };\n        // useCapture=false makes sure this listener is called after the one attached to the element.\n        // the options.capture notation is unsupported by IE.\n        document.addEventListener('mousedown', onDocumentClick, false);\n        return function () {\n            document.removeEventListener('mousedown', onDocumentClick, false);\n        };\n    }, []);\n    var popoverClasses = usePortalModeClasses(triggerRef);\n    var triggerProps = {\n        // https://github.com/microsoft/TypeScript/issues/36659\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ref: triggerRef,\n        onClick: onTriggerClick,\n        onKeyDown: onTriggerKeyDown,\n        className: clsx(styles$d.trigger, styles$d[\"trigger-type-\".concat(triggerType)])\n    };\n    var popoverContent = (react.createElement(\"span\", { \"aria-live\": dismissButton ? undefined : 'polite', \"aria-atomic\": dismissButton ? undefined : true, className: popoverClasses }, visible && (react.createElement(PopoverContainer, { position: position, trackRef: triggerRef, arrow: function (position) { return react.createElement(Arrow$1, { position: position }); }, renderWithPortal: renderWithPortal, zIndex: renderWithPortal ? 7000 : undefined },\n        react.createElement(PopoverBody, { size: size, fixedWidth: fixedWidth, dismissButton: dismissButton, dismissAriaLabel: dismissAriaLabel, header: header, onDismiss: onDismiss, overflowVisible: \"both\" }, content)))));\n    var mergedRef = useMergeRefs$1(popoverRef, __internalRootRef);\n    return (react.createElement(\"span\", __assign({}, baseProps, { className: clsx(styles$d.root, baseProps.className), ref: mergedRef, onMouseDown: function () {\n            // Indicate there was a click inside popover recently, including nested portals.\n            clickFrameId.current = requestAnimationFrame(function () {\n                clickFrameId.current = null;\n            });\n        } }),\n        triggerType === 'text' ? (react.createElement(\"button\", __assign({}, triggerProps, { type: \"button\", \"aria-haspopup\": \"dialog\" }, focusVisible),\n            react.createElement(\"span\", { className: styles$d['trigger-inner-text'] }, children))) : (react.createElement(\"span\", __assign({}, triggerProps), children)),\n        renderWithPortal ? react.createElement(Portal, null, popoverContent) : popoverContent));\n}\n\nconst styles$1 = {\n  \"root\": \"awsui_root_1wzqe_q3u5u_93\",\n  \"search-field\": \"awsui_search-field_1wzqe_q3u5u_104\",\n  \"input-wrapper\": \"awsui_input-wrapper_1wzqe_q3u5u_110\",\n  \"add-token\": \"awsui_add-token_1wzqe_q3u5u_114\",\n  \"tokens\": \"awsui_tokens_1wzqe_q3u5u_121\",\n  \"token-operator\": \"awsui_token-operator_1wzqe_q3u5u_125\",\n  \"token-editor\": \"awsui_token-editor_1wzqe_q3u5u_129\",\n  \"token-editor-line\": \"awsui_token-editor-line_1wzqe_q3u5u_136\",\n  \"token-editor-label\": \"awsui_token-editor-label_1wzqe_q3u5u_141\",\n  \"token-editor-field\": \"awsui_token-editor-field_1wzqe_q3u5u_146\",\n  \"token-editor-actions\": \"awsui_token-editor-actions_1wzqe_q3u5u_151\",\n  \"token-editor-commit\": \"awsui_token-editor-commit_1wzqe_q3u5u_156\",\n  \"custom-control\": \"awsui_custom-control_1wzqe_q3u5u_160\",\n  \"input\": \"awsui_input_1wzqe_q3u5u_110\",\n  \"results\": \"awsui_results_1wzqe_q3u5u_168\",\n  \"results-visible\": \"awsui_results-visible_1wzqe_q3u5u_174\",\n  \"separator\": \"awsui_separator_1wzqe_q3u5u_178\",\n  \"toggle-collapsed\": \"awsui_toggle-collapsed_1wzqe_q3u5u_185\",\n  \"token-trigger\": \"awsui_token-trigger_1wzqe_q3u5u_190\",\n  \"token-editor-cancel\": \"awsui_token-editor-cancel_1wzqe_q3u5u_196\",\n  \"remove-all\": \"awsui_remove-all_1wzqe_q3u5u_200\",\n  \"token-label\": \"awsui_token-label_1wzqe_q3u5u_201\",\n  \"join-operation\": \"awsui_join-operation_1wzqe_q3u5u_202\",\n  \"property-selector\": \"awsui_property-selector_1wzqe_q3u5u_203\",\n  \"operator-selector\": \"awsui_operator-selector_1wzqe_q3u5u_204\",\n  \"value-selector\": \"awsui_value-selector_1wzqe_q3u5u_205\",\n  \"token-editor-submit\": \"awsui_token-editor-submit_1wzqe_q3u5u_206\"\n};\n\n/**\n * This hook generates `onBlur`, `onFocus` and `onLoadItems` handlers that make sure an `onLoadItems` event\n * fires exactly once every time control they are used on gets focused.\n * It is neccesary to do this because Autosuggest and Select dedupe their `onLoadItems` events stopping\n * the same event from firing twice in a row. This means, refocusing the control sometimes results in\n * `onLoadItems` firing, but sometimes not.\n */\nvar useLoadItems = function (onLoadItems, focusFilteringText, currentFilteringProperty, currentFilteringText, currentFilteringOperator) {\n    var focusIn = react.useRef(false);\n    var handleBlur = function () {\n        focusIn.current = true;\n    };\n    var fireLoadItems = function (detail) {\n        var _a;\n        fireNonCancelableEvent(onLoadItems, __assign(__assign({}, detail), { filteringText: (_a = currentFilteringText !== null && currentFilteringText !== void 0 ? currentFilteringText : detail.filteringText) !== null && _a !== void 0 ? _a : '', filteringProperty: currentFilteringProperty, filteringOperator: currentFilteringOperator }));\n        focusIn.current = false;\n    };\n    var handleFocus = function () {\n        if (focusIn.current) {\n            fireLoadItems({ firstPage: true, samePage: false, filteringText: focusFilteringText });\n        }\n    };\n    var handleLoadItems = function (_a) {\n        var detail = _a.detail;\n        return fireLoadItems(detail);\n    };\n    return {\n        onBlur: handleBlur,\n        onFocus: handleFocus,\n        onLoadItems: handleLoadItems\n    };\n};\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\n// Finds the longest property the filtering text starts from.\nfunction matchFilteringProperty(filteringProperties, filteringText) {\n    filteringText = filteringText.toLowerCase();\n    var maxLength = 0;\n    var matchedProperty = null;\n    for (var _i = 0, filteringProperties_1 = filteringProperties; _i < filteringProperties_1.length; _i++) {\n        var property = filteringProperties_1[_i];\n        if (property.propertyLabel.length > maxLength && startsWith(filteringText, property.propertyLabel.toLowerCase())) {\n            maxLength = property.propertyLabel.length;\n            matchedProperty = property;\n        }\n    }\n    return matchedProperty;\n}\n// Finds the longest operator the filtering text starts from.\nfunction matchOperator(allowedOperators, filteringText) {\n    filteringText = filteringText.toLowerCase();\n    var maxLength = 0;\n    var matchedOperator = null;\n    for (var _i = 0, allowedOperators_1 = allowedOperators; _i < allowedOperators_1.length; _i++) {\n        var operator = allowedOperators_1[_i];\n        if (operator.length > maxLength && startsWith(filteringText, operator.toLowerCase())) {\n            maxLength = operator.length;\n            matchedOperator = operator;\n        }\n    }\n    return matchedOperator;\n}\n// Finds if the filtering text matches any operator prefix.\nfunction matchOperatorPrefix(allowedOperators, filteringText) {\n    if (filteringText.trim().length === 0) {\n        return '';\n    }\n    for (var _i = 0, allowedOperators_2 = allowedOperators; _i < allowedOperators_2.length; _i++) {\n        var operator = allowedOperators_2[_i];\n        if (startsWith(operator.toLowerCase(), filteringText.toLowerCase())) {\n            return filteringText;\n        }\n    }\n    return null;\n}\nfunction trimStart(source) {\n    var spacesLength = 0;\n    for (var i = 0; i < source.length; i++) {\n        if (source[i] === ' ') {\n            spacesLength++;\n        }\n        else {\n            break;\n        }\n    }\n    return source.slice(spacesLength);\n}\nfunction trimFirstSpace(source) {\n    return source[0] === ' ' ? source.slice(1) : source;\n}\nfunction startsWith(source, target) {\n    return source.indexOf(target) === 0;\n}\n\nvar getQueryActions = function (query, onChange, inputRef, preventFocus) {\n    var tokens = query.tokens, operation = query.operation;\n    var fireOnChange = function (tokens, operation) {\n        return fireNonCancelableEvent(onChange, { tokens: tokens, operation: operation });\n    };\n    var setToken = function (index, newToken) {\n        var newTokens = __spreadArray([], tokens, true);\n        if (newTokens && index < newTokens.length) {\n            newTokens[index] = newToken;\n        }\n        fireOnChange(newTokens, operation);\n    };\n    var removeToken = function (index) {\n        var _a;\n        var newTokens = tokens.filter(function (_, i) { return i !== index; });\n        fireOnChange(newTokens, operation);\n        preventFocus.current = true;\n        (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    var removeAllTokens = function () {\n        var _a;\n        fireOnChange([], operation);\n        preventFocus.current = true;\n        (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    };\n    var addToken = function (newToken) {\n        var newTokens = __spreadArray([], tokens, true);\n        newTokens.push(newToken);\n        fireOnChange(newTokens, operation);\n    };\n    var setOperation = function (newOperation) {\n        fireOnChange(tokens, newOperation);\n    };\n    return {\n        setToken: setToken,\n        removeToken: removeToken,\n        removeAllTokens: removeAllTokens,\n        addToken: addToken,\n        setOperation: setOperation\n    };\n};\nvar getAllowedOperators = function (property) {\n    var _a;\n    var operators = property.operators, defaultOperator = property.defaultOperator;\n    var operatorOrder = ['=', '!=', ':', '!:', '>=', '<=', '<', '>'];\n    var operatorSet = (_a = {}, _a[defaultOperator !== null && defaultOperator !== void 0 ? defaultOperator : '='] = true, _a);\n    // TODO: remove unknown type annotation once extended operators are supported.\n    operators === null || operators === void 0 ? void 0 : operators.forEach(function (op) {\n        if (typeof op === 'string') {\n            operatorSet[op] = true;\n        }\n    });\n    return operatorOrder.filter(function (op) { return operatorSet[op]; });\n};\n/*\n * parses the value of the filtering input to figure out the current step of entering the token:\n * - \"property\": means that a filter on a particular column is being added, with operator already finalized\n * - \"operator\": means that a filter on a particular column is being added, with operator not yet finalized\n * - \"free-text\": means that a \"free text\" token is being added\n */\nvar parseText = function (filteringText, filteringProperties, disableFreeTextFiltering) {\n    if (filteringProperties === void 0) { filteringProperties = []; }\n    var negatedGlobalQuery = /^(!:|!)(.*)/.exec(filteringText);\n    if (!disableFreeTextFiltering && negatedGlobalQuery) {\n        return {\n            step: 'free-text',\n            operator: '!:',\n            value: negatedGlobalQuery[2]\n        };\n    }\n    var property = matchFilteringProperty(filteringProperties, filteringText);\n    if (!property) {\n        return {\n            step: 'free-text',\n            value: filteringText\n        };\n    }\n    var allowedOps = getAllowedOperators(property);\n    var textWithoutProperty = filteringText.substring(property.propertyLabel.length);\n    var operator = matchOperator(allowedOps, trimStart(textWithoutProperty));\n    if (operator) {\n        var operatorLastIndex = textWithoutProperty.indexOf(operator) + operator.length;\n        var textWithoutPropertyAndOperator = textWithoutProperty.slice(operatorLastIndex);\n        return {\n            step: 'property',\n            property: property,\n            operator: operator,\n            // We need to remove the first leading space in case the user presses space\n            // after the operator, for example: Owner: admin, will result in value of ` admin`\n            // and we need to remove the first space, if the user added any more spaces only the\n            // first one will be removed.\n            value: trimFirstSpace(textWithoutPropertyAndOperator)\n        };\n    }\n    var operatorPrefix = matchOperatorPrefix(allowedOps, trimStart(textWithoutProperty));\n    if (operatorPrefix !== null) {\n        return { step: 'operator', property: property, operatorPrefix: operatorPrefix };\n    }\n    return {\n        step: 'free-text',\n        value: filteringText\n    };\n};\nvar getPropertyOptions = function (filteringProperty, filteringOptions) {\n    return filteringOptions === null || filteringOptions === void 0 ? void 0 : filteringOptions.filter(function (option) { return option.propertyKey === filteringProperty.key; });\n};\nvar getAllValueSuggestions = function (filteringOptions, filteringProperties, operator, i18nStrings, customGroupsText) {\n    if (operator === void 0) { operator = '='; }\n    var defaultGroup = {\n        label: i18nStrings.groupValuesText,\n        options: []\n    };\n    var customGroups = {};\n    filteringOptions === null || filteringOptions === void 0 ? void 0 : filteringOptions.forEach(function (filteringOption) {\n        var property = getPropertyByKey(filteringProperties, filteringOption.propertyKey);\n        // given option refers to a non-existent filtering property\n        if (!property) {\n            return;\n        }\n        // this option's filtering property does not support current operator\n        if (getAllowedOperators(property).indexOf(operator) === -1) {\n            return;\n        }\n        if (property.group && !customGroups[property.group]) {\n            var label = (customGroupsText === null || customGroupsText === void 0 ? void 0 : customGroupsText.reduce(function (acc, customGroup) { return (customGroup.group === property.group ? customGroup.values : acc); }, '')) || '';\n            customGroups[property.group] = {\n                label: label,\n                options: []\n            };\n        }\n        var propertyGroup = property.group ? customGroups[property.group] : defaultGroup;\n        propertyGroup.options.push({\n            tokenValue: property.propertyLabel + (operator || '=') + filteringOption.value,\n            label: filteringOption.value,\n            __labelPrefix: property.propertyLabel + ' ' + (operator || '=')\n        });\n    });\n    return __spreadArray([defaultGroup], Object.keys(customGroups).map(function (group) { return customGroups[group]; }), true);\n};\nvar getPropertyByKey = function (filteringProperties, key) {\n    var propertyMap = filteringProperties.reduce(function (acc, property) {\n        acc[property.key] = property;\n        return acc;\n    }, {});\n    return propertyMap[key];\n};\nvar filteringPropertyToAutosuggestOption = function (filteringProperty) { return ({\n    value: filteringProperty.propertyLabel,\n    keepOpenOnSelect: true\n}); };\nfunction getPropertySuggestions(filteringProperties, customGroupsText, i18nStrings, filteringPropertyToOption) {\n    var defaultGroup = {\n        label: i18nStrings.groupPropertiesText,\n        options: []\n    };\n    var customGroups = {};\n    filteringProperties.forEach(function (filteringProperty) {\n        var group = filteringProperty.group;\n        var optionsGroup = defaultGroup;\n        if (group) {\n            if (!customGroups[group]) {\n                var label = (customGroupsText === null || customGroupsText === void 0 ? void 0 : customGroupsText.reduce(function (acc, customGroup) { return (customGroup.group === group ? customGroup.properties : acc); }, '')) || '';\n                customGroups[group] = { options: [], label: label };\n            }\n            optionsGroup = customGroups[group];\n        }\n        optionsGroup.options.push(filteringPropertyToOption(filteringProperty));\n    });\n    var defaultGroupArray = defaultGroup.options.length ? [defaultGroup] : [];\n    var customGroupsArray = Object.keys(customGroups).map(function (groupKey) { return customGroups[groupKey]; });\n    return __spreadArray(__spreadArray([], defaultGroupArray, true), customGroupsArray, true);\n}\nvar getAutosuggestOptions = function (parsedText, filteringOptions, filteringProperties, customGroupsText, i18nStrings) {\n    switch (parsedText.step) {\n        case 'property': {\n            var _a = parsedText.property, propertyLabel_1 = _a.propertyLabel, groupValuesLabel = _a.groupValuesLabel;\n            var options = getPropertyOptions(parsedText.property, filteringOptions);\n            return {\n                filterText: parsedText.value,\n                options: [\n                    {\n                        options: (options || []).map(function (_a) {\n                            var value = _a.value;\n                            return ({\n                                tokenValue: propertyLabel_1 + parsedText.operator + value,\n                                label: value,\n                                __labelPrefix: propertyLabel_1 + ' ' + parsedText.operator\n                            });\n                        }),\n                        label: groupValuesLabel\n                    },\n                ]\n            };\n        }\n        case 'operator': {\n            return {\n                filterText: parsedText.property.propertyLabel + ' ' + parsedText.operatorPrefix,\n                options: __spreadArray(__spreadArray([], getPropertySuggestions(filteringProperties, customGroupsText, i18nStrings, filteringPropertyToAutosuggestOption), true), [\n                    {\n                        options: getAllowedOperators(parsedText.property).map(function (value) { return ({\n                            value: parsedText.property.propertyLabel + ' ' + value + ' ',\n                            label: parsedText.property.propertyLabel + ' ' + value,\n                            description: operatorToDescription(value, i18nStrings),\n                            keepOpenOnSelect: true\n                        }); }),\n                        label: i18nStrings.operatorsText\n                    },\n                ], false)\n            };\n        }\n        case 'free-text': {\n            var needsValueSuggestions = !!parsedText.value;\n            var needsPropertySuggestions = !(parsedText.step === 'free-text' && parsedText.operator === '!:');\n            return {\n                filterText: parsedText.value,\n                options: __spreadArray(__spreadArray([], (needsPropertySuggestions\n                    ? getPropertySuggestions(filteringProperties, customGroupsText, i18nStrings, filteringPropertyToAutosuggestOption)\n                    : []), true), (needsValueSuggestions\n                    ? getAllValueSuggestions(filteringOptions, filteringProperties, parsedText.operator, i18nStrings, customGroupsText)\n                    : []), true)\n            };\n        }\n    }\n};\nvar operatorToDescription = function (operator, i18nStrings) {\n    var _a;\n    var mapping = (_a = {},\n        _a['<'] = i18nStrings.operatorLessText,\n        _a['<='] = i18nStrings.operatorLessOrEqualText,\n        _a['>'] = i18nStrings.operatorGreaterText,\n        _a['>='] = i18nStrings.operatorGreaterOrEqualText,\n        _a[':'] = i18nStrings.operatorContainsText,\n        _a['!:'] = i18nStrings.operatorDoesNotContainText,\n        _a['='] = i18nStrings.operatorEqualsText,\n        _a['!='] = i18nStrings.operatorDoesNotEqualText,\n        _a);\n    return mapping[operator];\n};\n\nvar freeTextOperators = [':', '!:'];\nfunction PropertyInput(_a) {\n    var propertyKey = _a.propertyKey, onChangePropertyKey = _a.onChangePropertyKey, asyncProps = _a.asyncProps, filteringProperties = _a.filteringProperties, onLoadItems = _a.onLoadItems, customGroupsText = _a.customGroupsText, i18nStrings = _a.i18nStrings, disableFreeTextFiltering = _a.disableFreeTextFiltering;\n    var property = propertyKey !== undefined ? getPropertyByKey(filteringProperties, propertyKey) : undefined;\n    var propertySelectHandlers = useLoadItems(onLoadItems);\n    var asyncPropertySelectProps = asyncProps ? __assign(__assign({}, asyncProps), propertySelectHandlers) : {};\n    var propertyOptions = getPropertySuggestions(filteringProperties, customGroupsText, i18nStrings, function (_a) {\n        var propertyLabel = _a.propertyLabel, key = _a.key;\n        return ({\n            value: key,\n            label: propertyLabel,\n            dontCloseOnSelect: true\n        });\n    });\n    var allPropertiesOption = {\n        label: i18nStrings.allPropertiesLabel,\n        value: undefined\n    };\n    if (!disableFreeTextFiltering) {\n        propertyOptions.unshift(allPropertiesOption);\n    }\n    var controlId = useUniqueId('property');\n    return (react.createElement(\"div\", { className: clsx(styles$1['token-editor-line'], styles$1['property-selector']), key: i18nStrings.propertyText },\n        react.createElement(\"label\", { className: styles$1['token-editor-label'], htmlFor: controlId }, i18nStrings.propertyText),\n        react.createElement(\"div\", { className: styles$1['token-editor-field'] },\n            react.createElement(InternalSelect, __assign({ controlId: controlId, options: propertyOptions, selectedOption: property\n                    ? {\n                        value: propertyKey !== null && propertyKey !== void 0 ? propertyKey : undefined,\n                        label: property.propertyLabel\n                    }\n                    : allPropertiesOption, onChange: function (e) { return onChangePropertyKey(e.detail.selectedOption.value); } }, asyncPropertySelectProps)))));\n}\nfunction OperatorInput(_a) {\n    var propertyKey = _a.propertyKey, operator = _a.operator, onChangeOperator = _a.onChangeOperator, filteringProperties = _a.filteringProperties, i18nStrings = _a.i18nStrings;\n    var property = propertyKey !== undefined ? getPropertyByKey(filteringProperties, propertyKey) : undefined;\n    var freeTextOperators = [':', '!:'];\n    var operatorOptions = (property ? getAllowedOperators(property) : freeTextOperators).map(function (operator) { return ({\n        value: operator,\n        label: operator,\n        description: operatorToDescription(operator, i18nStrings)\n    }); });\n    var contorlId = useUniqueId('operator');\n    return (react.createElement(\"div\", { className: clsx(styles$1['token-editor-line'], styles$1['operator-selector']), key: i18nStrings.operatorText },\n        react.createElement(\"label\", { className: styles$1['token-editor-label'], htmlFor: contorlId }, i18nStrings.operatorText),\n        react.createElement(\"div\", { className: styles$1['token-editor-field'] },\n            react.createElement(InternalSelect, { controlId: contorlId, options: operatorOptions, triggerVariant: \"option\", selectedOption: operator\n                    ? {\n                        value: operator,\n                        label: operator,\n                        description: operatorToDescription(operator, i18nStrings)\n                    }\n                    : null, onChange: function (e) { return onChangeOperator(e.detail.selectedOption.value); } }))));\n}\nfunction ValueInput(_a) {\n    var _b;\n    var propertyKey = _a.propertyKey, operator = _a.operator, value = _a.value, onChangeValue = _a.onChangeValue, asyncProps = _a.asyncProps, filteringProperties = _a.filteringProperties, filteringOptions = _a.filteringOptions, onLoadItems = _a.onLoadItems, i18nStrings = _a.i18nStrings;\n    var property = propertyKey !== undefined ? getPropertyByKey(filteringProperties, propertyKey) : undefined;\n    var valueOptions = property ? (_b = getPropertyOptions(property, filteringOptions)) === null || _b === void 0 ? void 0 : _b.map(function (_a) {\n        var value = _a.value;\n        return ({ value: value });\n    }) : [];\n    var valueAutosuggestHandlers = useLoadItems(onLoadItems, '', property);\n    var asyncValueAutosuggesProps = propertyKey\n        ? __assign(__assign({}, valueAutosuggestHandlers), asyncProps) : { empty: asyncProps.empty };\n    var controlId = useUniqueId('value');\n    return (react.createElement(\"div\", { className: clsx(styles$1['token-editor-line'], styles$1['value-selector']), key: i18nStrings.valueText },\n        react.createElement(\"label\", { className: styles$1['token-editor-label'], htmlFor: controlId }, i18nStrings.valueText),\n        react.createElement(\"div\", { className: styles$1['token-editor-field'] },\n            react.createElement(InternalAutosuggest, __assign({ controlId: controlId, enteredTextLabel: i18nStrings.enteredTextLabel, value: value !== null && value !== void 0 ? value : '', onChange: function (e) { return onChangeValue(e.detail.value); }, disabled: !operator, options: valueOptions }, asyncValueAutosuggesProps, { virtualScroll: true })))));\n}\nvar TokenEditor = function (_a) {\n    var asyncProperties = _a.asyncProperties, asyncProps = _a.asyncProps, customGroupsText = _a.customGroupsText, disableFreeTextFiltering = _a.disableFreeTextFiltering, expandToViewport = _a.expandToViewport, filteringOptions = _a.filteringOptions, filteringProperties = _a.filteringProperties, i18nStrings = _a.i18nStrings, onLoadItems = _a.onLoadItems, setToken = _a.setToken, token = _a.token, triggerComponent = _a.triggerComponent;\n    var _b = react.useState(token), temporaryToken = _b[0], setTemporaryToken = _b[1];\n    var popoverRef = react.useRef(null);\n    var closePopover = function () {\n        popoverRef.current && popoverRef.current.dismissPopover();\n    };\n    var propertyKey = temporaryToken.propertyKey;\n    var onChangePropertyKey = function (newPropertyKey) {\n        var filteringProperty = filteringProperties.reduce(function (acc, property) { return (property.key === newPropertyKey ? property : acc); }, undefined);\n        var allowedOperators = filteringProperty ? getAllowedOperators(filteringProperty) : freeTextOperators;\n        var operator = temporaryToken.operator && allowedOperators.indexOf(temporaryToken.operator) !== -1\n            ? temporaryToken.operator\n            : allowedOperators[0];\n        setTemporaryToken(__assign(__assign({}, temporaryToken), { propertyKey: newPropertyKey, operator: operator }));\n    };\n    var operator = temporaryToken.operator;\n    var onChangeOperator = function (newOperator) {\n        setTemporaryToken(__assign(__assign({}, temporaryToken), { operator: newOperator }));\n    };\n    var value = temporaryToken.value;\n    var onChangeValue = function (newValue) {\n        setTemporaryToken(__assign(__assign({}, temporaryToken), { value: newValue }));\n    };\n    return (react.createElement(InternalPopover, { ref: popoverRef, className: styles$1['token-label'], triggerType: \"text\", header: i18nStrings.editTokenHeader, size: \"large\", position: \"right\", dismissAriaLabel: i18nStrings.dismissAriaLabel, __onOpen: function () { return setTemporaryToken(token); }, renderWithPortal: expandToViewport, content: react.createElement(\"div\", { className: styles$1['token-editor'] },\n            react.createElement(InternalSpaceBetween, { size: \"l\" },\n                react.createElement(PropertyInput, { propertyKey: propertyKey, onChangePropertyKey: onChangePropertyKey, asyncProps: asyncProperties ? asyncProps : null, filteringProperties: filteringProperties, onLoadItems: onLoadItems, customGroupsText: customGroupsText, i18nStrings: i18nStrings, disableFreeTextFiltering: disableFreeTextFiltering }),\n                react.createElement(OperatorInput, { propertyKey: propertyKey, operator: operator, onChangeOperator: onChangeOperator, filteringProperties: filteringProperties, i18nStrings: i18nStrings }),\n                react.createElement(ValueInput, { propertyKey: propertyKey, operator: operator, value: value, onChangeValue: onChangeValue, asyncProps: asyncProps, filteringProperties: filteringProperties, filteringOptions: filteringOptions, onLoadItems: onLoadItems, i18nStrings: i18nStrings })),\n            react.createElement(\"div\", { className: styles$1['token-editor-actions'] },\n                react.createElement(InternalButton, { variant: \"link\", className: styles$1['token-editor-cancel'], onClick: closePopover }, i18nStrings.cancelActionText),\n                react.createElement(InternalButton, { className: styles$1['token-editor-submit'], onClick: function () {\n                        setToken(temporaryToken);\n                        closePopover();\n                    } }, i18nStrings.applyActionText))) }, triggerComponent));\n};\n\nconst styles = {\n  \"root\": \"awsui_root_10m3l_1ksf8_97\",\n  \"token\": \"awsui_token_10m3l_1ksf8_102\",\n  \"show-operation\": \"awsui_show-operation_10m3l_1ksf8_113\",\n  \"select\": \"awsui_select_10m3l_1ksf8_119\",\n  \"token-content\": \"awsui_token-content_10m3l_1ksf8_123\",\n  \"dismiss-button\": \"awsui_dismiss-button_10m3l_1ksf8_127\",\n  \"token-disabled\": \"awsui_token-disabled_10m3l_1ksf8_163\"\n};\n\nfunction FilteringToken(_a) {\n    var showOperation = _a.showOperation, operation = _a.operation, andText = _a.andText, orText = _a.orText, dismissAriaLabel = _a.dismissAriaLabel, disabled = _a.disabled, children = _a.children, onChange = _a.onChange, onDismiss = _a.onDismiss;\n    var focusVisible = useFocusVisible();\n    return (react.createElement(\"div\", { className: styles.root },\n        showOperation && (react.createElement(InternalSelect, { __inFilteringToken: true, className: styles.select, options: [\n                { value: 'and', label: andText },\n                { value: 'or', label: orText },\n            ], selectedOption: { value: operation, label: operation === 'and' ? andText : orText }, onChange: function (e) { return onChange(e.detail.selectedOption.value); }, disabled: disabled })),\n        react.createElement(\"div\", { className: clsx(styles.token, showOperation && styles['show-operation'], disabled && styles['token-disabled']), \"aria-disabled\": disabled },\n            react.createElement(\"div\", { className: styles['token-content'] }, children),\n            react.createElement(\"button\", __assign({}, focusVisible, { type: \"button\", className: styles['dismiss-button'], \"aria-label\": dismissAriaLabel, onClick: onDismiss, disabled: disabled }),\n                react.createElement(InternalIcon, { name: \"close\" })))));\n}\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\nvar Token = function (_a) {\n    var token = _a.token, _b = _a.operation, operation = _b === void 0 ? 'and' : _b, first = _a.first, removeToken = _a.removeToken, setToken = _a.setToken, setOperation = _a.setOperation, filteringOptions = _a.filteringOptions, filteringProperties = _a.filteringProperties, asyncProps = _a.asyncProps, onLoadItems = _a.onLoadItems, i18nStrings = _a.i18nStrings, asyncProperties = _a.asyncProperties, hideOperations = _a.hideOperations, customGroupsText = _a.customGroupsText, disabled = _a.disabled, disableFreeTextFiltering = _a.disableFreeTextFiltering, expandToViewport = _a.expandToViewport;\n    var property = token.propertyKey && getPropertyByKey(filteringProperties, token.propertyKey);\n    var propertyLabel = property && property.propertyLabel;\n    return (react.createElement(FilteringToken, { showOperation: !first && !hideOperations, operation: operation, andText: i18nStrings.operationAndText, orText: i18nStrings.operationOrText, dismissAriaLabel: i18nStrings.removeTokenButtonAriaLabel(token), onChange: setOperation, onDismiss: removeToken, disabled: disabled },\n        react.createElement(TokenEditor, { setToken: setToken, triggerComponent: react.createElement(\"span\", { className: styles$1['token-trigger'] },\n                react.createElement(TokenTrigger, { property: propertyLabel, operator: token.operator, value: token.value })), filteringOptions: filteringOptions, filteringProperties: filteringProperties, token: token, asyncProps: asyncProps, onLoadItems: onLoadItems, i18nStrings: i18nStrings, asyncProperties: asyncProperties, customGroupsText: customGroupsText, disableFreeTextFiltering: disableFreeTextFiltering, expandToViewport: expandToViewport })));\n};\nvar TokenTrigger = function (_a) {\n    var property = _a.property, operator = _a.operator, value = _a.value;\n    if (property) {\n        property += ' ';\n    }\n    var freeTextContainsToken = operator === ':' && !property;\n    var operatorText = freeTextContainsToken ? '' : operator + ' ';\n    return (react.createElement(react.Fragment, null,\n        property,\n        react.createElement(\"span\", { className: styles$1['token-operator'] }, operatorText),\n        value));\n};\n\nvar DROPDOWN_WIDTH = 300;\nvar useLoadMoreItems = function (onLoadItems) {\n    var lastFilteringText = react.useRef(null);\n    return react.useCallback(function (firstPage, samePage, filteringText) {\n        if (samePage || !firstPage || filteringText === undefined || lastFilteringText.current !== filteringText) {\n            if (filteringText !== undefined) {\n                lastFilteringText.current = filteringText;\n            }\n            if (lastFilteringText.current !== null && onLoadItems) {\n                fireNonCancelableEvent(onLoadItems, { filteringText: lastFilteringText.current, firstPage: firstPage, samePage: samePage });\n            }\n        }\n    }, [onLoadItems]);\n};\nvar PropertyFilterAutosuggest = react.forwardRef(function (props, ref) {\n    var _a;\n    var value = props.value, onChange = props.onChange, onLoadItems = props.onLoadItems, options = props.options, _b = props.filteringType, filteringType = _b === void 0 ? 'auto' : _b, _c = props.statusType, statusType = _c === void 0 ? 'finished' : _c, placeholder = props.placeholder, disabled = props.disabled, ariaLabel = props.ariaLabel, enteredTextLabel = props.enteredTextLabel, onKeyDown = props.onKeyDown, virtualScroll = props.virtualScroll, expandToViewport = props.expandToViewport, filterText = props.filterText, onOpen = props.onOpen, onOptionClick = props.onOptionClick, hideEnteredTextOption = props.hideEnteredTextOption, rest = __rest(props, [\"value\", \"onChange\", \"onLoadItems\", \"options\", \"filteringType\", \"statusType\", \"placeholder\", \"disabled\", \"ariaLabel\", \"enteredTextLabel\", \"onKeyDown\", \"virtualScroll\", \"expandToViewport\", \"filterText\", \"onOpen\", \"onOptionClick\", \"hideEnteredTextOption\"]);\n    var highlightText = filterText === undefined ? value : filterText;\n    var selectOption = function (option) {\n        var value = option.value || '';\n        fireNonCancelableEvent(onChange, { value: value });\n        var selectedCancelled = fireCancelableEvent(onOptionClick, option);\n        if (!selectedCancelled) {\n            autosuggestDropdownHandlers.closeDropdown();\n        }\n        else {\n            autosuggestItemsHandlers.resetHighlightWithKeyboard();\n        }\n    };\n    var _d = useAutosuggestItems({\n        options: options || [],\n        filterValue: value,\n        filterText: highlightText,\n        filteringType: filteringType,\n        hideEnteredTextLabel: hideEnteredTextOption,\n        onSelectItem: selectOption\n    }), autosuggestItemsState = _d[0], autosuggestItemsHandlers = _d[1];\n    var _e = useAutosuggestDropdown({\n        onClose: function () { return autosuggestItemsHandlers.resetHighlightWithKeyboard(); }\n    }), open = _e[0].open, autosuggestDropdownHandlers = _e[1], autosuggestDropdownRefs = _e[2];\n    var fireLoadMore = useLoadMoreItems(onLoadItems);\n    var handleInputChange = function (e) {\n        autosuggestDropdownHandlers.openDropdown();\n        autosuggestItemsHandlers.resetHighlightWithKeyboard();\n        onChange && onChange(e);\n    };\n    var handleKeyDown = useKeyboardHandler({\n        open: open,\n        onPressArrowDown: function () {\n            autosuggestItemsHandlers.moveHighlightWithKeyboard(1);\n            autosuggestDropdownHandlers.openDropdown();\n        },\n        onPressArrowUp: function () {\n            autosuggestItemsHandlers.moveHighlightWithKeyboard(-1);\n            autosuggestDropdownHandlers.openDropdown();\n        },\n        onPressEnter: function () {\n            if (!autosuggestItemsHandlers.selectHighlightedOptionWithKeyboard()) {\n                autosuggestDropdownHandlers.closeDropdown();\n            }\n        },\n        onPressEsc: function () {\n            if (open) {\n                autosuggestDropdownHandlers.closeDropdown();\n            }\n            else if (value) {\n                fireNonCancelableEvent(onChange, { value: '' });\n            }\n        },\n        onKeyDown: function (e) {\n            fireCancelableEvent(onKeyDown, e.detail);\n        }\n    });\n    var handleLoadMore = react.useCallback(function () {\n        options && options.length && statusType === 'pending' && fireLoadMore(false, false);\n    }, [fireLoadMore, options, statusType]);\n    var handleRecoveryClick = react.useCallback(function () {\n        var _a;\n        fireLoadMore(false, true);\n        (_a = inputRef.current) === null || _a === void 0 ? void 0 : _a.focus();\n    }, [fireLoadMore]);\n    var formFieldContext = useFormFieldContext(rest);\n    var baseProps = getBaseProps(rest);\n    var inputRef = react.useRef(null);\n    useForwardFocus(ref, inputRef);\n    var selfControlId = useUniqueId('input');\n    var controlId = (_a = formFieldContext.controlId) !== null && _a !== void 0 ? _a : selfControlId;\n    var dropdownId = useUniqueId('dropdown');\n    var listId = useUniqueId('list');\n    // From an a11y point of view we only count the dropdown as 'expanded' if there are items that a user can dropdown into\n    var expanded = open && autosuggestItemsState.items.length > 1;\n    var highlightedOptionId = autosuggestItemsState.highlightedOption ? generateUniqueId() : undefined;\n    var nativeAttributes = {\n        placeholder: placeholder,\n        onClick: autosuggestDropdownHandlers.openDropdown,\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-expanded': expanded,\n        'aria-controls': listId,\n        // 'aria-owns' needed for safari+vo to announce activedescendant content\n        'aria-owns': listId,\n        'aria-label': ariaLabel,\n        'aria-activedescendant': highlightedOptionId\n    };\n    var handleInputFocus = function () {\n        var openPrevented = fireCancelableEvent(onOpen, null);\n        if (!openPrevented) {\n            autosuggestDropdownHandlers.openDropdown();\n            fireLoadMore(true, false, '');\n        }\n    };\n    var isEmpty = !value && !autosuggestItemsState.items.length;\n    var showRecoveryLink = open && statusType === 'error' && props.recoveryText;\n    var dropdownStatus = useDropdownStatus(__assign(__assign({}, props), { isEmpty: isEmpty, onRecoveryClick: handleRecoveryClick }));\n    return (react.createElement(\"div\", __assign({}, baseProps, { className: clsx(styles$3.root, baseProps.className), onBlur: autosuggestDropdownHandlers.handleBlur }),\n        react.createElement(Dropdown, { minWidth: DROPDOWN_WIDTH, stretchWidth: false, trigger: react.createElement(InternalInput, __assign({ type: \"search\", value: value, onChange: handleInputChange, __onDelayedInput: function (event) { return fireLoadMore(true, false, event.detail.value); }, onFocus: handleInputFocus, onKeyDown: handleKeyDown, disabled: disabled, ref: inputRef, autoComplete: false, __nativeAttributes: nativeAttributes }, formFieldContext, { controlId: controlId })), onMouseDown: autosuggestDropdownHandlers.handleMouseDown, open: open, dropdownId: dropdownId, footer: dropdownStatus.isSticky ? (react.createElement(\"div\", { ref: autosuggestDropdownRefs.footerRef, className: styles$3['dropdown-footer'] },\n                react.createElement(DropdownFooter, { content: dropdownStatus.content, hasItems: autosuggestItemsState.items.length >= 1 }))) : null, expandToViewport: expandToViewport, hasContent: autosuggestItemsState.items.length >= 1 || dropdownStatus.content !== null, trapFocus: !!showRecoveryLink }, open && (react.createElement(AutosuggestOptionsList, { autosuggestItemsState: autosuggestItemsState, autosuggestItemsHandlers: autosuggestItemsHandlers, selectOption: selectOption, highlightedOptionId: highlightedOptionId, highlightText: highlightText, listId: listId, controlId: controlId, enteredTextLabel: enteredTextLabel, handleLoadMore: handleLoadMore, hasDropdownStatus: dropdownStatus.content !== null, virtualScroll: virtualScroll, listBottom: !dropdownStatus.isSticky ? react.createElement(DropdownFooter, { content: dropdownStatus.content }) : null })))));\n});\n\nvar PropertyFilter = react.forwardRef(function (_a, ref) {\n    var disabled = _a.disabled, i18nStrings = _a.i18nStrings, countText = _a.countText, query = _a.query, hideOperations = _a.hideOperations, onChange = _a.onChange, filteringProperties = _a.filteringProperties, filteringOptions = _a.filteringOptions, customGroupsText = _a.customGroupsText, _b = _a.disableFreeTextFiltering, disableFreeTextFiltering = _b === void 0 ? false : _b, onLoadItems = _a.onLoadItems, virtualScroll = _a.virtualScroll, customControl = _a.customControl, filteringEmpty = _a.filteringEmpty, filteringLoadingText = _a.filteringLoadingText, filteringFinishedText = _a.filteringFinishedText, filteringErrorText = _a.filteringErrorText, filteringRecoveryText = _a.filteringRecoveryText, filteringStatusType = _a.filteringStatusType, asyncProperties = _a.asyncProperties, tokenLimit = _a.tokenLimit, expandToViewport = _a.expandToViewport, rest = __rest(_a, [\"disabled\", \"i18nStrings\", \"countText\", \"query\", \"hideOperations\", \"onChange\", \"filteringProperties\", \"filteringOptions\", \"customGroupsText\", \"disableFreeTextFiltering\", \"onLoadItems\", \"virtualScroll\", \"customControl\", \"filteringEmpty\", \"filteringLoadingText\", \"filteringFinishedText\", \"filteringErrorText\", \"filteringRecoveryText\", \"filteringStatusType\", \"asyncProperties\", \"tokenLimit\", \"expandToViewport\"]);\n    var __internalRootRef = useBaseComponent('PropertyFilter').__internalRootRef;\n    var inputRef = react.useRef(null);\n    var preventFocus = react.useRef(false);\n    var baseProps = getBaseProps(rest);\n    useForwardFocus(ref, inputRef);\n    var tokens = query.tokens, operation = query.operation;\n    var showResults = (tokens === null || tokens === void 0 ? void 0 : tokens.length) && !disabled;\n    var _c = getQueryActions(query, onChange, inputRef, preventFocus), addToken = _c.addToken, removeToken = _c.removeToken, setToken = _c.setToken, setOperation = _c.setOperation, removeAllTokens = _c.removeAllTokens;\n    var _d = react.useState(''), filteringText = _d[0], setFilteringText = _d[1];\n    var parsedText = parseText(filteringText, filteringProperties, disableFreeTextFiltering);\n    var autosuggestOptions = getAutosuggestOptions(parsedText, filteringOptions, filteringProperties, customGroupsText, i18nStrings);\n    var createToken = function (currentText) {\n        var parsedText = parseText(currentText, filteringProperties, disableFreeTextFiltering);\n        var newToken;\n        switch (parsedText.step) {\n            case 'property': {\n                newToken = {\n                    propertyKey: parsedText.property.key,\n                    operator: parsedText.operator,\n                    value: parsedText.value\n                };\n                break;\n            }\n            case 'free-text': {\n                newToken = {\n                    operator: parsedText.operator || ':',\n                    value: parsedText.value\n                };\n                break;\n            }\n            case 'operator': {\n                newToken = {\n                    operator: ':',\n                    value: currentText\n                };\n                break;\n            }\n        }\n        if (disableFreeTextFiltering && !('propertyKey' in newToken)) {\n            return;\n        }\n        addToken(newToken);\n        setFilteringText('');\n    };\n    var ignoreKeyDown = react.useRef(false);\n    var handleKeyDown = function (event) {\n        if (filteringText && !ignoreKeyDown.current && event.detail.keyCode === KeyCode.enter) {\n            createToken(filteringText);\n        }\n    };\n    var getLoadMoreDetail = function (parsedText, filteringText) {\n        var loadMoreDetail = {\n            filteringProperty: undefined,\n            filteringText: filteringText,\n            filteringOperator: undefined\n        };\n        if (parsedText.step === 'property') {\n            loadMoreDetail.filteringProperty = parsedText.property;\n            loadMoreDetail.filteringText = parsedText.value;\n            loadMoreDetail.filteringOperator = parsedText.operator;\n        }\n        return loadMoreDetail;\n    };\n    var loadMoreDetail = getLoadMoreDetail(parsedText, filteringText);\n    var inputLoadItemsHandlers = useLoadItems(onLoadItems, loadMoreDetail.filteringText, loadMoreDetail.filteringProperty, loadMoreDetail.filteringText, loadMoreDetail.filteringOperator);\n    var asyncProps = {\n        empty: filteringEmpty,\n        loadingText: filteringLoadingText,\n        finishedText: filteringFinishedText,\n        errorText: filteringErrorText,\n        recoveryText: filteringRecoveryText,\n        statusType: filteringStatusType\n    };\n    var asyncAutosuggestProps = !!filteringText.length || asyncProperties\n        ? __assign(__assign({}, inputLoadItemsHandlers), asyncProps) : {};\n    var handleSelected = function (event) {\n        // The ignoreKeyDown flag makes sure `createToken` routine runs only once. Autosuggest's `onKeyDown` fires,\n        // when an item is selected from the list using \"enter\" key.\n        ignoreKeyDown.current = true;\n        setTimeout(function () {\n            ignoreKeyDown.current = false;\n        }, 0);\n        var option = event.detail;\n        var value = option.value || '';\n        if ('tokenValue' in option) {\n            createToken(option.tokenValue);\n            return;\n        }\n        // create a token from the 'use' option\n        if (!('keepOpenOnSelect' in option)) {\n            createToken(value);\n            return;\n        }\n        // stop dropdown from closing\n        event.preventDefault();\n        var parsedText = parseText(value, filteringProperties, disableFreeTextFiltering);\n        var loadMoreDetail = getLoadMoreDetail(parsedText, value);\n        fireNonCancelableEvent(onLoadItems, __assign(__assign({}, loadMoreDetail), { firstPage: true, samePage: false }));\n        // Insert operator automatically if only one operator is defined for the given property.\n        if (parsedText.step === 'operator') {\n            var operators = getAllowedOperators(parsedText.property);\n            if (value.trim() === parsedText.property.propertyLabel && operators.length === 1) {\n                setFilteringText(parsedText.property.propertyLabel + ' ' + operators[0] + ' ');\n            }\n        }\n    };\n    var _e = react.useState(false), tokensExpanded = _e[0], setTokensExpanded = _e[1];\n    var toggleExpandedTokens = function () { return setTokensExpanded(!tokensExpanded); };\n    var hasHiddenOptions = tokenLimit !== undefined && tokens.length > tokenLimit;\n    var slicedTokens = hasHiddenOptions && !tokensExpanded ? tokens.slice(0, tokenLimit) : tokens;\n    var controlId = react.useMemo(function () { return generateUniqueId(); }, []);\n    return (react.createElement(\"span\", __assign({}, baseProps, { className: clsx(baseProps.className, styles$1.root), ref: __internalRootRef }),\n        react.createElement(\"div\", { className: styles$1['search-field'] },\n            customControl && react.createElement(\"div\", { className: styles$1['custom-control'] }, customControl),\n            react.createElement(PropertyFilterAutosuggest, __assign({ ref: inputRef, virtualScroll: virtualScroll, enteredTextLabel: i18nStrings.enteredTextLabel, className: styles$1.input, ariaLabel: i18nStrings.filteringAriaLabel, placeholder: i18nStrings.filteringPlaceholder, value: filteringText, disabled: disabled, onKeyDown: handleKeyDown }, autosuggestOptions, { onChange: function (event) { return setFilteringText(event.detail.value); }, empty: filteringEmpty }, asyncAutosuggestProps, { expandToViewport: expandToViewport, onOptionClick: handleSelected, onOpen: function (e) {\n                    if (preventFocus.current) {\n                        e.preventDefault();\n                        preventFocus.current = false;\n                    }\n                }, hideEnteredTextOption: disableFreeTextFiltering && parsedText.step !== 'property' })),\n            react.createElement(\"span\", { \"aria-live\": \"polite\", \"aria-atomic\": \"true\", className: clsx(styles$1.results, showResults && styles$1['results-visible']) }, showResults ? countText : '')),\n        tokens && tokens.length > 0 && (react.createElement(\"div\", { className: styles$1.tokens },\n            react.createElement(InternalSpaceBetween, { size: \"xs\", direction: \"horizontal\", id: controlId },\n                slicedTokens.map(function (token, index) { return (react.createElement(Token, { token: token, first: index === 0, operation: operation, key: index, removeToken: function () { return removeToken(index); }, setToken: function (newToken) { return setToken(index, newToken); }, setOperation: setOperation, filteringOptions: filteringOptions, filteringProperties: filteringProperties, asyncProps: asyncProps, onLoadItems: onLoadItems, i18nStrings: i18nStrings, asyncProperties: asyncProperties, hideOperations: hideOperations, customGroupsText: customGroupsText, disableFreeTextFiltering: disableFreeTextFiltering, disabled: disabled, expandToViewport: expandToViewport })); }),\n                hasHiddenOptions && (react.createElement(\"div\", { className: styles$1['toggle-collapsed'] },\n                    react.createElement(SelectToggle, { controlId: controlId, allHidden: tokenLimit === 0, expanded: tokensExpanded, numberOfHiddenOptions: tokens.length - slicedTokens.length, i18nStrings: {\n                            limitShowFewer: i18nStrings.tokenLimitShowFewer,\n                            limitShowMore: i18nStrings.tokenLimitShowMore\n                        }, onClick: toggleExpandedTokens }))),\n                react.createElement(\"div\", { className: styles$1.separator }),\n                react.createElement(InternalButton, { onClick: removeAllTokens, className: styles$1['remove-all'], disabled: disabled }, i18nStrings.clearFiltersText))))));\n});\napplyDisplayName(PropertyFilter, 'PropertyFilter');\n\nfunction ascending(a, b) {\n  return a == null || b == null ? NaN : a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n\nfunction descending(a, b) {\n  return a == null || b == null ? NaN\n    : b < a ? -1\n    : b > a ? 1\n    : b >= a ? 0\n    : NaN;\n}\n\nfunction bisector(f) {\n  let compare1, compare2, delta;\n\n  // If an accessor is specified, promote it to a comparator. In this case we\n  // can test whether the search value is (self-) comparable. We can’t do this\n  // for a comparator (except for specific, known comparators) because we can’t\n  // tell if the comparator is symmetric, and an asymmetric comparator can’t be\n  // used to test whether a single value is comparable.\n  if (f.length !== 2) {\n    compare1 = ascending;\n    compare2 = (d, x) => ascending(f(d), x);\n    delta = (d, x) => f(d) - x;\n  } else {\n    compare1 = f === ascending || f === descending ? f : zero;\n    compare2 = f;\n    delta = f;\n  }\n\n  function left(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function right(a, x, lo = 0, hi = a.length) {\n    if (lo < hi) {\n      if (compare1(x, x) !== 0) return hi;\n      do {\n        const mid = (lo + hi) >>> 1;\n        if (compare2(a[mid], x) <= 0) lo = mid + 1;\n        else hi = mid;\n      } while (lo < hi);\n    }\n    return lo;\n  }\n\n  function center(a, x, lo = 0, hi = a.length) {\n    const i = left(a, x, lo, hi - 1);\n    return i > lo && delta(a[i - 1], x) > -delta(a[i], x) ? i - 1 : i;\n  }\n\n  return {left, center, right};\n}\n\nfunction zero() {\n  return 0;\n}\n\nconst DEFAULT_SIZE_PX = 16;\nconst icons = {\n    normal(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsxs(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, viewBox: '0 0 16 16', fill: color ? `${color}` : '#1d8102' }, { children: [jsxRuntime.jsx(\"path\", { d: 'M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z' }, void 0), jsxRuntime.jsx(\"path\", { d: 'M7 8.6l-2-2L3.6 8 7 11.4l4.9-4.9-1.4-1.4z' }, void 0)] }), void 0));\n    },\n    active(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsx(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, fill: color ? `${color}` : '#d13212', viewBox: '0 0 16 16' }, { children: jsxRuntime.jsxs(\"g\", Object.assign({ fill: 'none', fillRule: 'evenodd' }, { children: [jsxRuntime.jsx(\"circle\", { cx: '8', cy: '8', r: '7', stroke: color ? `${color}` : '#d13212', strokeWidth: '2' }, void 0), jsxRuntime.jsxs(\"g\", Object.assign({ transform: 'translate(7 4)' }, { children: [jsxRuntime.jsx(\"mask\", Object.assign({ id: 'b', fill: '#fff' }, { children: jsxRuntime.jsx(\"path\", { id: 'a', d: 'M2.00129021 6v2h-2V6h2zm0-6v5h-2V0h2z' }, void 0) }), void 0), jsxRuntime.jsx(\"g\", Object.assign({ mask: 'url(#b)' }, { children: jsxRuntime.jsx(\"path\", { fill: color ? `${color}` : '#d13212', d: 'M-7-5H9v16H-7z' }, void 0) }), void 0)] }), void 0)] }), void 0) }), void 0));\n    },\n    acknowledged(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsxs(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, viewBox: '0 0 16 16', stroke: color ? `${color}` : '#3184c2' }, { children: [jsxRuntime.jsx(\"path\", { fill: 'none', strokeLinecap: 'round', strokeLinejoin: 'round', strokeWidth: '2', d: 'M2 12.286h5.143L8.857 14l1.714-1.714H14V2H2v10.286z' }, void 0), jsxRuntime.jsx(\"path\", { fill: 'none', strokeLinecap: 'round', strokeWidth: '2', strokeMiterlimit: '10', d: 'M4.99 7H5v.01h-.01zM7.99 7H8v.01h-.01zM10.99 7H11v.01h-.01z' }, void 0)] }), void 0));\n    },\n    disabled(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsx(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, viewBox: '0 0 16 16', stroke: color ? `${color}` : '#687078' }, { children: jsxRuntime.jsxs(\"g\", Object.assign({ fill: 'none', strokeWidth: '2' }, { children: [jsxRuntime.jsx(\"circle\", { cx: '8', cy: '8', r: '7', strokeLinejoin: 'round' }, void 0), jsxRuntime.jsx(\"path\", { strokeLinecap: 'square', strokeMiterlimit: '10', d: 'M11 8H5' }, void 0)] }), void 0) }), void 0));\n    },\n    latched(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsxs(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, viewBox: '0 0 16 16', fill: color ? `${color}` : '#f89256' }, { children: [jsxRuntime.jsx(\"path\", { d: 'M15.9 14.6l-7-14c-.3-.7-1.5-.7-1.8 0l-7 14c-.2.3-.1.7 0 1 .2.2.6.4.9.4h14c.3 0 .7-.2.9-.5.1-.3.1-.6 0-.9zM2.6 14L8 3.2 13.4 14H2.6z' }, void 0), jsxRuntime.jsx(\"path\", { d: 'M7 11v2h2v-2zM7 6h2v4H7z' }, void 0)] }), void 0));\n    },\n    snoozed(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsx(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, viewBox: '0 0 16 16', stroke: color ? `${color}` : '#879596' }, { children: jsxRuntime.jsxs(\"g\", Object.assign({ fill: 'none', strokeWidth: '2' }, { children: [jsxRuntime.jsx(\"circle\", { cx: '8', cy: '8', r: '7', strokeLinejoin: 'round' }, void 0), jsxRuntime.jsx(\"path\", { strokeLinecap: 'square', strokeMiterlimit: '10', d: 'M8 5v4H5' }, void 0)] }), void 0) }), void 0));\n    },\n    error(color, size = DEFAULT_SIZE_PX) {\n        return (jsxRuntime.jsxs(\"svg\", Object.assign({ width: `${size}px`, height: `${size}px`, viewBox: '0 0 16 16', fill: color ? `${color}` : '#FF0000', \"data-test-tag\": 'error' }, { children: [jsxRuntime.jsx(\"path\", { className: 'st4', d: 'M13.7 2.3C12.1.8 10.1 0 8 0S3.9.8 2.3 2.3C.8 3.9 0 5.9 0 8s.8 4.1 2.3 5.7C3.9 15.2 5.9 16 8 16s4.1-.8 5.7-2.3C15.2 12.1 16 10.1 16 8s-.8-4.1-2.3-5.7zm-1.5 9.9C11.1 13.4 9.6 14 8 14s-3.1-.6-4.2-1.8S2 9.6 2 8s.6-3.1 1.8-4.2S6.4 2 8 2s3.1.6 4.2 1.8S14 6.4 14 8s-.6 3.1-1.8 4.2z' }, void 0), jsxRuntime.jsx(\"path\", { className: 'st4', d: 'M10.1 4.5L8 6.6 5.9 4.5 4.5 5.9 6.6 8l-2.1 2.1 1.4 1.4L8 9.4l2.1 2.1 1.4-1.4L9.4 8l2.1-2.1z' }, void 0)] }), void 0));\n    },\n};\nconst getIcons = (name, color, size) => {\n    if (icons[name]) {\n        return icons[name](color, size);\n    }\n    /* eslint-disable-next-line no-console */\n    console.warn(`Invalid status icon requested: ${name}`);\n    return undefined;\n};\n\nconst LoadingSpinner = (props) => {\n    const { size, dark = false } = props;\n    return (jsxRuntime.jsxs(\"svg\", Object.assign({ className: dark ? 'dark' : undefined, style: size != null ? { width: `${size}px`, height: `${size}px` } : {}, \"data-testid\": 'loading', viewBox: '0 0 200 200' }, { children: [jsxRuntime.jsxs(\"defs\", { children: [jsxRuntime.jsx(\"clipPath\", Object.assign({ id: 'a' }, { children: jsxRuntime.jsx(\"path\", { d: 'M200 100a100 100 0 11-2.19-20.79l-9.78 2.08A90 90 0 10190 100z' }, void 0) }), void 0), jsxRuntime.jsx(\"filter\", Object.assign({ id: 'b', x: '0', y: '0' }, { children: jsxRuntime.jsx(\"feGaussianBlur\", { in: 'SourceGraphic', stdDeviation: '3' }, void 0) }), void 0), jsxRuntime.jsx(\"path\", { id: 'c', d: 'M250 100a150 150 0 01-3.28 31.19L100 100z' }, void 0)] }, void 0), jsxRuntime.jsx(\"g\", Object.assign({ clipPath: 'url(#a)' }, { children: jsxRuntime.jsxs(\"g\", Object.assign({ filter: 'url(#b)', transform: 'rotate(-6 100 100)' }, { children: [jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '0' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.03', transform: 'rotate(12 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.07', transform: 'rotate(24 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.1', transform: 'rotate(36 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.14', transform: 'rotate(48 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.17', transform: 'rotate(60 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.2', transform: 'rotate(72 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.24', transform: 'rotate(84 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.28', transform: 'rotate(96 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.31', transform: 'rotate(108 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.34', transform: 'rotate(120 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.38', transform: 'rotate(132 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.41', transform: 'rotate(144 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.45', transform: 'rotate(156 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.48', transform: 'rotate(168 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.52', transform: 'rotate(180 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.55', transform: 'rotate(192 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.59', transform: 'rotate(204 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.62', transform: 'rotate(216 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.66', transform: 'rotate(228 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.69', transform: 'rotate(240 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.7', transform: 'rotate(252 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.72', transform: 'rotate(264 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.76', transform: 'rotate(276 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.79', transform: 'rotate(288 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.83', transform: 'rotate(300 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.86', transform: 'rotate(312 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.93', transform: 'rotate(324 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', fillOpacity: '.97', transform: 'rotate(336 100 100)' }, void 0), jsxRuntime.jsx(\"use\", { xlinkHref: '#c', transform: 'rotate(348 100 100)' }, void 0)] }), void 0) }), void 0)] }), void 0));\n};\n\nconst getDefaultColumnDefinitions = (columnDefinitions) => {\n    return columnDefinitions.map((colDef) => (Object.assign(Object.assign({ cell: (item) => {\n            if (!(colDef.key in item)) {\n                return '-';\n            }\n            const { error, isLoading, value, threshold } = item[colDef.key];\n            const { color = 'unset', icon } = threshold || {};\n            if (error) {\n                return (jsxRuntime.jsxs(\"div\", Object.assign({ className: 'iot-table-cell' }, { children: [jsxRuntime.jsx(\"div\", Object.assign({ className: 'icon' }, { children: getIcons(StatusIcon.ERROR) }), void 0), \" \", error.msg] }), void 0));\n            }\n            if (isLoading) {\n                return jsxRuntime.jsx(LoadingSpinner, { size: 16 }, void 0);\n            }\n            if (colDef.formatter && value) {\n                return (jsxRuntime.jsxs(\"div\", Object.assign({ className: 'iot-table-cell', style: { color } }, { children: [icon ? jsxRuntime.jsx(\"div\", Object.assign({ className: 'icon' }, { children: getIcons(icon) }), void 0) : null, \" \", colDef.formatter(value)] }), void 0));\n            }\n            if (typeof value === 'number') {\n                return (jsxRuntime.jsxs(\"div\", Object.assign({ className: 'iot-table-cell', style: { color } }, { children: [icon ? jsxRuntime.jsx(\"div\", Object.assign({ className: 'icon' }, { children: getIcons(icon) }), void 0) : null, \" \", round(value)] }), void 0));\n            }\n            return (jsxRuntime.jsxs(\"div\", Object.assign({ className: 'iot-table-cell', style: { color } }, { children: [icon ? jsxRuntime.jsx(\"div\", Object.assign({ className: 'icon' }, { children: getIcons(icon) }), void 0) : null, \" \", value] }), void 0));\n        } }, colDef), { id: colDef.id || colDef.key })));\n};\n\nconst Table = (props) => {\n    const { items: userItems, sorting = {}, propertyFiltering, columnDefinitions: userColumnDefinitions, messageOverrides: { propertyFilter }, } = props;\n    const { items, collectionProps, propertyFilterProps } = useCollection(userItems, { sorting, propertyFiltering });\n    const columnDefinitions = getDefaultColumnDefinitions(userColumnDefinitions);\n    return (jsxRuntime.jsx(Table$1, Object.assign({}, props, { items: items }, collectionProps, { columnDefinitions: columnDefinitions, filter: propertyFiltering && jsxRuntime.jsx(PropertyFilter, Object.assign({}, propertyFilterProps, { i18nStrings: propertyFilter }), void 0) }), void 0));\n};\n\n// By doing the mapping to a date within the bisector\n// we eliminate the need to iterate over the entire data.\n// (As opposed to mapping entire data to an array of dates)\nconst pointBisector = bisector((p) => p.x);\n/**\n * Returns all data before or at the given date.\n *\n * Assumes data is ordered chronologically.\n */\nconst getDataBeforeDate = (data, date) => {\n    // If there is no data\n    if (data.length === 0) {\n        return [];\n    }\n    // If all data is after the view port\n    if (date.getTime() < data[0].x) {\n        return [];\n    }\n    // Otherwise return all the data within the viewport, plus an additional single data point that falls outside of\n    // the viewport in either direction.\n    const endIndex = Math.min(pointBisector.right(data, date) - 1, data.length - 1);\n    return data.slice(0, endIndex + 1);\n};\n\nconst getDataPoints = (stream, resolution) => {\n    if (resolution === 0) {\n        return stream.data;\n    }\n    if (stream.aggregates == null) {\n        return [];\n    }\n    return stream.aggregates[resolution] || [];\n};\n\nconst createCellItem = ({ value, error, isLoading, threshold } = {}, messageOverrides) => {\n    const valueOf = () => {\n        if (error) {\n            return error.msg;\n        }\n        if (isLoading) {\n            return messageOverrides.tableCell.loading;\n        }\n        return value;\n    };\n    const toString = () => {\n        return `${valueOf()}`;\n    };\n    return {\n        value,\n        error,\n        isLoading,\n        threshold,\n        valueOf,\n        toString,\n    };\n};\n\nconst createTableItems = ({ dataStreams, viewport, items, thresholds = [] }, messageOverrides) => {\n    return items.map((item) => {\n        const keys = Object.keys(item);\n        const keyDataPairs = keys.map((key) => {\n            var _a;\n            if (typeof item[key] === 'object' && Object.prototype.hasOwnProperty.call(item[key], '$cellRef')) {\n                const { $cellRef } = item[key];\n                const dataStream = dataStreams.find(({ id }) => id === $cellRef.id);\n                if (dataStream) {\n                    const dataPoints = getDataPoints(dataStream, $cellRef.resolution);\n                    const { error, isLoading } = dataStream;\n                    if ('end' in viewport && dataPoints) {\n                        const point = getDataBeforeDate(dataPoints, viewport.end).pop();\n                        const value = point === null || point === void 0 ? void 0 : point.y;\n                        const threshold = breachedThreshold({\n                            dataStream: dataStream,\n                            dataStreams: dataStreams,\n                            value,\n                            thresholds,\n                            date: viewport.end,\n                        });\n                        return { key, data: createCellItem({ value, error, isLoading, threshold }, messageOverrides) };\n                    }\n                    const value = (_a = dataPoints.slice(-1)[0]) === null || _a === void 0 ? void 0 : _a.y;\n                    const threshold = breachedThreshold({\n                        dataStream: dataStream,\n                        dataStreams: dataStreams,\n                        value,\n                        thresholds,\n                        date: new Date(Date.now()),\n                    });\n                    return { key, data: createCellItem({ value, error, isLoading, threshold }, messageOverrides) };\n                }\n                return { key, data: createCellItem({}, messageOverrides) };\n            }\n            return { key, data: createCellItem({ value: item[key] }, messageOverrides) };\n        });\n        return keyDataPairs.reduce((previous, { key, data }) => (Object.assign(Object.assign({}, previous), { [key]: data })), {});\n    });\n};\n\nconst DefaultTableCellMessages = {\n    loading: 'Loading',\n};\nconst DefaultPropertyFilterMessages = {\n    filteringAriaLabel: 'your choice',\n    dismissAriaLabel: 'Dismiss',\n    filteringPlaceholder: 'Search',\n    groupValuesText: 'Values',\n    groupPropertiesText: 'Properties',\n    operatorsText: 'Operators',\n    operationAndText: 'and',\n    operationOrText: 'or',\n    operatorLessText: 'Less than',\n    operatorLessOrEqualText: 'Less than or equal',\n    operatorGreaterText: 'Greater than',\n    operatorGreaterOrEqualText: 'Greater than or equal',\n    operatorContainsText: 'Contains',\n    operatorDoesNotContainText: 'Does not contain',\n    operatorEqualsText: 'Equals',\n    operatorDoesNotEqualText: 'Does not equal',\n    editTokenHeader: 'Edit filter',\n    propertyText: 'Property',\n    operatorText: 'Operator',\n    valueText: 'Value',\n    cancelActionText: 'Cancel',\n    applyActionText: 'Apply',\n    allPropertiesLabel: 'All properties',\n    tokenLimitShowMore: 'Show more',\n    tokenLimitShowFewer: 'Show fewer',\n    clearFiltersText: 'Clear filters',\n    removeTokenButtonAriaLabel: () => 'Remove token',\n    enteredTextLabel: (text) => `Use: \"${text}\"`,\n};\nconst DefaultTableMessages = {\n    tableCell: DefaultTableCellMessages,\n    propertyFilter: DefaultPropertyFilterMessages,\n};\n\nexport { DefaultTableMessages as D, Table as T, createTableItems as c };\n"],"names":["sortTooltipPoints","attr","a","b","point","closestPoint","dataPoints","date","dataAlignment","maxDistance","idx","pointBisector","left","leftPoint","rightPoint","x","getTime","DATA_ALIGNMENT","RIGHT","undefined","LEFT","activePoints","_ref","viewport","dataStreams","selectedDate","allowMultipleDates","maxDurationFromDate","dataStreamUtilizedData","map","stream","streamId","id","getDataBeforeDate","getDataPoints","resolution","end","selectedTimestamp","points","_ref2","sortedPoints","sort","p","Math","abs","length","topPoint","filter","isHigherPriority","t1","t2","severity","thresholdAppliesToDataStream","threshold","dataStreamId","dataStreamIds","includes","breachedThreshold","_ref6","value","thresholds","dataStream","applicableThresholds","dataThreshold","getBreachedThreshold","alarmThresholds","_ref3","alarmStreamIds","associatedStreams","_ref4","type","StreamType","ALARM","_ref5","latestAlarmValue","data","y","isDefined","breachedAlarmThresholds","reduce","highestPriorityThreshold","concat","_toConsumableArray","bisector","getVisibleData","includeBoundaryPoints","arguments","start","isMinimalStaticViewport","Date","now","parseDuration","duration","startIndex","max","endIndex","min","right","slice","aggregates","_typeof","obj","Symbol","iterator","constructor","prototype","_toPropertyKey","arg","key","input","hint","prim","toPrimitive","res","call","TypeError","String","Number","_toPrimitive","reactJsxRuntime_production_min","createCommonjsModule","module","exports","g","Fragment","for","h","m","react","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","ReactCurrentOwner","n","Object","hasOwnProperty","ref","__self","__source","q","c","k","d","e","l","defaultProps","$$typeof","props","_owner","current","jsx","jsxs","jsxRuntime","useVisualContext","elementRef","contextMatch","_a","useState","setValue","useMutationObserver","node","contextParent","findUpUntil","className","match","styles$e","reactKeyedFlattenChildren","defineProperty","default","flattenChildren","children","depth","keys","Children","toArray","acc","nodeIndex","reactIs","isFragment","push","apply","isValidElement","cloneElement","join","getDefaultExportFromCjs","InternalSpaceBetween","_b","direction","size","__internalRootRef","__rest","baseProps","getBaseProps","flattenedChildren","createElement","__assign","clsx","root","child","PRIORITY_MAPPING","top","bottom","RECTANGLE_CALCULATIONS","body","trigger","arrow","height","width","canRectFit","inner","outer","intersectRectangles","rectangles","boundingOffset","_i","rectangles_1","currentRect","top_1","styles$d","INITIAL_STYLES","position","PopoverContainer","trackRef","trackKey","zIndex","renderWithPortal","useContainerQuery","rect","prev","roundedRect","round","popoverRect","bodyRef","useRef","arrowRef","_c","inlineStyle","setInlineStyle","_d","internalPosition","setInternalPosition","isRefresh","useVisualRefresh","positionHandlerRef","updatePositionHandler","useCallback","document","ownerDocument","track","offsetWidth","offsetHeight","nodeContains","prevTop","style","prevLeft","viewportRect","window","innerWidth","innerHeight","getViewportRect","defaultView","trackRect","getBoundingClientRect","arrowRect","parseFloat","getComputedStyle","containingBlock","getContainingBlock","containingBlockRect","bodyRect","bodyRectCeil","ceil","preferred","container","bestPositionOutsideViewport","largestArea","fitsInContainer","fitsInViewport","boundingRectangles","availableArea","calculatePosition$1","documentElement","scrollWidth","scrollHeight","getDocumentRect","newInternalPosition","popoverOffset","toRelativePosition","trackRelativeOffset","newTrackOffset","useLayoutEffect","updatePosition","requestAnimationFrame","refreshPosition","addEventListener","removeEventListener","mergedRef","useMergeRefs$1","refresh","element","parent","_objectWithoutPropertiesLoose$1","source","excluded","i","target","sourceKeys","indexOf","_extends$1","assign","bind","this","FOCUS_GROUP","FOCUS_DISABLED","useMergeRefs","refs","defaultValue","initialValue","callback","facade","last","useCallbackRef","newValue","forEach","assignRef","hiddenGuard","padding","overflow","ItoI","innerCreateMedium","defaults","middleware","buffer","assigned","read","Error","useMedium","item","assignSyncMedium","cb","cbs","assignMedium","pendingQueue","executeQueue","cycle","Promise","resolve","then","createMedium","mediumFocus","currentTarget","mediumBlur","mediumEffect","mediumSidecar","options","medium","async","ssr","createSidecarMedium","emptyArray","FocusLock","forwardRef","parentRef","_extends2","_React$useState","realObserved","setObserved","observed","isActive","originalFocusedElement","disabled","noFocusGuards","persistentFocus","crossFrame","autoFocus","group","whiteList","hasPositiveIndices","_props$shards","shards","_props$as","as","Container","_props$lockProps","lockProps","containerProps","SideCar","sideCar","shouldReturnFocus","returnFocus","focusOptions","onActivationCallback","onActivation","onDeactivationCallback","onDeactivation","activeElement","useEffect","allowDefer","returnFocusTo","focus","howToReturnFocus","returnFocusOptions","onFocus","event","onBlur","setObserveNode","newObserved","hasLeadingGuards","hasTailingGuards","tabIndex","_setPrototypeOf","o","setPrototypeOf","__proto__","_inheritsLoose","subClass","superClass","create","propTypes","allowTextSelection","ret","Array","asArray","isArray","getTopParent","parentNode","getAllAffectedNodes","Boolean","currentNode","getAttribute","nodes","contained","Set","j","compareDocumentPosition","Node","DOCUMENT_POSITION_CONTAINED_BY","add","DOCUMENT_POSITION_CONTAINS","_","index","has","filterNested","querySelectorAll","getActiveElement","shadowRoot","focusInsideIframe","topNode","some","focusInside","dataset","focusGuard","result","contains","isVisibleUncached","checkParent","nodeType","DOCUMENT_NODE","ELEMENT_NODE","computedStyle","getPropertyValue","isElementHidden","DOCUMENT_FRAGMENT_NODE","host","isVisibleCached","visibilityCache","cached","get","set","getDataset","isHTMLInputElement","tagName","isRadioElement","isGuard","isNotAGuard","correctNode","name","el","checked","findSelectedRadio","pickFirstFocus","pickFocusable","NEW_FOCUS","newFocus","innerNodes","outerNodes","lastNode","cnt","firstFocus","lastFocus","isOnGuard","activeIndex","lastIndex","lastNodeInside","indexDiff","firstNodeIndex","lastNodeIndex","correctedNodes","resultSet","correctNodes","correctedIndexDiff","returnFirstNode","returnLastNode","tabSort","tabDiff","orderByTabIndex","filterNegative","keepGuards","queryTabbables","queryGuardTabbables","getFocusables$1","parents","withGuards","filterFocusable","isHTMLButtonElement","ariaDisabled","notHiddenInput","getTabbableNodes","topNodes","getAllTabbableNodes","parentAutofocusables","parentFocus","getParentAutofocusables","getParents","getCommonParent","nodeA","nodeB","parentsA","parentsB","currentParent","getTopCommonParent","baseActiveElement","leftEntry","rightEntries","activeElements","leftEntries","topCommon","entry","subEntry","common","getFocusMerge","entries","commonParent","Map","anyFocusable","innerElements","autoFocusables","orderedInnerElements","srcNodes","dstNodes","remap","entity","reorderNodes","newId","autoFocusable","allParentAutofocusables","autofocus","guardCount","lockDisabled","setFocus","focusable","console","error","setTimeout","contentWindow","deferAction","action","setImmediate","isFreeFocus","focusIsHidden","lastActiveTrap","lastActiveFocus","lastPortaledElement","focusWasOutsideWindow","defaultWhitelist","autoGuard","step","allNodes","lastGuard","guard","focusAutoGuard","lockItem","extractRef","checkInHost","check","boundary","activateTrap","_lastActiveTrap","workingNode","portaledElement","workingArea","focusWhitelisted","area","withinHost","blur","newActiveElement","getFocusabledIn","focusedIndex","removeAttribute","onTrap","stopPropagation","preventDefault","onWindowBlur","observerNode","moveFocusInside","FocusTrap","reducePropsToState","handleStateChangeOnClient","WrappedComponent","state","mountedInstances","emitChange","instance","SideEffect","_PureComponent","peek","_proto","componentDidMount","componentDidUpdate","componentWillUnmount","splice","render","PureComponent","displayName","getDisplayName","enumerable","configurable","writable","withSideEffect","propsList","traps","trap","lastTrap","sameTrap","FocusLockCombination","PopoverBody","fixedWidth","showDismissButton","dismissButton","dismissAriaLabel","header","onDismiss","variant","overflowVisible","dismissButtonRef","labelledById","useUniqueId","onKeyDown","keyCode","KeyCode","escape","dismiss","InternalButton","formAction","iconName","ariaLabel","onClick","role","content","config","TransitionGroupContext","createContext","UNMOUNTED","EXITED","ENTERING","ENTERED","EXITING","Transition$1","_React$Component","Transition","context","_this","initialStatus","appear","isMounting","enter","appearStatus","in","unmountOnExit","mountOnEnter","status","nextCallback","getDerivedStateFromProps","prevState","updateStatus","prevProps","nextStatus","cancelNextCallback","getTimeouts","exit","timeout","mounting","nodeRef","reactDom","findDOMNode","performEnter","performExit","setState","_this2","appearing","maybeNode","maybeAppearing","timeouts","enterTimeout","safeSetState","onEntered","onEnter","onEntering","onTransitionEnd","_this3","onExit","onExiting","onExited","cancel","nextState","setNextCallback","_this4","active","handler","doesNotHaveTimeoutOrListener","addEndListener","maybeNextCallback","_this$props","childProps","Provider","only","Component","noop","isIn","onStatusChange","transitionChangeDelay","rest","transitionRootElement","_e","transitionState","setTransitionState","motionDisabled","useReducedMotion","addTransitionEndListener","done","listener","isAppearing","entering","contextType","styles$c","InternalLink","fontSize","color","external","href","rel","externalIconAriaLabel","onFollow","_f","checkSafeUrl","isButton","hasSpecialStyle","focusVisible","useFocusVisible","anchorTarget","anchorRel","fireFollowEvent","fireCancelableEvent","linkRef","isVisualRefresh","useForwardFocus","applyButtonStyles","sharedProps","link","button","getVariantStyle","getFontSizeStyle","getColorStyle","icon","InternalIcon","space","isPlainLeftClick","replace","FormFieldContext","useFormFieldContext","fields","applyDefault","useContext","searchableFields","matchesString","searchText","strictMatching","toLowerCase","matchesSingleOption","dropdownOption","text","option","searchableTagFields","filterOptions$1","currentGroup","parentMatched","isInteractive$2","isGroupInteractive","isGroup$2","styles$b","usePrevious","styles$a","DropdownStatus","useDropdownStatus","statusType","empty","loadingText","finishedText","errorText","recoveryText","isEmpty","isNoMatch","noMatch","onRecoveryClick","previousStatusType","statusResult","isSticky","focusRecoveryLink","StatusIndicator","__animate","fireNonCancelableEvent","DropdownFooter","hasItems","testIndexMap","WeakMap","getTestOptionIndexes","generateTestIndexes","filteredItems","getParentGroup","throughIndex","groupIndex","inGroupIndex","parentGroup","prepareOptions","filteringType","filteringText","parentMap","flatOptions","options_1","rest_1","parentDropdownOption_1","allOptionsDisabled","every","childDropdownOption","flattenOptions","filteredOptions","styles$9","getDropdownPosition","dropdown","overflowParents","minWidth","preferCenter","stretchWidth","stretchHeight","isMobile","availableSpace","availableSpaceReserveVertical","availableSpaceReserveHorizontal","triggerBottom","triggerLeft","triggerRight","overflowParent","above","below","offsetTop","currentAbove","currentBelow","currentLeft","currentRight","MAX_VALUE","getAvailableSpace","triggerWidth","dropLeft","requiredWidth","idealWidth","spillOver","availableOutsideLeft","availableOutsideRight","dropUp","availableHeight","croppedHeight","floor","getInteriorDropdownPosition","AVAILABLE_SPACE_RESERVE_VERTICAL","AVAILABLE_SPACE_RESERVE_HORIZONTAL","triggerTop","getInteriorAvailableSpace","getOverflowParents","shift","parentDropdownTop","parentDropdownHeight","usePortalModeClasses","colorMode","useCurrentMode","densityMode","useDensityMode","visualRefresh","DropdownContext","DropdownContextProvider","TabTrap","focusNextCallback","tabbables","getFocusables","getFirstFocusable","DropdownContainer","open","createPortal","TransitionContent","transitionRef","dropdownClasses","interior","hasContent","dropdownRef","verticalContainerRef","expandToViewport","footer","onMouseDown","contentRef","Dropdown","onDropdownClose","dropdownId","stretchTriggerHeight","stretchToTriggerWidth","_g","_h","_j","_k","scrollable","_l","trapFocus","triggerRef","fixedPosition","_m","setPosition","useMobile","setDropdownPosition","triggerBox","verticalContainer","entireWidth","maxHeight","parseInt","classList","remove","isInteriorPosition","onDropdownOpen","__spreadArray","dropdownElement","triggerElement","verticalContainerElement","getOverflowParentDimensions","calculatePosition","timeoutId_1","clearTimeout","clickListener","updateDropdownPosition","triggerRect","focusables","getLastFocusable","useHighlightedOption","isHighlightable","highlightedIndex","setHighlightedIndexState","highlightType","setHighlightType","setHighlightedIndex","highlightedOption","moveHighlightFrom","newIndex","highlightOption","setHighlightedIndexWithMouse","moveHighlightWithKeyboard","moveHighlight","highlightOptionWithKeyboard","resetHighlightWithKeyboard","goHomeWithKeyboard","goEndWithKeyboard","getOptionId","menuId","useSelect","selectedOptions","updateSelectedOption","externalRef","keepOpen","fireLoadItems","setFilteringValue","useInteractiveGroups","interactivityCheck","filterRef","menuRef","hasFilter","activeRef","isSelectingUsingSpace","__selectedOptions","selectedOption","connectOptionsByValue","__selectedValuesSet","selectedValuesSet","onOpen","onClose","isOpen","setIsOpen","openDropdown","closeDropdown","toggleDropdown","useOpenState","focused","handleFocus","handleBlur","relatedTarget","detail","nextFocusedIsTrigger","containsOrEqual","nextFocusedInsideDropdown","nextFocusedInsideComponent","focusingOut","hasSelectedOption","selectedOptionId","useMemo","generateUniqueId","useIds","highlightedOptionId","selectOption","optionToSelect","activeKeyDownHandler","goHome","goEnd","preventNativeSpace","up","down","useMenuKeyboard","triggerKeyDownHandler","useTriggerKeyboard","getGroupState","totalSelected","hasSelected","allSelected","selected","indeterminate","prevOpen","preventScroll","highlightedGroupSelected","announceSelected","getTriggerProps","triggerProps","ariaLabelledby","getMenuProps","menuProps","onMouseUp","itemIndex","onMouseMove","nativeAttributes","getFilterProps","__onBlurWithDetail","onChange","__onDelayedInput","__nativeAttributes","getOptionProps","highlighted","groupState","nextOption","isNextSelected","isRepeatedChar","str","split","useNativeSearch","isEnabled","delayedResetValue","useDebounceCallback","charCode","tab","fromCharCode","nextHighlight","currentHighlight","matchingOptions","matchingOptions_1","findMatchingOption","useAnnouncement","getParent","selectedAriaLabel","renderHighlightedAriaLive","prevAnnouncedGroup","frameId_1","cancelAnimationFrame","selectedPrefix","defaultDescription","label","description","labelTag","tags","defaultOptionDescription","styles$8","getItemIndex","containerRef","mouseTarget","OptionsList$1","onLoadMore","decreaseTopMargin","restProps","handleScroll","scrollContainer","bottomEdgePosition","scrollTop","clientHeight","onScroll","fireKeyboardEvent","getBlurEventRelatedTarget","nativeEvent","styles$7","styles$6","Highlight","HighlightMatch","highlightText","filteringPattern","regexp","RegExp","noMatches","matches","splitOnFiltering","Label","prefix","triggerVariant","LabelTag","Description","Tags","tag","FilteringTags","filteringTags","searchElement","filteringTag","OptionIcon","url","svg","Option","isGroupOption","__customIcon","iconUrl","iconSvg","alt","iconAlt","title","__labelPrefix","styles$5","SelectableItem$1","ariaSelected","ariaChecked","hasBackground","isParent","isChild","virtualPosition","padBottom","screenReaderContent","ariaPosinset","ariaSetsize","classNames","screenReaderContentRef","setAttribute","textContent","transform","a11yProperties","Item$1","memo","filteringValue","hasCheckbox","wrappedOption","checkbox","CheckboxIcon","MutliselectItem","renderOptions","checkboxes","hasDropdownStatus","virtualItems","virtualItem","globalIndex","optionProps","getItemProps","isLastItem","ListItem","measureRef","PlainList$2","listBottom","useImperativeHandle","querySelector","scrollElementIntoView","_extends","rafId","observedNodes","run","changedStates","newRect","prop","callbacks","useIsomorphicLayoutEffect","useRect","initialRect","setElement","_React$useReducer","useReducer","rectReducer","dispatch","initialRectSet","_rect","observer","observe","wasEmpty","hasRectChanged","unobserve","defaultEstimateSize","defaultKeyExtractor","defaultMeasureSize","horizontal","defaultRangeExtractor","range","overscan","arr","useVirtual","_measurements","_ref$size","_ref$estimateSize","estimateSize","_ref$overscan","_ref$paddingStart","paddingStart","_ref$paddingEnd","paddingEnd","scrollToFn","useObserver","onScrollElement","scrollOffsetFn","_ref$keyExtractor","keyExtractor","_ref$measureSize","measureSize","_ref$rangeExtractor","rangeExtractor","sizeKey","scrollKey","latestRef","scrollOffset","measurements","setScrollOffset","outerSize","defaultScrollToFn","offset","resolvedScrollToFn","_React$useState2","measuredCache","setMeasuredCache","measure","pendingMeasuredCacheIndexesRef","measuredSize","_start","_size","_end","totalSize","scrollOffsetFnRef","capture","passive","_calculateRange","getOffset","findNearestBinarySearch","calculateRange","indexes","measureSizeRef","_loop","len","_scrollOffset","old","mountedRef","scrollToOffset","toOffset","_temp","_ref2$align","align","_latestRef$current","tryScrollToIndex","_temp2","_ref3$align","_objectWithoutPropertiesLoose","_latestRef$current2","measurement","scrollToIndex","_len","args","_key","low","high","getCurrentValue","middle","currentValue","VirtualListOpen","menuMeasureRef","menuRefObject","finalOptions","VirtualListClosed","VirtualList$2","Filter","filterProps","InternalInput","autoComplete","disableBrowserAutocorrect","invalid","__noBorderRadius","autoCorrect","autoCapitalize","buttonTriggerStyles","ButtonTrigger$1","pressed","hideCaret","readOnly","inFilteringToken","ariaHasPopup","ariaDescribedby","onKeyUp","attributes","Trigger","controlId","placeholder","triggerContent","styles$4","SelectToggle","allHidden","expanded","numberOfHiddenOptions","i18nStrings","numberOfHiddenOptionLabel","limitShowFewer","limitShowMore","handleClick","useKeyboardHandler","onPressArrowDown","onPressArrowUp","onPressEnter","onPressEsc","isGroup$1","popLastGroup","lastOption","pop","matchSingleOption","matchString","isHighlightable$1","useAutosuggestItems","filterValue","filterText","hideEnteredTextLabel","onSelectItem","showAll","setShowAll","items","isGroup","flattenGroup","createItems","filteredIn","filterOptions","unshift","highlightedOptionState","highlightedOptionHandlers","selectHighlightedOptionWithKeyboard","optionOrGroup","hasOnlyDisabledChildren","options_2","childOption","styles$3","AutosuggestOption$1","optionContent","enteredTextLabel","useEntered","highlightedA11yProps","baseOptionProps","isNotEnteredTextItem","PlainList","autosuggestItemsState","handleLoadMore","listRef","unselectable","VirtualList","scrollRef","strutRef","rowVirtualizer","virtualRow","isInteractive","createMouseEventHandler","AutosuggestOptionsList","autosuggestItemsHandlers","listId","virtualScroll","highlightVisibleOption","useHighlightVisibleOption","selectVisibleOption","useSelectVisibleOption","handleMouseUp","handleMouseMove","ListComponent","announcement","useAutosuggestDropdown","setOpen","footerRef","handleMouseDown","InternalAutosuggest","onLoadItems","ariaRequired","onSelect","autosuggestDropdownHandlers","autosuggestDropdownRefs","fireLoadMore","lastFilteringText","firstPage","samePage","useLoadMoreItems$1","handleKeyDown","handleRecoveryClick","inputRef","formFieldContext","selfControlId","showRecoveryLink","dropdownStatus","Arrow$1","Portal","activeContainer","setActiveContainer","newContainer","appendChild","removeChild","styles$2","InternalSelect","filteringPlaceholder","filteringAriaLabel","__inFilteringToken","prevFilteringText","useLoadItems$1","rootRef","handleNativeSearch","onKeyPress","InternalPopover","triggerType","__onOpen","popoverRef","clickFrameId","visible","setVisible","onTriggerClick","onTriggerKeyDown","dismissPopover","onDocumentClick","popoverClasses","popoverContent","styles$1","useLoadItems","focusFilteringText","currentFilteringProperty","currentFilteringText","currentFilteringOperator","focusIn","filteringProperty","filteringOperator","trimStart","spacesLength","startsWith","getAllowedOperators","property","operators","defaultOperator","operatorSet","op","parseText","filteringProperties","disableFreeTextFiltering","negatedGlobalQuery","exec","operator","maxLength","matchedProperty","filteringProperties_1","propertyLabel","matchFilteringProperty","allowedOps","textWithoutProperty","substring","allowedOperators","matchedOperator","allowedOperators_1","matchOperator","operatorLastIndex","textWithoutPropertyAndOperator","operatorPrefix","trim","allowedOperators_2","matchOperatorPrefix","getPropertyOptions","filteringOptions","propertyKey","getAllValueSuggestions","customGroupsText","defaultGroup","groupValuesText","customGroups","filteringOption","getPropertyByKey","customGroup","values","tokenValue","filteringPropertyToAutosuggestOption","keepOpenOnSelect","getPropertySuggestions","filteringPropertyToOption","groupPropertiesText","optionsGroup","properties","defaultGroupArray","customGroupsArray","groupKey","operatorToDescription","operatorLessText","operatorLessOrEqualText","operatorGreaterText","operatorGreaterOrEqualText","operatorContainsText","operatorDoesNotContainText","operatorEqualsText","operatorDoesNotEqualText","freeTextOperators","PropertyInput","onChangePropertyKey","asyncProps","propertySelectHandlers","asyncPropertySelectProps","propertyOptions","dontCloseOnSelect","allPropertiesOption","allPropertiesLabel","propertyText","htmlFor","OperatorInput","onChangeOperator","operatorOptions","contorlId","operatorText","ValueInput","onChangeValue","valueOptions","valueAutosuggestHandlers","asyncValueAutosuggesProps","valueText","TokenEditor","asyncProperties","setToken","token","triggerComponent","temporaryToken","setTemporaryToken","closePopover","editTokenHeader","newPropertyKey","newOperator","cancelActionText","applyActionText","styles","FilteringToken","showOperation","operation","andText","orText","Token","first","removeToken","setOperation","hideOperations","operationAndText","operationOrText","removeTokenButtonAriaLabel","TokenTrigger","PropertyFilterAutosuggest","onOptionClick","hideEnteredTextOption","useLoadMoreItems","PropertyFilter","countText","query","customControl","filteringEmpty","filteringLoadingText","filteringFinishedText","filteringErrorText","filteringRecoveryText","filteringStatusType","tokenLimit","useBaseComponent","preventFocus","tokens","showResults","fireOnChange","newToken","newTokens","removeAllTokens","addToken","newOperation","getQueryActions","setFilteringText","parsedText","autosuggestOptions","propertyLabel_1","groupValuesLabel","operatorsText","needsValueSuggestions","needsPropertySuggestions","getAutosuggestOptions","createToken","currentText","ignoreKeyDown","getLoadMoreDetail","loadMoreDetail","inputLoadItemsHandlers","asyncAutosuggestProps","tokensExpanded","setTokensExpanded","hasHiddenOptions","slicedTokens","tokenLimitShowFewer","tokenLimitShowMore","clearFiltersText","ascending","NaN","descending","zero","applyDisplayName","DEFAULT_SIZE_PX","icons","normal","viewBox","fill","fillRule","cx","cy","r","stroke","strokeWidth","mask","acknowledged","strokeLinecap","strokeLinejoin","strokeMiterlimit","latched","snoozed","getIcons","warn","LoadingSpinner","_props$dark","dark","stdDeviation","clipPath","xlinkHref","fillOpacity","Table","userItems","_props$sorting","sorting","propertyFiltering","userColumnDefinitions","columnDefinitions","propertyFilter","messageOverrides","_useCollection","useCollection","collectionProps","propertyFilterProps","colDef","cell","_item$colDef$key","isLoading","_ref7","_ref7$color","StatusIcon","ERROR","msg","formatter","getDefaultColumnDefinitions","Table$1","f","compare1","compare2","delta","lo","hi","mid","center","createCellItem","_ref8","valueOf","tableCell","loading","toString","createTableItems","_ref9","_ref9$thresholds","$cellRef","find","_ref10","previous","_ref11","_defineProperty2","DefaultTableMessages"],"sourceRoot":""}