"use strict";(self.webpackChunksmart_light_bulbs=self.webpackChunksmart_light_bulbs||[]).push([[1669],{9638:function(t,e,n){n.d(e,{E:function(){return o}});var r=n(8427),i=n(2336),o=function(t){var e=t.isLoading,n=t.hasNoDataPresent,o=t.hasNoDataStreamsPresent,a=t.messageOverrides,s=t.displaysNoDataPresentMsg;return(0,r.h)("div",{class:"empty-status",style:(!(n||o)||e)&&{display:"none"}||void 0},!e&&o&&[(0,r.h)("h3",null,a.noDataStreamsPresentHeader||i.c),a.noDataStreamsPresentSubHeader||i.d],!e&&s&&!o&&n&&[(0,r.h)("h3",null,a.noDataPresentHeader||i.a),a.noDataPresentSubHeader||i.b])}},6673:function(t,e,n){n.d(e,{D:function(){return i},a:function(){return o},b:function(){return a}});var r=n(7775),i={widgetId:"fake-id",viewport:{start:new Date(1995,0,0,0),end:new Date(2020,1,0,0),yMin:0,yMax:1e4},size:{width:475,height:350,marginLeft:50,marginRight:50,marginTop:24,marginBottom:30},movement:{enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},layout:{xGridVisible:!1,yGridVisible:!0,xTicksVisible:!0,yTicksVisible:!0},scale:{xScaleType:r.b.TimeSeries,yScaleType:r.b.Linear,xScaleSide:"bottom",yScaleSide:"left"},dataStreams:[],legend:{position:r.L.BOTTOM,width:170}},o={showColor:!0},a={showColor:!1}},1669:function(t,e,n){n.r(e),n.d(e,{sc_chart_icon:function(){return Dn},sc_data_stream_name:function(){return An},sc_expandable_input:function(){return Ln},sc_gesture_handler:function(){return Da},sc_legend:function(){return Pa},sc_legend_row:function(){return Ra},sc_loading_spinner:function(){return Ha},sc_size_provider:function(){return Ua},sc_tooltip:function(){return Va},sc_tooltip_row:function(){return Fa},sc_tooltip_rows:function(){return ks},sc_webgl_axis:function(){return zs},sc_webgl_base_chart:function(){return Ru},sc_webgl_context:function(){return Hu}});var r=n(3433),i=n(9439),o=n(5671),a=n(3144),s=n(8427),u=n(7775),l=n(9310),c=n(5166),h=n(9503),f=n(7671),d=n(2669),p=n(6591),g=n(553),v=n(2473),m=n(5789),y=n(4231),w=n(4540),x=n(5396),b=n(8828),_=n(8858),M=n(8627),S=n(6673),k=n(7142),z=n(4341),T=n(9638),C=n(8529);n(8134),n(339);var D=(0,c.b)(c.a).right;(0,c.b)((function(t){return null===t?NaN:+t})).center;var A=Math.sqrt(50),L=Math.sqrt(10),E=Math.sqrt(2);function j(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=A?10:o>=L?5:o>=E?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=A?10:o>=L?5:o>=E?2:1)}function P(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=A?i*=10:o>=L?i*=5:o>=E&&(i*=2),e<t?-i:i}function N(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function O(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function R(){}var H=.7,U=1/H,V="\\s*([+-]?\\d+)\\s*",F="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Y="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Z=/^#([0-9a-f]{3,8})$/,I=new RegExp("^rgb\\("+[V,V,V]+"\\)$"),B=new RegExp("^rgb\\("+[Y,Y,Y]+"\\)$"),q=new RegExp("^rgba\\("+[V,V,V,F]+"\\)$"),X=new RegExp("^rgba\\("+[Y,Y,Y,F]+"\\)$"),$=new RegExp("^hsl\\("+[F,Y,Y]+"\\)$"),W=new RegExp("^hsla\\("+[F,Y,Y,F]+"\\)$"),G={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function K(){return this.rgb().formatHex()}function Q(){return this.rgb().formatRgb()}function J(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Z.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?tt(e):3===n?new rt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?et(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?et(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=I.exec(t))?new rt(e[1],e[2],e[3],1):(e=B.exec(t))?new rt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=q.exec(t))?et(e[1],e[2],e[3],e[4]):(e=X.exec(t))?et(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=$.exec(t))?st(e[1],e[2]/100,e[3]/100,1):(e=W.exec(t))?st(e[1],e[2]/100,e[3]/100,e[4]):G.hasOwnProperty(t)?tt(G[t]):"transparent"===t?new rt(NaN,NaN,NaN,0):null}function tt(t){return new rt(t>>16&255,t>>8&255,255&t,1)}function et(t,e,n,r){return r<=0&&(t=e=n=NaN),new rt(t,e,n,r)}function nt(t,e,n,r){return 1===arguments.length?((i=t)instanceof R||(i=J(i)),i?new rt((i=i.rgb()).r,i.g,i.b,i.opacity):new rt):new rt(t,e,n,null==r?1:r);var i}function rt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function it(){return"#"+at(this.r)+at(this.g)+at(this.b)}function ot(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function at(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function st(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new lt(t,e,n,r)}function ut(t){if(t instanceof lt)return new lt(t.h,t.s,t.l,t.opacity);if(t instanceof R||(t=J(t)),!t)return new lt;if(t instanceof lt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new lt(a,s,u,t.opacity)}function lt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function ct(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function ht(t){return function(){return t}}function ft(t){return 1===(t=+t)?dt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):ht(isNaN(e)?n:e)}}function dt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):ht(isNaN(t)?e:t)}N(R,J,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:K,formatHex:K,formatHsl:function(){return ut(this).formatHsl()},formatRgb:Q,toString:Q}),N(rt,nt,O(R,{brighter:function(t){return t=null==t?U:Math.pow(U,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?H:Math.pow(H,t),new rt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:it,formatHex:it,formatRgb:ot,toString:ot})),N(lt,(function(t,e,n,r){return 1===arguments.length?ut(t):new lt(t,e,n,null==r?1:r)}),O(R,{brighter:function(t){return t=null==t?U:Math.pow(U,t),new lt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?H:Math.pow(H,t),new lt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new rt(ct(t>=240?t-240:t+120,i,r),ct(t,i,r),ct(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var pt=function t(e){var n=ft(e);function r(t,e){var r=n((t=nt(t)).r,(e=nt(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=dt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function gt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function vt(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=Mt(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function mt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function yt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function wt(t,e){var n,r={},i={};for(n in null!==t&&"object"===typeof t||(t={}),null!==e&&"object"===typeof e||(e={}),e)n in t?r[n]=Mt(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var xt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bt=new RegExp(xt.source,"g");function _t(t,e){var n,r,i,o=xt.lastIndex=bt.lastIndex=0,a=-1,s=[],u=[];for(t+="",e+="";(n=xt.exec(t))&&(r=bt.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:yt(n,r)})),o=bt.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?function(t){return function(e){return t(e)+""}}(u[0].x):function(t){return function(){return t}}(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Mt(t,e){var n,r,i=typeof e;return null==e||"boolean"===i?ht(e):("number"===i?yt:"string"===i?(n=J(e))?(e=n,pt):_t:e instanceof J?pt:e instanceof Date?mt:(r=e,!ArrayBuffer.isView(r)||r instanceof DataView?Array.isArray(e)?vt:"function"!==typeof e.valueOf&&"function"!==typeof e.toString||isNaN(e)?wt:yt:gt))(t,e)}function St(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var kt,zt,Tt,Ct,Dt=180/Math.PI,At={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Lt(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Dt,skewX:Math.atan(u)*Dt,scaleX:a,scaleY:s}}function Et(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}return function(o,a){var s=[],u=[];return o=t(o),a=t(a),function(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:yt(t,i)},{i:u-2,x:yt(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}(o.translateX,o.translateY,a.translateX,a.translateY,s,u),function(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:yt(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}(o.rotate,a.rotate,s,u),function(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:yt(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}(o.skewX,a.skewX,s,u),function(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:yt(t,n)},{i:s-2,x:yt(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}(o.scaleX,o.scaleY,a.scaleX,a.scaleY,s,u),o=a=null,function(t){for(var e,n=-1,r=u.length;++n<r;)s[(e=u[n]).i]=e.x(t);return s.join("")}}}var jt=Et((function(t){return"none"===t?At:(kt||(kt=document.createElement("DIV"),zt=document.documentElement,Tt=document.defaultView),kt.style.transform=t,t=Tt.getComputedStyle(zt.appendChild(kt),null).getPropertyValue("transform"),zt.removeChild(kt),Lt(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),"px, ","px)","deg)"),Pt=Et((function(t){return null==t?At:(Ct||(Ct=document.createElementNS("http://www.w3.org/2000/svg","g")),Ct.setAttribute("transform",t),(t=Ct.transform.baseVal.consolidate())?Lt((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):At)}),", ",")",")"),Nt=Math.SQRT2,Ot=2,Rt=4,Ht=1e-12;function Ut(t){return((t=Math.exp(t))+1/t)/2}function Vt(t,e){var n,r,i=t[0],o=t[1],a=t[2],s=e[0],u=e[1],l=e[2],c=s-i,h=u-o,f=c*c+h*h;if(f<Ht)r=Math.log(l/a)/Nt,n=function(t){return[i+t*c,o+t*h,a*Math.exp(Nt*t*r)]};else{var d=Math.sqrt(f),p=(l*l-a*a+Rt*f)/(2*a*Ot*d),g=(l*l-a*a-Rt*f)/(2*l*Ot*d),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Nt,n=function(t){var e,n=t*r,s=Ut(v),u=a/(Ot*d)*(s*(e=Nt*n+v,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(v));return[i+u*c,o+u*h,a*s/Ut(Nt*n+v)]}}return n.duration=1e3*r,n}var Ft=new Date,Yt=new Date;function Zt(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return Zt((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Ft.setTime(+e),Yt.setTime(+r),t(Ft),t(Yt),Math.floor(n(Ft,Yt))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var It=864e5,Bt=6048e5,qt=Zt((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/It}),(function(t){return t.getDate()-1}));function Xt(t){return Zt((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/Bt}))}var $t=Xt(0),Wt=Xt(1);Xt(2),Xt(3);var Gt=Xt(4);Xt(5),Xt(6);var Kt=Zt((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Kt.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Zt((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Qt=Zt((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/It}),(function(t){return t.getUTCDate()-1}));function Jt(t){return Zt((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/Bt}))}var te=Jt(0),ee=Jt(1);Jt(2),Jt(3);var ne=Jt(4);Jt(5),Jt(6);var re=Zt((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));function ie(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function oe(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ae(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}re.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Zt((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var se,ue,le={"-":"",_:" ",0:"0"},ce=/^\s*\d+/,he=/^%/,fe=/[\\^$*+?|[\]().{}]/g;function de(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function pe(t){return t.replace(fe,"\\$&")}function ge(t){return new RegExp("^(?:"+t.map(pe).join("|")+")","i")}function ve(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function me(t,e,n){var r=ce.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ye(t,e,n){var r=ce.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function we(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function xe(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function be(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _e(t,e,n){var r=ce.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Me(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Se(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ke(t,e,n){var r=ce.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function ze(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Te(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Ce(t,e,n){var r=ce.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function De(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Ae(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Le(t,e,n){var r=ce.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ee(t,e,n){var r=ce.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function je(t,e,n){var r=ce.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Pe(t,e,n){var r=he.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ne(t,e,n){var r=ce.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Oe(t,e,n){var r=ce.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Re(t,e){return de(t.getDate(),e,2)}function He(t,e){return de(t.getHours(),e,2)}function Ue(t,e){return de(t.getHours()%12||12,e,2)}function Ve(t,e){return de(1+qt.count(Kt(t),t),e,3)}function Fe(t,e){return de(t.getMilliseconds(),e,3)}function Ye(t,e){return Fe(t,e)+"000"}function Ze(t,e){return de(t.getMonth()+1,e,2)}function Ie(t,e){return de(t.getMinutes(),e,2)}function Be(t,e){return de(t.getSeconds(),e,2)}function qe(t){var e=t.getDay();return 0===e?7:e}function Xe(t,e){return de($t.count(Kt(t)-1,t),e,2)}function $e(t){var e=t.getDay();return e>=4||0===e?Gt(t):Gt.ceil(t)}function We(t,e){return t=$e(t),de(Gt.count(Kt(t),t)+(4===Kt(t).getDay()),e,2)}function Ge(t){return t.getDay()}function Ke(t,e){return de(Wt.count(Kt(t)-1,t),e,2)}function Qe(t,e){return de(t.getFullYear()%100,e,2)}function Je(t,e){return de((t=$e(t)).getFullYear()%100,e,2)}function tn(t,e){return de(t.getFullYear()%1e4,e,4)}function en(t,e){var n=t.getDay();return de((t=n>=4||0===n?Gt(t):Gt.ceil(t)).getFullYear()%1e4,e,4)}function nn(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+de(e/60|0,"0",2)+de(e%60,"0",2)}function rn(t,e){return de(t.getUTCDate(),e,2)}function on(t,e){return de(t.getUTCHours(),e,2)}function an(t,e){return de(t.getUTCHours()%12||12,e,2)}function sn(t,e){return de(1+Qt.count(re(t),t),e,3)}function un(t,e){return de(t.getUTCMilliseconds(),e,3)}function ln(t,e){return un(t,e)+"000"}function cn(t,e){return de(t.getUTCMonth()+1,e,2)}function hn(t,e){return de(t.getUTCMinutes(),e,2)}function fn(t,e){return de(t.getUTCSeconds(),e,2)}function dn(t){var e=t.getUTCDay();return 0===e?7:e}function pn(t,e){return de(te.count(re(t)-1,t),e,2)}function gn(t){var e=t.getUTCDay();return e>=4||0===e?ne(t):ne.ceil(t)}function vn(t,e){return t=gn(t),de(ne.count(re(t),t)+(4===re(t).getUTCDay()),e,2)}function mn(t){return t.getUTCDay()}function yn(t,e){return de(ee.count(re(t)-1,t),e,2)}function wn(t,e){return de(t.getUTCFullYear()%100,e,2)}function xn(t,e){return de((t=gn(t)).getUTCFullYear()%100,e,2)}function bn(t,e){return de(t.getUTCFullYear()%1e4,e,4)}function _n(t,e){var n=t.getUTCDay();return de((t=n>=4||0===n?ne(t):ne.ceil(t)).getUTCFullYear()%1e4,e,4)}function Mn(){return"+0000"}function Sn(){return"%"}function kn(t){return+t}function zn(t){return Math.floor(+t/1e3)}se=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=ge(i),c=ve(i),h=ge(o),f=ve(o),d=ge(a),p=ve(a),g=ge(s),v=ve(s),m=ge(u),y=ve(u),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Re,e:Re,f:Ye,g:Je,G:en,H:He,I:Ue,j:Ve,L:Fe,m:Ze,M:Ie,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:kn,s:zn,S:Be,u:qe,U:Xe,V:We,w:Ge,W:Ke,x:null,X:null,y:Qe,Y:tn,Z:nn,"%":Sn},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:rn,e:rn,f:ln,g:xn,G:_n,H:on,I:an,j:sn,L:un,m:cn,M:hn,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:kn,s:zn,S:fn,u:dn,U:pn,V:vn,w:mn,W:yn,x:null,X:null,y:wn,Y:bn,Z:Mn,"%":Sn},b={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=m.exec(e.slice(n));return r?(t.m=y[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,n,r){return S(t,e,n,r)},d:Te,e:Te,f:je,g:Me,G:_e,H:De,I:De,j:Ce,L:Ee,m:ze,M:Ae,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},q:ke,Q:Ne,s:Oe,S:Le,u:ye,U:we,V:xe,w:me,W:be,x:function(t,e,r){return S(t,n,e,r)},X:function(t,e,n){return S(t,r,e,n)},y:Me,Y:_e,Z:Se,"%":Pe};function _(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++s<l;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=le[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function M(t,e){return function(n){var r,i,o=ae(1900,void 0,1);if(S(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=oe(ae(o.y,0,1))).getUTCDay(),r=i>4||0===i?ee.ceil(r):ee(r),r=Qt.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=ie(ae(o.y,0,1))).getDay(),r=i>4||0===i?Wt.ceil(r):Wt(r),r=qt.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?oe(ae(o.y,0,1)).getUTCDay():ie(ae(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,oe(o)):ie(o)}}function S(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=b[i in le?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=_(n,w),w.X=_(r,w),w.c=_(e,w),x.x=_(n,x),x.X=_(r,x),x.c=_(e,x),{format:function(t){var e=_(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=M(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=_(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=M(t+="",!0);return e.toString=function(){return t},e}}}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]}),ue=se.format;var Tn=16,Cn={normal:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 16 16",fill:t?"".concat(t):"#1d8102"},(0,s.h)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6z"}),(0,s.h)("path",{d:"M7 8.6l-2-2L3.6 8 7 11.4l4.9-4.9-1.4-1.4z"}))},active:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),fill:t?"".concat(t):"#d13212",viewBox:"0 0 16 16"},(0,s.h)("g",{fill:"none","fill-rule":"evenodd"},(0,s.h)("circle",{cx:"8",cy:"8",r:"7",stroke:t?"".concat(t):"#d13212","stroke-width":"2"}),(0,s.h)("g",{transform:"translate(7 4)"},(0,s.h)("mask",{id:"b",fill:"#fff"},(0,s.h)("path",{id:"a",d:"M2.00129021 6v2h-2V6h2zm0-6v5h-2V0h2z"})),(0,s.h)("g",{mask:"url(#b)"},(0,s.h)("path",{fill:t?"".concat(t):"#d13212",d:"M-7-5H9v16H-7z"})))))},acknowledged:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 16 16",stroke:t?"".concat(t):"#3184c2"},(0,s.h)("path",{fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2 12.286h5.143L8.857 14l1.714-1.714H14V2H2v10.286z"}),(0,s.h)("path",{fill:"none","stroke-linecap":"round","stroke-width":"2","stroke-miterlimit":"10",d:"M4.99 7H5v.01h-.01zM7.99 7H8v.01h-.01zM10.99 7H11v.01h-.01z"}))},disabled:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 16 16",stroke:t?"".concat(t):"#687078"},(0,s.h)("g",{fill:"none","stroke-width":"2"},(0,s.h)("circle",{cx:"8",cy:"8",r:"7","stroke-linejoin":"round"}),(0,s.h)("path",{"stroke-linecap":"square","stroke-miterlimit":"10",d:"M11 8H5"})))},latched:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 16 16",fill:t?"".concat(t):"#f89256"},(0,s.h)("path",{d:"M15.9 14.6l-7-14c-.3-.7-1.5-.7-1.8 0l-7 14c-.2.3-.1.7 0 1 .2.2.6.4.9.4h14c.3 0 .7-.2.9-.5.1-.3.1-.6 0-.9zM2.6 14L8 3.2 13.4 14H2.6z"}),(0,s.h)("path",{d:"M7 11v2h2v-2zM7 6h2v4H7z"}))},snoozed:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 16 16",stroke:t?"".concat(t):"#879596"},(0,s.h)("g",{fill:"none","stroke-width":"2"},(0,s.h)("circle",{cx:"8",cy:"8",r:"7","stroke-linejoin":"round"}),(0,s.h)("path",{"stroke-linecap":"square","stroke-miterlimit":"10",d:"M8 5v4H5"})))},error:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;return(0,s.h)("svg",{width:"".concat(e,"px"),height:"".concat(e,"px"),viewBox:"0 0 16 16",fill:t?"".concat(t):"#FF0000","data-test-tag":"error"},(0,s.h)("path",{class:"st4",d:"M13.7 2.3C12.1.8 10.1 0 8 0S3.9.8 2.3 2.3C.8 3.9 0 5.9 0 8s.8 4.1 2.3 5.7C3.9 15.2 5.9 16 8 16s4.1-.8 5.7-2.3C15.2 12.1 16 10.1 16 8s-.8-4.1-2.3-5.7zm-1.5 9.9C11.1 13.4 9.6 14 8 14s-3.1-.6-4.2-1.8S2 9.6 2 8s.6-3.1 1.8-4.2S6.4 2 8 2s3.1.6 4.2 1.8S14 6.4 14 8s-.6 3.1-1.8 4.2z"}),(0,s.h)("path",{class:"st4",d:"M10.1 4.5L8 6.6 5.9 4.5 4.5 5.9 6.6 8l-2.1 2.1 1.4 1.4L8 9.4l2.1 2.1 1.4-1.4L9.4 8l2.1-2.1z"}))}},Dn=function(){function t(e){(0,o.Z)(this,t),(0,s.r)(this,e),this.name=u.S.NORMAL}return(0,a.Z)(t,[{key:"render",value:function(){return(0,s.h)("div",{class:"sc-chart-icon"},function(t,e,n){if(Cn[t])return Cn[t](e,n);console.warn("Invalid status icon requested: ".concat(t))}(this.name,this.color,this.size))}}]),t}();Dn.style=".sc-chart-icon{position:relative;margin-right:3px;top:2px;padding:0.5rem 0;display:inline}";var An=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.displayTooltip=!0,this.renderTooltip=function(){if(n.displayTooltip){var t=n.el.querySelector("sc-expandable-input"),e=n.el.querySelector(".data-stream-name-tooltip");null!=e&&null!=t&&(e.style.display="block",n.tooltip=(0,l.t)(t,Object.assign(Object.assign({},l.T),{content:e})))}}}return(0,a.Z)(t,[{key:"disconnectedCallback",value:function(){this.tooltip&&this.tooltip.destroy()}},{key:"render",value:function(){var t=this;return(0,s.h)("div",{class:"awsui"},(0,s.h)("sc-expandable-input",{isDisabled:!this.isEditing,onValueChange:function(e){t.onNameChange(e)},onMouseOver:this.renderTooltip,onFocus:this.renderTooltip,value:this.label}),(0,s.h)("div",{class:"data-stream-name-tooltip awsui-util-container awsui",style:{display:"none"}},(0,s.h)("div",{class:"awsui-util-spacing-v-s"},(0,s.h)("div",null,(0,s.h)("div",{class:"awsui-util-label"},this.detailedLabel||this.label),this.pointType&&"trend"===this.pointType&&(0,s.h)("small",null,"This trend line is computed from only visible data.")),this.date&&(0,s.h)("div",null,(0,s.h)("div",{class:"awsui-util-label"},"Latest value at"),(0,s.h)("div",null,this.date.toLocaleString("en-US",{hour12:!0,minute:"numeric",hour:"numeric",year:"numeric",month:"numeric",day:"numeric"}))))))}},{key:"el",get:function(){return(0,s.g)(this)}}]),t}();An.style="sc-data-stream-name{color:var(--polaris-gray-900)}sc-data-stream-name .awsui{color:inherit}";var Ln=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.onChange=function(t){var e=t.target;n.onValueChange(e.innerText)}}return(0,a.Z)(t,[{key:"render",value:function(){var t=this.value,e=this.isDisabled,n=void 0!==e&&e;return(0,s.h)("span",{"data-test-tag":"expandable-input",contentEditable:!n,class:"sc-expandable-input aws-util-font-size-1 ".concat(n?"disabled":""),onBlur:this.onChange},t)}}]),t}();function En(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function jn(t){return+t}Ln.style="sc-expandable-input .sc-expandable-input{display:inline-block;background:none;color:inherit;word-break:break-word;margin-top:3px;min-width:20px;text-overflow:ellipsis;border:none;border-bottom:var(--border-width) solid var(--polaris-gray-400)}sc-expandable-input .sc-expandable-input.disabled{outline:none;border-bottom-color:rgba(0, 0, 0, 0)}";var Pn=[0,1];function Nn(t){return t}function On(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:(n=isNaN(e)?NaN:.5,function(){return n});var n}function Rn(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=On(i,r),o=n(a,o)):(r=On(r,i),o=n(o,a)),function(t){return o(r(t))}}function Hn(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=On(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=D(t,e,1,r)-1;return o[n](i[n](e))}}function Un(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vn(){var t,e,n,r,i,o,a=Pn,s=Pn,u=Mt,l=Nn;function c(){var t=Math.min(a.length,s.length);return l!==Nn&&(l=function(t,e){var n;return t>e&&(n=t,t=e,e=n),function(n){return Math.max(t,Math.min(e,n))}}(a[0],a[t-1])),r=t>2?Hn:Rn,i=o=null,h}function h(e){return null==e||isNaN(e=+e)?n:(i||(i=r(a.map(t),s,u)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(s,a.map(t),yt)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,jn),c()):a.slice()},h.range=function(t){return arguments.length?(s=Array.from(t),c()):s.slice()},h.rangeRound=function(t){return s=Array.from(t),u=St,c()},h.clamp=function(t){return arguments.length?(l=!!t||Nn,c()):l!==Nn},h.interpolate=function(t){return arguments.length?(u=t,c()):u},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function Fn(){return Vn()(Nn,Nn)}function Yn(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zn(t){return(t=Yn(Math.abs(t)))?t[1]:NaN}var In,Bn=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qn(t){if(!(e=Bn.exec(t)))throw new Error("invalid format: "+t);var e;return new Xn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function Xn(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function $n(t,e){var n=Yn(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}qn.prototype=Xn.prototype,Xn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Wn={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return $n(100*t,e)},r:$n,s:function(t,e){var n=Yn(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(In=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Yn(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function Gn(t){return t}var Kn,Qn,Jn,tr=Array.prototype.map,er=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function nr(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Gn:(e=tr.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?Gn:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(tr.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"\u2212":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=qn(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):Wn[y]||(void 0===v&&(v=12),m=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?o:/[%p]/.test(y)?u:"",b=Wn[y],_=/[defgprs%]/.test(y);function M(t){var i,o,u,f=w,M=x;if("c"===y)M=b(t)+M,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===y?er[8+In/3]:"")+M+(S&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){M=(46===u?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var k=f.length+t.length+M.length,z=k<p?new Array(p-k+1).join(e):"";switch(g&&d&&(t=r(z+t,z.length?p-M.length:1/0),z=""),n){case"<":t=f+t+M+z;break;case"=":t=f+z+t+M;break;case"^":t=z.slice(0,k=z.length>>1)+f+t+M+z.slice(k);break;default:t=z+f+t+M}return s(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n=h(((t=qn(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Zn(e)/3))),i=Math.pow(10,-r),o=er[8+r/3];return function(t){return n(i*t)+o}}}}function rr(t,e,n,r){var i,o=P(t,e,n);switch((r=qn(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Zn(e)/3)))-Zn(Math.abs(t)))}(o,a))||(r.precision=i),Jn(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zn(e)-Zn(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-Zn(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return Qn(r)}function ir(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=j(t,e,n))||!isFinite(a))return[];if(a>0){var u=Math.round(t/a),l=Math.round(e/a);for(u*a<t&&++u,l*a>e&&--l,o=new Array(i=l-u+1);++s<i;)o[s]=(u+s)*a}else{a=-a;var c=Math.round(t*a),h=Math.round(e*a);for(c/a<t&&++c,h/a>e&&--h,o=new Array(i=h-c+1);++s<i;)o[s]=(c+s)/a}return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return rr(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,s=o.length-1,u=o[a],l=o[s],c=10;for(l<u&&(i=u,u=l,l=i,i=a,a=s,s=i);c-- >0;){if((i=j(u,l,n))===r)return o[a]=u,o[s]=l,e(o);if(i>0)u=Math.floor(u/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;u=Math.ceil(u*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function or(){var t=Fn();return t.copy=function(){return Un(t,or())},En.apply(t,arguments),ir(t)}!function(t){Kn=nr(t),Qn=Kn.format,Jn=Kn.formatPrefix}({thousands:",",grouping:[3],currency:["$",""]});var ar=new Date,sr=new Date;function ur(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,s=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r)||!(o>0))return s;do{s.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return s},i.filter=function(n){return ur((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return ar.setTime(+e),sr.setTime(+r),t(ar),t(sr),Math.floor(n(ar,sr))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}var lr=ur((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));lr.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?ur((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):lr:null};var cr=1e3,hr=6e4,fr=36e5,dr=864e5,pr=6048e5,gr=2592e6,vr=31536e6,mr=ur((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+e*cr)}),(function(t,e){return(e-t)/cr}),(function(t){return t.getUTCSeconds()})),yr=ur((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*cr)}),(function(t,e){t.setTime(+t+e*hr)}),(function(t,e){return(e-t)/hr}),(function(t){return t.getMinutes()})),wr=ur((function(t){t.setTime(t-t.getMilliseconds()-t.getSeconds()*cr-t.getMinutes()*hr)}),(function(t,e){t.setTime(+t+e*fr)}),(function(t,e){return(e-t)/fr}),(function(t){return t.getHours()})),xr=ur((function(t){return t.setHours(0,0,0,0)}),(function(t,e){return t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hr)/dr}),(function(t){return t.getDate()-1}));function br(t){return ur((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hr)/pr}))}var _r=br(0);br(1),br(2),br(3),br(4),br(5),br(6);var Mr=ur((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),Sr=ur((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Sr.every=function(t){return isFinite(t=Math.floor(t))&&t>0?ur((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var kr=function(t,e,n,r,o,a){var s=[[mr,1,cr],[mr,5,5e3],[mr,15,15e3],[mr,30,3e4],[a,1,hr],[a,5,3e5],[a,15,9e5],[a,30,18e5],[o,1,fr],[o,3,108e5],[o,6,216e5],[o,12,432e5],[r,1,dr],[r,2,1728e5],[n,1,pr],[e,1,gr],[e,3,7776e6],[t,1,vr]];function u(e,n,r){var o=Math.abs(n-e)/r,a=(0,c.b)((function(t){return(0,i.Z)(t,3)[2]})).right(s,o);if(a===s.length)return t.every(P(e/vr,n/vr,r));if(0===a)return lr.every(Math.max(P(e,n,r),1));var u=(0,i.Z)(s[o/s[a-1][2]<s[a][2]/o?a-1:a],2),l=u[0],h=u[1];return l.every(h)}return[function(t,e,n){var r=e<t;if(r){var i=[e,t];t=i[0],e=i[1]}var o=n&&"function"===typeof n.range?n:u(t,e,n),a=o?o.range(t,+e+1):[];return r?a.reverse():a},u]}(Sr,Mr,_r,xr,wr,yr),zr=(0,i.Z)(kr,2),Tr=zr[0],Cr=zr[1];function Dr(t){return new Date(t)}function Ar(t){return t instanceof Date?+t:+new Date(+t)}function Lr(t,e,n,r,i,o,a,s,u,l){var c=Fn(),h=c.invert,f=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),v=l("%I %p"),m=l("%a %d"),y=l("%b %d"),w=l("%B"),x=l("%Y");function b(t){return(u(t)<t?d:s(t)<t?p:a(t)<t?g:o(t)<t?v:r(t)<t?i(t)<t?m:y:n(t)<t?w:x)(t)}return c.invert=function(t){return new Date(h(t))},c.domain=function(t){return arguments.length?f(Array.from(t,Ar)):f().map(Dr)},c.ticks=function(e){var n=f();return t(n[0],n[n.length-1],null==e?10:e)},c.tickFormat=function(t,e){return null==e?b:l(e)},c.nice=function(t){var n=f();return t&&"function"===typeof t.range||(t=e(n[0],n[n.length-1],null==t?10:t)),t?f(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(n,t)):c},c.copy=function(){return Un(c,Lr(t,e,n,r,i,o,a,s,u,l))},c}function Er(){return En.apply(Lr(Tr,Cr,Sr,Mr,_r,xr,wr,yr,mr,ue).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}var jr="http://www.w3.org/1999/xhtml",Pr={svg:"http://www.w3.org/2000/svg",xhtml:jr,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Nr(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Pr.hasOwnProperty(e)?{space:Pr[e],local:t}:t}function Or(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===jr&&e.documentElement.namespaceURI===jr?e.createElement(t):e.createElementNS(n,t)}}function Rr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Hr(t){var e=Nr(t);return(e.local?Rr:Or)(e)}function Ur(){}function Vr(t){return null==t?Ur:function(){return this.querySelector(t)}}function Fr(){return[]}function Yr(t){return null==t?Fr:function(){return this.querySelectorAll(t)}}function Zr(t){return function(){return this.matches(t)}}function Ir(t){return new Array(t.length)}function Br(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Br.prototype={constructor:Br,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var qr="$";function Xr(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Br(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function $r(t,e,n,r,i,o,a){var s,u,l,c={},h=e.length,f=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=qr+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<f;++s)(u=c[l=qr+a.call(t,o[s],s,o)])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new Br(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[d[s]]===u&&(i[s]=u)}function Wr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Gr(t){return function(){this.removeAttribute(t)}}function Kr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qr(t,e){return function(){this.setAttribute(t,e)}}function Jr(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ti(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ei(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ni(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ri(t){return function(){this.style.removeProperty(t)}}function ii(t,e,n){return function(){this.style.setProperty(t,e,n)}}function oi(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ai(t,e){return t.style.getPropertyValue(e)||ni(t).getComputedStyle(t,null).getPropertyValue(e)}function si(t){return function(){delete this[t]}}function ui(t,e){return function(){this[t]=e}}function li(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ci(t){return t.trim().split(/^|\s+/)}function hi(t){return t.classList||new fi(t)}function fi(t){this._node=t,this._names=ci(t.getAttribute("class")||"")}function di(t,e){for(var n=hi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function pi(t,e){for(var n=hi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function gi(t){return function(){di(this,t)}}function vi(t){return function(){pi(this,t)}}function mi(t,e){return function(){(e.apply(this,arguments)?di:pi)(this,t)}}function yi(){this.textContent=""}function wi(t){return function(){this.textContent=t}}function xi(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function bi(){this.innerHTML=""}function _i(t){return function(){this.innerHTML=t}}function Mi(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Si(){this.nextSibling&&this.parentNode.appendChild(this)}function ki(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zi(){return null}function Ti(){var t=this.parentNode;t&&t.removeChild(this)}function Ci(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Di(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}fi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ai={},Li=null;"undefined"!==typeof document&&("onmouseenter"in document.documentElement||(Ai={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ei(t,e,n){return t=ji(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function ji(t,e,n){return function(r){var i=Li;Li=r;try{t.call(this,this.__data__,e,n)}finally{Li=i}}}function Pi(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Ni(t,e,n){var r=Ai.hasOwnProperty(t.type)?Ei:ji;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function Oi(t,e,n,r){var i=Li;t.sourceEvent=Li,Li=t;try{return e.apply(n,r)}finally{Li=i}}function Ri(t,e,n){var r=ni(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Hi(t,e){return function(){return Ri(this,t,e)}}function Ui(t,e){return function(){return Ri(this,t,e.apply(this,arguments))}}var Vi=[null];function Fi(t,e){this._groups=t,this._parents=e}function Yi(){return new Fi([[document.documentElement]],Vi)}function Zi(t){return"string"===typeof t?new Fi([[document.querySelector(t)]],[document.documentElement]):new Fi([[t]],Vi)}function Ii(){for(var t,e=Li;t=e.sourceEvent;)e=t;return e}function Bi(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function qi(t){var e=Ii();return e.changedTouches&&(e=e.changedTouches[0]),Bi(t,e)}function Xi(t,e,n){arguments.length<3&&(n=e,e=Ii().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Bi(t,r);return null}Fi.prototype=Yi.prototype={constructor:Fi,select:function(t){"function"!==typeof t&&(t=Vr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Fi(r,this._parents)},selectAll:function(t){"function"!==typeof t&&(t=Yr(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Fi(r,i)},filter:function(t){"function"!==typeof t&&(t=Zr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Fi(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each((function(t){p[++c]=t})),p;var n,r=e?$r:Xr,i=this._parents,o=this._groups;"function"!==typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var h=i[c],f=o[c],d=f.length,p=t.call(h,h&&h.__data__,c,i),g=p.length,v=u[c]=new Array(g),m=s[c]=new Array(g);r(h,f,v,m,l[c]=new Array(d),p,e);for(var y,w,x=0,b=0;x<g;++x)if(y=v[x]){for(x>=b&&(b=x+1);!(w=m[b])&&++b<g;);y._next=w||null}}return(s=new Fi(s,i))._enter=u,s._exit=l,s},enter:function(){return new Fi(this._enter||this._groups.map(Ir),this._parents)},exit:function(){return new Fi(this._exit||this._groups.map(Ir),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"===typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new Fi(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Wr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Fi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each((function(){t[++e]=this})),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each((function(){++t})),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Nr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Kr:Gr:"function"===typeof e?n.local?ei:ti:n.local?Jr:Qr)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ri:"function"===typeof e?oi:ii)(t,e,null==n?"":n)):ai(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?si:"function"===typeof e?li:ui)(t,e)):this.node()[t]},classed:function(t,e){var n=ci(t+"");if(arguments.length<2){for(var r=hi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?mi:e?gi:vi)(n,e))},text:function(t){return arguments.length?this.each(null==t?yi:("function"===typeof t?xi:wi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?bi:("function"===typeof t?Mi:_i)(t)):this.node().innerHTML},raise:function(){return this.each(Si)},lower:function(){return this.each(ki)},append:function(t){var e="function"===typeof t?t:Hr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"===typeof t?t:Hr(t),r=null==e?zi:"function"===typeof e?e:Vr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ti)},clone:function(t){return this.select(t?Di:Ci)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=function(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Ni:Pi,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"===typeof e?Ui:Hi)(t,e))}};var $i={value:function(){}};function Wi(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Gi(r)}function Gi(t){this._=t}function Ki(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Qi(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=$i,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}function Ji(){Li.stopImmediatePropagation()}function to(){Li.preventDefault(),Li.stopImmediatePropagation()}function eo(t){var e=t.document.documentElement,n=Zi(t).on("dragstart.drag",to,!0);"onselectstart"in e?n.on("selectstart.drag",to,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function no(t,e){var n=t.document.documentElement,r=Zi(t).on("dragstart.drag",null);e&&(r.on("click.drag",to,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function ro(t){return function(){return t}}function io(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function oo(){return!Li.ctrlKey&&!Li.button}function ao(){return this.parentNode}function so(t){return null==t?{x:Li.x,y:Li.y}:t}function uo(){return navigator.maxTouchPoints||"ontouchstart"in this}Gi.prototype=Wi.prototype={constructor:Gi,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");if(n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=Qi(i[n],t.name,e);else if(null==e)for(n in i)i[n]=Qi(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=Ki(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Gi(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}},io.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var lo,co,ho=0,fo=0,po=0,go=1e3,vo=0,mo=0,yo=0,wo="object"===typeof performance&&performance.now?performance:Date,xo="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function bo(){return mo||(xo(_o),mo=wo.now()+yo)}function _o(){mo=0}function Mo(){this._call=this._time=this._next=null}function So(t,e,n){var r=new Mo;return r.restart(t,e,n),r}function ko(){mo=(vo=wo.now())+yo,ho=fo=0;try{!function(){bo(),++ho;for(var t,e=lo;e;)(t=mo-e._time)>=0&&e._call.call(null,t),e=e._next;--ho}()}finally{ho=0,function(){var t,e,n=lo,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:lo=e);co=t,To(r)}(),mo=0}}function zo(){var t=wo.now(),e=t-vo;e>go&&(yo-=e,vo=t)}function To(t){ho||(fo&&(fo=clearTimeout(fo)),t-mo>24?(t<1/0&&(fo=setTimeout(ko,t-wo.now()-yo)),po&&(po=clearInterval(po))):(po||(vo=wo.now(),po=setInterval(zo,go)),ho=1,xo(ko)))}function Co(t,e,n){var r=new Mo;return e=null==e?0:+e,r.restart((function(n){r.stop(),t(n+e)}),e,n),r}Mo.prototype=So.prototype={constructor:Mo,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?bo():+n)+(null==e?0:+e),this._next||co===this||(co?co._next=this:lo=this,co=this),this._call=t,this._time=n,To()},stop:function(){this._call&&(this._call=null,this._time=1/0,To())}};var Do=Wi("start","end","cancel","interrupt"),Ao=[],Lo=0,Eo=1,jo=2,Po=3,No=4,Oo=5,Ro=6;function Ho(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(t,e,n){var r,i=t.__transition;function o(t){n.state=Eo,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,c,h,f;if(n.state!==Eo)return u();for(l in i)if((f=i[l]).name===n.name){if(f.state===Po)return Co(a);f.state===No?(f.state=Ro,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Ro,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Co((function(){n.state===Po&&(n.state=No,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=jo,n.on.call("start",t,t.__data__,n.index,n.group),n.state===jo){for(n.state=Po,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){for(var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Oo,1),o=-1,a=r.length;++o<a;)r[o].call(t,i);n.state===Oo&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=Ro,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=So(o,0,n.time)}(t,n,{name:e,index:r,group:i,on:Do,tween:Ao,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Lo})}function Uo(t,e){var n=Fo(t,e);if(n.state>Lo)throw new Error("too late; already scheduled");return n}function Vo(t,e){var n=Fo(t,e);if(n.state>Po)throw new Error("too late; already running");return n}function Fo(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Yo(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>jo&&n.state<Oo,n.state=Ro,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Zo(t,e){var n,r;return function(){var i=Vo(this,t),o=i.tween;if(o!==n)for(var a=0,s=(r=n=o).length;a<s;++a)if(r[a].name===e){(r=r.slice()).splice(a,1);break}i.tween=r}}function Io(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Vo(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Bo(t,e,n){var r=t._id;return t.each((function(){var t=Vo(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Fo(t,r).value[e]}}function qo(t,e){var n;return("number"===typeof e?yt:e instanceof J?pt:(n=J(e))?(e=n,pt):_t)(t,e)}function Xo(t){return function(){this.removeAttribute(t)}}function $o(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Wo(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Go(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Ko(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttribute(t))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Qo(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return(a=this.getAttributeNS(t.space,t.local))===(s=u+"")?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Jo(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}(t,i)),n}return i._value=e,i}function ta(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&function(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}(t,i)),n}return i._value=e,i}function ea(t,e){return function(){Uo(this,t).delay=+e.apply(this,arguments)}}function na(t,e){return e=+e,function(){Uo(this,t).delay=e}}function ra(t,e){return function(){Vo(this,t).duration=+e.apply(this,arguments)}}function ia(t,e){return e=+e,function(){Vo(this,t).duration=e}}var oa=Yi.prototype.constructor;function aa(t){return function(){this.style.removeProperty(t)}}var sa=0;function ua(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function la(){return++sa}var ca=Yi.prototype;ua.prototype={constructor:ua,select:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Vr(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Ho(h[f],e,n,f,h,Fo(s,n)));return new ua(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Yr(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Fo(u,n),g=0,v=d.length;g<v;++g)(f=d[g])&&Ho(f,e,n,g,d,p);o.push(d),a.push(u)}return new ua(o,a,e,n)},filter:function(t){"function"!==typeof t&&(t=Zr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new ua(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)a[s]=e[s];return new ua(a,this._parents,this._name,this._id)},selection:function(){return new oa(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=la(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Fo(a,e);Ho(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new ua(r,this._parents,t,n)},call:ca.call,nodes:ca.nodes,node:ca.node,size:ca.size,empty:ca.empty,each:ca.each,on:function(t,e){var n=this._id;return arguments.length<2?Fo(this.node(),n).on.on(t):this.each(function(t,e,n){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}(e)?Uo:Vo;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}(n,t,e))},attr:function(t,e){var n=Nr(t),r="transform"===n?Pt:qo;return this.attrTween(t,"function"===typeof e?(n.local?Qo:Ko)(n,r,Bo(this,"attr."+t,e)):null==e?(n.local?$o:Xo)(n):(n.local?Go:Wo)(n,r,e))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Nr(t);return this.tween(n,(r.local?Jo:ta)(r,e))},style:function(t,e,n){var r="transform"===(t+="")?jt:qo;return null==e?this.styleTween(t,function(t,e){var n,r,i;return function(){var o=ai(this,t),a=(this.style.removeProperty(t),ai(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}(t,r)).on("end.style."+t,aa(t)):"function"===typeof e?this.styleTween(t,function(t,e,n){var r,i,o;return function(){var a=ai(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=ai(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}(t,r,Bo(this,"style."+t,e))).each(function(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Vo(this,t),l=u.on,c=null==u.value[a]?o||(o=aa(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}(this._id,t)):this.styleTween(t,function(t,e,n){var r,i,o=n+"";return function(){var a=ai(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}(t,r,e),n).on("end.style."+t,null)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,function(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&function(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}(t,o,n)),r}return o._value=e,o}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"===typeof t?function(t){return function(){var e=t(this);this.textContent=null==e?"":e}}(Bo(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,function(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&function(t){return function(e){this.textContent=t.call(this,e)}}(r)),e}return r._value=t,r}(t))},remove:function(){return this.on("end.remove",function(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}(this._id))},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Fo(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Zo:Io)(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?ea:na)(e,t)):Fo(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?ra:ia)(e,t)):Fo(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!==typeof e)throw new Error;return function(){Vo(this,t).ease=e}}(e,t)):Fo(this.node(),e).ease},end:function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=Vo(this,r),i=n.on;i!==t&&((e=(t=i).copy())._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e}))}))}};var ha={time:null,delay:0,duration:250,ease:function(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function fa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return ha.time=bo(),ha;return n}function da(t){return function(){return t}}function pa(t,e,n){this.target=t,this.type=e,this.transform=n}function ga(t,e,n){this.k=t,this.x=e,this.y=n}Yi.prototype.interrupt=function(t){return this.each((function(){Yo(this,t)}))},Yi.prototype.transition=function(t){var e,n;t instanceof ua?(e=t._id,t=t._name):(e=la(),(n=ha).time=bo(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Ho(a,t,e,l,s,n||fa(a,e));return new ua(r,this._parents,t,e)},ga.prototype={constructor:ga,scale:function(t){return 1===t?this:new ga(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new ga(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var va=new ga(1,0,0);function ma(){Li.stopImmediatePropagation()}function ya(){Li.preventDefault(),Li.stopImmediatePropagation()}function wa(){return!Li.ctrlKey&&!Li.button}function xa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function ba(){return this.__zoom||va}function _a(){return-Li.deltaY*(1===Li.deltaMode?.05:Li.deltaMode?1:.002)}function Ma(){return navigator.maxTouchPoints||"ontouchstart"in this}function Sa(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}var ka=function(t,e,n){var r=n.xScale,i=n.yScale;return{xScale:e.enableXScroll?t.rescaleX(r):r,yScale:e.enableYScroll?t.rescaleY(i):i}},za=function(){return"wheel"!==Li.type&&("mousedown"===Li.type?Li.shiftKey:!Li.ctrlKey&&!Li.button)},Ta=function(){function t(e,n,r){var i=e.xScale,a=e.yScale;(0,o.Z)(this,t),this.zoomBehavior=function(){var t,e,n=wa,r=xa,i=Sa,o=_a,a=Ma,s=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],l=250,c=Vt,h=Wi("start","zoom","end"),f=500,d=150,p=0;function g(t){t.property("__zoom",ba).on("wheel.zoom",_).on("mousedown.zoom",M).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",z).on("touchend.zoom touchcancel.zoom",T).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(t,e){return(e=Math.max(s[0],Math.min(s[1],e)))===t.k?t:new ga(e,t.x,t.y)}function m(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new ga(t.k,r,i)}function y(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function w(t,e,n){t.on("start.zoom",(function(){x(this,arguments).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).end()})).tween("zoom",(function(){var t=this,i=arguments,o=x(t,i),a=r.apply(t,i),s=null==n?y(a):"function"===typeof n?n.apply(t,i):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),l=t.__zoom,h="function"===typeof e?e.apply(t,i):e,f=c(l.invert(s).concat(u/l.k),h.invert(s).concat(u/h.k));return function(t){if(1===t)t=h;else{var e=f(t),n=u/e[2];t=new ga(n,s[0]-e[0]*n,s[1]-e[1]*n)}o.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new b(t,e)}function b(t,e){this.that=t,this.args=e,this.active=0,this.extent=r.apply(t,e),this.taps=0}function _(){if(n.apply(this,arguments)){var t=x(this,arguments),e=this.__zoom,r=Math.max(s[0],Math.min(s[1],e.k*Math.pow(2,o.apply(this,arguments)))),a=qi(this);if(t.wheel)t.mouse[0][0]===a[0]&&t.mouse[0][1]===a[1]||(t.mouse[1]=e.invert(t.mouse[0]=a)),clearTimeout(t.wheel);else{if(e.k===r)return;t.mouse=[a,e.invert(a)],Yo(this),t.start()}ya(),t.wheel=setTimeout((function(){t.wheel=null,t.end()}),d),t.zoom("mouse",i(m(v(e,r),t.mouse[0],t.mouse[1]),t.extent,u))}}function M(){if(!e&&n.apply(this,arguments)){var t=x(this,arguments,!0),r=Zi(Li.view).on("mousemove.zoom",(function(){if(ya(),!t.moved){var e=Li.clientX-a,n=Li.clientY-s;t.moved=e*e+n*n>p}t.zoom("mouse",i(m(t.that.__zoom,t.mouse[0]=qi(t.that),t.mouse[1]),t.extent,u))}),!0).on("mouseup.zoom",(function(){r.on("mousemove.zoom mouseup.zoom",null),no(Li.view,t.moved),ya(),t.end()}),!0),o=qi(this),a=Li.clientX,s=Li.clientY;eo(Li.view),ma(),t.mouse=[o,this.__zoom.invert(o)],Yo(this),t.start()}}function S(){if(n.apply(this,arguments)){var t=this.__zoom,e=qi(this),o=t.invert(e),a=t.k*(Li.shiftKey?.5:2),s=i(m(v(t,a),e,o),r.apply(this,arguments),u);ya(),l>0?Zi(this).transition().duration(l).call(w,s,e):Zi(this).call(g.transform,s)}}function k(){if(n.apply(this,arguments)){var e,r,i,o,a=Li.touches,s=a.length,u=x(this,arguments,Li.changedTouches.length===s);for(ma(),r=0;r<s;++r)o=[o=Xi(this,a,(i=a[r]).identifier),this.__zoom.invert(o),i.identifier],u.touch0?u.touch1||u.touch0[2]===o[2]||(u.touch1=o,u.taps=0):(u.touch0=o,e=!0,u.taps=1+!!t);t&&(t=clearTimeout(t)),e&&(u.taps<2&&(t=setTimeout((function(){t=null}),f)),Yo(this),u.start())}}function z(){if(this.__zooming){var e,n,r,o,a=x(this,arguments),s=Li.changedTouches,l=s.length;for(ya(),t&&(t=clearTimeout(t)),a.taps=0,e=0;e<l;++e)r=Xi(this,s,(n=s[e]).identifier),a.touch0&&a.touch0[2]===n.identifier?a.touch0[0]=r:a.touch1&&a.touch1[2]===n.identifier&&(a.touch1[0]=r);if(n=a.that.__zoom,a.touch1){var c=a.touch0[0],h=a.touch0[1],f=a.touch1[0],d=a.touch1[1],p=(p=f[0]-c[0])*p+(p=f[1]-c[1])*p,g=(g=d[0]-h[0])*g+(g=d[1]-h[1])*g;n=v(n,Math.sqrt(p/g)),r=[(c[0]+f[0])/2,(c[1]+f[1])/2],o=[(h[0]+d[0])/2,(h[1]+d[1])/2]}else{if(!a.touch0)return;r=a.touch0[0],o=a.touch0[1]}a.zoom("touch",i(m(n,r,o),a.extent,u))}}function T(){if(this.__zooming){var t,n,r=x(this,arguments),i=Li.changedTouches,o=i.length;for(ma(),e&&clearTimeout(e),e=setTimeout((function(){e=null}),f),t=0;t<o;++t)n=i[t],r.touch0&&r.touch0[2]===n.identifier?delete r.touch0:r.touch1&&r.touch1[2]===n.identifier&&delete r.touch1;if(r.touch1&&!r.touch0&&(r.touch0=r.touch1,delete r.touch1),r.touch0)r.touch0[1]=this.__zoom.invert(r.touch0[0]);else if(r.end(),2===r.taps){var a=Zi(this).on("dblclick.zoom");a&&a.apply(this,arguments)}}}return g.transform=function(t,e,n){var r=t.selection?t.selection():t;r.property("__zoom",ba),t!==r?w(t,e,n):r.interrupt().each((function(){x(this,arguments).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},g.scaleBy=function(t,e,n){g.scaleTo(t,(function(){return this.__zoom.k*("function"===typeof e?e.apply(this,arguments):e)}),n)},g.scaleTo=function(t,e,n){g.transform(t,(function(){var t=r.apply(this,arguments),o=this.__zoom,a=null==n?y(t):"function"===typeof n?n.apply(this,arguments):n,s=o.invert(a),l="function"===typeof e?e.apply(this,arguments):e;return i(m(v(o,l),a,s),t,u)}),n)},g.translateBy=function(t,e,n){g.transform(t,(function(){return i(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),r.apply(this,arguments),u)}))},g.translateTo=function(t,e,n,o){g.transform(t,(function(){var t=r.apply(this,arguments),a=this.__zoom,s=null==o?y(t):"function"===typeof o?o.apply(this,arguments):o;return i(va.translate(s[0],s[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,u)}),o)},b.prototype={start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){Oi(new pa(g,t,this.that.__zoom),h.apply,h,[t,this.that,this.args])}},g.wheelDelta=function(t){return arguments.length?(o="function"===typeof t?t:da(+t),g):o},g.filter=function(t){return arguments.length?(n="function"===typeof t?t:da(!!t),g):n},g.touchable=function(t){return arguments.length?(a="function"===typeof t?t:da(!!t),g):a},g.extent=function(t){return arguments.length?(r="function"===typeof t?t:da([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):r},g.scaleExtent=function(t){return arguments.length?(s[0]=+t[0],s[1]=+t[1],g):[s[0],s[1]]},g.translateExtent=function(t){return arguments.length?(u[0][0]=+t[0][0],u[1][0]=+t[1][0],u[0][1]=+t[0][1],u[1][1]=+t[1][1],g):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},g.constrain=function(t){return arguments.length?(i=t,g):i},g.duration=function(t){return arguments.length?(l=+t,g):l},g.interpolate=function(t){return arguments.length?(c=t,g):c},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(p=(t=+t)*t,g):Math.sqrt(p)},g}().scaleExtent([n.zoomMin,n.zoomMax]).filter(za),this.xScale=i.copy(),this.yScale=a.copy(),this.movement=n,this.getContainer=r}return(0,a.Z)(t,[{key:"init",value:function(){var t=this.getContainer();if(null==t)throw new Error("Must not init Zoom before the container is available!");Zi(t).call(this.zoomBehavior)}},{key:"transform",value:function(t,e){this.zoomBehavior.transform(t,e)}},{key:"on",value:function(t,e){var n=this;this.zoomBehavior.on(t,(function(){var t=function(t){var e=t.xScale,n=t.transform.rescaleX(e).domain(),r=(0,i.Z)(n,2),o=r[0],a=r[1];return{startDate:new Date(o),endDate:new Date(a)}}({xScale:n.xScale,transform:Li.transform}),r=t.startDate,o=t.endDate;e(r,o)}))}},{key:"updateViewPort",value:function(t){var e=t.start,n=t.end,r=t.yMin,o=t.yMax,a=this.xScale.domain(),s=(0,i.Z)(a,2),u=s[0],l=s[1],c=function(t){var e=t.prevXScale,n=t.prevDates,r=t.currDates,i=(n.end.getTime()-n.start.getTime())/(r.end.getTime()-r.start.getTime()),o=-1*e(r.start)*i;return va.translate(o,0).scale(i)}({prevXScale:this.xScale,prevDates:{start:u,end:l},currDates:{start:e,end:n}});return this.setTransform(c),ka(c,this.movement,{xScale:this.xScale,yScale:this.yScale.domain([r,o])})}},{key:"updateSize",value:function(t){var e=t.xMin,n=t.xMax,r=t.yMin,o=t.yMax,a=this.getTransform(),s=a.x,u=a.y,l=a.k,c=this.xScale.range(),h=(0,i.Z)(c,2),f=h[0],d=(n-e)/(h[1]-f);return this.xScale.range([e,n]),this.yScale.range([r,o]),this.setTransform(va.translate(s*d,u).scale(l)),ka(this.getTransform(),this.movement,{xScale:this.xScale,yScale:this.yScale})}},{key:"getTransform",value:function(){var t=this.getContainer();if(null==t)throw new Error("Container must not be null to set a internal zoom transform");return t.__zoom}},{key:"setTransform",value:function(t){var e=this.getContainer();if(null==e)throw new Error("Container must not be null to set a internal zoom transform");e.__zoom=t}}]),t}(),Ca={enableXScroll:!0,enableYScroll:!1,zoomMax:1/0,zoomMin:1e-5},Da=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.zoomContainer=void 0,this.beginBrush=function(t){var e=t.offsetX;t.shiftKey||(n.start=e,n.end=e)},this.moveBrush=function(t){var e=t.offsetX,r=t.buttons,i=t.shiftKey;r>0&&null!=n.start&&!i?n.end=e:(n.start=void 0,n.end=void 0)},this.finishBrush=function(t){var e=t.shiftKey;if(null!=n.start&&null!=n.end&&!e){var r=Math.min(n.start,n.end),i=Math.max(n.start,n.end);i-r>6&&n.initiateTransform(r,i)}n.start=void 0,n.end=void 0},this.cancelBrush=function(){n.start=void 0,n.end=void 0},this.initiateTransform=function(t,e){var r=Er().domain([n.viewport.start.getTime(),n.viewport.end.getTime()]).range([0,n.size.width]),i=function(t){var e=t.xScale,n=t.xSelectedPixelMax,r=t.xSelectedPixelMin,i=t.xScaleOriginal,o=t.movement,a=e.invert(n).getTime()-e.invert(r).getTime(),s=i.domain()[1].getTime()-i.domain()[0].getTime(),u=Math.max(Math.min(s/a,o.zoomMax),o.zoomMin),l=-1*u*i(e.invert(r));return va.translate(l,0).scale(u)}({xSelectedPixelMin:t,xSelectedPixelMax:e,xScaleOriginal:Er().domain([n.initialViewPort.start.getTime(),n.initialViewPort.end.getTime()]).range([0,n.size.width]),xScale:r,movement:Ca}),o=Zi(n.getZoomContainer()).transition().duration(600);n.zoom.transform(o,i)},this.getZoomContainer=function(){return n.zoomContainer||(n.zoomContainer=n.el.querySelector(".zoom-container")),n.zoomContainer}}return(0,a.Z)(t,[{key:"componentDidLoad",value:function(){this.initialViewPort=this.viewport,this.setupZoom(),this.el.addEventListener("mousedown",this.beginBrush,{capture:!0}),this.el.addEventListener("mousemove",this.moveBrush),this.el.addEventListener("mouseup",this.finishBrush),this.el.addEventListener("mouseleave",this.cancelBrush)}},{key:"disconnectedCallback",value:function(){this.el.removeEventListener("mousedown",this.beginBrush),this.el.removeEventListener("mousemove",this.moveBrush),this.el.removeEventListener("mouseup",this.finishBrush),this.el.removeEventListener("mouseleave",this.cancelBrush)}},{key:"onViewPortChange",value:function(t){this.zoom.updateViewPort(t)}},{key:"onSizeChange",value:function(){var t=this.size,e=t.width,n=t.height;this.zoom.updateSize({xMin:0,xMax:e,yMax:0,yMin:n})}},{key:"scales",value:function(){var t=this.viewport,e=t.yMin,n=t.yMax,r=t.start,i=t.end,o=this.size,a=o.width,s=o.height;return{xScale:Er().domain([r.getTime(),i.getTime()]).range([0,a]),yScale:or().domain([e,n]).range([s,0])}}},{key:"setupZoom",value:function(){var t=this,e=this.scales(),n=e.xScale,r=e.yScale;this.zoom=new Ta({xScale:n,yScale:r},Ca,this.getZoomContainer),this.zoom.on("zoom.base-chart",(function(e,n){t.onDateRangeChange({start:e,end:n})})),this.zoom.init()}},{key:"render",value:function(){var t=this.size,e=t.width,n=t.height;return(0,s.h)("svg",null,null!=this.start&&null!=this.end&&(0,s.h)("line",{x1:this.start,y1:0,x2:this.start,y2:n}),null!=this.start&&null!=this.end&&(0,s.h)("rect",{class:"brush-box",x:Math.min(this.start,this.end),height:n,width:Math.abs(this.end-this.start),y:0}),null!=this.start&&null!=this.end&&(0,s.h)("line",{x1:this.end,y1:0,x2:this.end,y2:n}),(0,s.h)("rect",{class:"overlay zoom-container",width:e,height:n}))}},{key:"el",get:function(){return(0,s.g)(this)}}],[{key:"watchers",get:function(){return{viewport:["onViewPortChange"],size:["onSizeChange"]}}}]),t}();Da.style="sc-gesture-handler svg{position:absolute;width:100%;height:100%}sc-gesture-handler line{stroke:var(--selection-color);opacity:0.3;stroke-width:1.5px}sc-gesture-handler .overlay{fill:none;pointer-events:all;cursor:crosshair}sc-gesture-handler .brush-box{fill:var(--selection-color);opacity:0.2}";var Aa=function(t,e){return e===p.T.LINEAR?function(t){var e=t.data,n=e.length;if(0===n)return null;for(var r=e[0].x,i=0,o=0,a=0,s=0,u=0;u<n;u+=1){var l=e[u],c=l.x,h=l.y,f=c-r;i+=f,o+=h,a+=f*f,s+=f*h}var d=n*a-i*i,g=0===d?0:(n*s-i*o)/d,v=o/n-g*i/n;return{type:p.T.LINEAR,dataStreamId:t.id,equation:{gradient:g,intercept:v},startDate:new Date(r)}}(t):(console.error("Unable to compute trend result for trend type '".concat(e,"'.")),null)},La=function(t,e){if(t.type===p.T.LINEAR)return(e-t.startDate.getTime())*t.equation.gradient+t.equation.intercept;throw new Error("Cannot compute trend value for trend of type '".concat(t.type,"' on data stream ").concat(t.dataStreamId,"."))},Ea=function(t,e){var n;if(e===p.T.LINEAR)n="linear";else console.warn("No label associated with trend type ".concat(e,".")),n="trend";return"".concat(t," (").concat(n,")")},ja=function(){},Pa=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.isEditing=!1,this.trendResults=[],this.visualizedDataStreams=function(){var t=n.dataStreams.filter((0,g.d)(n.supportString));return n.visualizesAlarms?t:t.filter((function(t){return t.streamType!==p.S.ALARM}))},this.breachedThresholdColor=function(t,e){var r=(0,h.b)({value:t&&t.y,date:n.viewport.end,dataStreams:n.dataStreams,dataStream:e,thresholds:n.thresholds});return r?{color:r.color,icon:r.icon}:void 0}}return(0,a.Z)(t,[{key:"render",value:function(){var t=this,e=(0,h.a)({viewport:this.viewport,dataStreams:this.dataStreams,selectedDate:this.viewport.end,allowMultipleDates:!0,dataAlignment:u.D.EITHER}),n=0===e.length||null==e[0].point?this.viewport.end.getTime():e[0].point.x;return(0,s.h)("div",{class:"legend-container",style:{flexDirection:this.config.position===u.L.RIGHT?"column":"unset"}},this.visualizedDataStreams().map((function(i){var o=e.find((function(t){return t.streamId===i.id})),a=o?o.point:void 0,u=t.breachedThresholdColor(a,i)||{},l=u.color,c=void 0===l?void 0:l,h=u.icon,f=void 0===h?void 0:h;return[(0,s.h)("sc-legend-row",{streamId:i.id,label:i.name,detailedLabel:i.detailedName,color:i.color||"black",valueColor:c,point:a,pointType:o&&"data",unit:i.unit,updateDataStreamName:t.updateDataStreamName,isEditing:t.isEditing,isLoading:t.isLoading,showDataStreamColor:t.showDataStreamColor,icon:f})].concat((0,r.Z)(t.trendResults.reduce((function(e,r){return r.dataStreamId===i.id&&e.push((0,s.h)("sc-legend-row",{streamId:i.id,label:Ea(i.name,r.type),detailedLabel:i.detailedName&&Ea(i.detailedName,r.type),color:r.color||i.color||"black",valueColor:c,point:{x:n,y:La(r,n)},pointType:"trend",unit:i.unit,updateDataStreamName:ja,isEditing:!1,isLoading:t.isLoading,showDataStreamColor:t.showDataStreamColor})),e}),[])))})))}}]),t}();Pa.style="sc-legend .legend-container{display:flex;flex-wrap:wrap;font-size:var(--font-size-1);overflow-y:scroll;overflow-x:hidden;-ms-overflow-style:none;scrollbar-width:none}sc-legend .legend-container::-webkit-scrollbar{display:none}";var Na={top:"-2px"},Oa={top:"-11px"},Ra=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.valueColor="#000",this.updateName=function(t){n.updateDataStreamName({streamId:n.streamId,name:t})}}return(0,a.Z)(t,[{key:"render",value:function(){var t=this.pointType&&"trend"===this.pointType;return(0,s.h)(s.H,null,(0,s.h)("div",{class:"legend-row-container awsui"},this.showDataStreamColor&&(0,s.h)("div",{class:"color-container"},this.isLoading?(0,s.h)("div",{class:"spinner-container"},(0,s.h)("sc-loading-spinner",{dark:!0,size:12})):(0,s.h)("svg",{class:"bar","data-testid":"legend-icon-".concat(this.pointType)},(0,s.h)("path",{stroke:this.color,"stroke-dasharray":t?v.T:"","stroke-linecap":v.S,"stroke-width":v.a,d:v.b}))),(0,s.h)("div",{class:"info"},(0,s.h)("sc-data-stream-name",{onNameChange:this.updateName,isEditing:this.isEditing,label:this.label,detailedLabel:this.detailedLabel,pointType:this.pointType,date:this.point&&new Date(this.point.x)}),(0,s.h)("div",{class:"legend-value",style:this.isEditing?Na:Oa},this.icon&&(0,s.h)("sc-chart-icon",{name:this.icon}),(0,s.h)("h4",{class:"awsui-util-d-i","data-testid":"current-value",style:{color:this.valueColor}},(0,s.h)(m.V,{value:this.point?this.point.y:void 0})),this.unit&&(0,s.h)("small",null,"\xa0",this.unit)))))}}]),t}();Ra.style="sc-legend-row{--color-container-width:18px;overflow:hidden;display:inline-block;margin-right:var(--margin-small);color:var(--secondary-font-color);padding-right:var(--margin-small)}sc-legend-row .legend-row-container{display:flex;margin-left:8px}sc-legend-row .legend-value{position:relative;display:flex;align-items:center}sc-legend-row .color-container{display:flex;flex-direction:column-reverse;width:var(--color-container-width);height:20px;padding-top:11px}sc-data-stream-info .spinner-container{position:relative;top:5px}sc-legend-row .bar{width:var(--color-container-width)}sc-legend-row .info{padding-left:var(--margin-small);display:flex;flex-direction:column}sc-legend-row .info h4{line-height:0.2em;font-size:14px}sc-legend-row .sc-expandable-input{white-space:nowrap;text-overflow:ellipsis;overflow:hidden}";var Ha=function(){function t(e){(0,o.Z)(this,t),(0,s.r)(this,e)}return(0,a.Z)(t,[{key:"render",value:function(){var t=this.size,e=this.dark,n=void 0!==e&&e;return(0,s.h)("svg",{class:{dark:n},style:null!=t?{width:"".concat(t,"px"),height:"".concat(t,"px")}:{},"data-testid":"loading",viewBox:"0 0 200 200"},(0,s.h)("defs",null,(0,s.h)("clipPath",{id:"a"},(0,s.h)("path",{d:"M200 100a100 100 0 11-2.19-20.79l-9.78 2.08A90 90 0 10190 100z"})),(0,s.h)("filter",{id:"b",x:"0",y:"0"},(0,s.h)("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"3"})),(0,s.h)("path",{id:"c",d:"M250 100a150 150 0 01-3.28 31.19L100 100z"})),(0,s.h)("g",{"clip-path":"url(#a)"},(0,s.h)("g",{filter:"url(#b)",transform:"rotate(-6 100 100)"},(0,s.h)("use",{xlinkHref:"#c","fill-opacity":"0"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".03",transform:"rotate(12 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".07",transform:"rotate(24 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".1",transform:"rotate(36 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".14",transform:"rotate(48 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".17",transform:"rotate(60 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".2",transform:"rotate(72 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".24",transform:"rotate(84 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".28",transform:"rotate(96 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".31",transform:"rotate(108 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".34",transform:"rotate(120 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".38",transform:"rotate(132 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".41",transform:"rotate(144 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".45",transform:"rotate(156 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".48",transform:"rotate(168 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".52",transform:"rotate(180 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".55",transform:"rotate(192 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".59",transform:"rotate(204 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".62",transform:"rotate(216 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".66",transform:"rotate(228 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".69",transform:"rotate(240 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".7",transform:"rotate(252 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".72",transform:"rotate(264 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".76",transform:"rotate(276 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".79",transform:"rotate(288 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".83",transform:"rotate(300 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".86",transform:"rotate(312 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".93",transform:"rotate(324 100 100)"}),(0,s.h)("use",{xlinkHref:"#c","fill-opacity":".97",transform:"rotate(336 100 100)"}),(0,s.h)("use",{xlinkHref:"#c",transform:"rotate(348 100 100)"}))))}}]),t}();Ha.style="@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes spin{from{transform:rotate(0)}to{transform:rotate(360deg)}}svg{animation:spin 900ms linear infinite, fadeIn 1s linear}path#c{fill:var(--loading-spinner-color)}.dark path#c{fill:var(--loading-spinner-color-dark)}";var Ua=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.computedSize=null,this.rect=null,this.rectPollingHandler=null,this.setRect=function(){if(n.el&&n.el.isConnected){var t=(0,y.r)(n.el);!(0,w.l)(t,n.rect)&&(n.rect&&n.rect.density!==t.density&&y.w.onResolutionChange(),n.rect=t)}}}return(0,a.Z)(t,[{key:"componentWillLoad",value:function(){var t=this;this.resizer=new y.i((function(e){e.forEach((function(e){var n=e.contentRect,r=n.width,i=n.height;t.computedSize={width:r,height:i}}))}))}},{key:"componentDidLoad",value:function(){this.setRect(),this.rectPollingHandler=window.setInterval(this.setRect,650),this.resizer.observe(this.el.firstElementChild)}},{key:"disconnectedCallback",value:function(){this.resizer.disconnect(),this.rectPollingHandler&&window.clearInterval(this.rectPollingHandler)}},{key:"render",value:function(){var t,e,n=(this.size||this.computedSize)&&this.rect?Object.assign(Object.assign(Object.assign({},this.rect),this.computedSize),this.size):void 0;return(0,s.h)("div",{class:"sc-size-provider-container"},(t=this.renderFunc,(e=n)&&t(e)))}},{key:"el",get:function(){return(0,s.g)(this)}}]),t}();Ua.style="sc-size-provider .sc-size-provider-container{width:100%;height:100%}";var Va=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.trendResults=[],this.showDataStreamColor=!0,this.showBlankTooltipRows=!1,this.sortPoints=!0,this.setSelectedDate=function(t){var e=t.offsetX;if(t.buttons>0||null==e)n.selectedDate=void 0;else{var r=n.viewport,i=r.start,o=r.end,a=e/n.size.width,s=o.getTime()-i.getTime(),u=i.getTime()+s*a;n.selectedDate=new Date(u)}},this.hideTooltip=function(){n.selectedDate=void 0}}return(0,a.Z)(t,[{key:"componentDidLoad",value:function(){this.dataContainer.addEventListener("mousemove",this.setSelectedDate),this.dataContainer.addEventListener("mouseleave",this.hideTooltip),this.dataContainer.addEventListener("mousedown",this.hideTooltip,{capture:!0})}},{key:"disconnectedCallback",value:function(){this.dataContainer.removeEventListener("mousemove",this.setSelectedDate),this.dataContainer.removeEventListener("mouseleave",this.hideTooltip),this.dataContainer.removeEventListener("mousedown",this.hideTooltip)}},{key:"render",value:function(){return null==(this.dataStreams.length>0?this.dataStreams[0].resolution:void 0)||null==this.selectedDate?null:(0,s.h)("sc-tooltip-rows",{trendResults:this.trendResults,size:this.size,dataStreams:this.dataStreams,viewport:this.viewport,selectedDate:this.selectedDate,thresholds:this.thresholds,maxDurationFromDate:this.maxDurationFromDate,showDataStreamColor:this.showDataStreamColor,dataAlignment:this.dataAlignment,supportString:this.supportString,visualizesAlarms:this.visualizesAlarms,showBlankTooltipRows:this.showBlankTooltipRows,sortPoints:this.sortPoints,top:this.top})}}]),t}();Va.style="sc-tooltip{--tooltip-size:8px;--tooltip-line-width:2px;pointer-events:none;position:absolute}sc-tooltip small{white-space:nowrap}sc-tooltip .awsui{position:absolute;z-index:20;min-width:90px}sc-tooltip .tooltip-container{background:var(--awsui-color-white);position:relative;display:inline-block;min-width:90px;width:max-content;transition-property:left, top;transition-duration:120ms}sc-tooltip .tooltip-line{position:relative;margin-left:calc(-1 * calc(var(--tooltip-line-width) / 2));width:var(--selection-width);background-color:var(--selection-color);opacity:var(--selection-opacity)}";var Fa=function(){function t(e){(0,o.Z)(this,t),(0,s.r)(this,e),this.valueColor="#000"}return(0,a.Z)(t,[{key:"render",value:function(){var t="trend"===this.pointType;return(0,s.h)("div",{class:"clearfix"},this.showDataStreamColor&&(0,s.h)("span",{class:"awsui-util-mr-xs"},(0,s.h)("svg",{class:"bar","data-testid":"tooltip-icon-".concat(this.pointType)},(0,s.h)("path",{stroke:this.color,"stroke-dasharray":t?v.T:void 0,"stroke-linecap":v.S,"stroke-width":v.a,d:v.b}))),(0,s.h)("span",{class:"label awsui-util-d-i","data-testid":"tooltip-row-label"},this.label),(0,s.h)("span",{class:"value awsui-util-d-i","data-testid":"current-value",style:{color:this.valueColor}},this.icon&&(0,s.h)("sc-chart-icon",{name:this.icon}),(0,s.h)(m.V,{value:this.point&&this.point.y})),null!=this.resolution&&(0,s.h)("div",{class:"awsui-util-pb-s"},(0,s.h)("small",null,(0,x.g)(this.resolution,"average"))))}}]),t}();Fa.style="sc-tooltip-row{font-size:var(--font-size-1);--bar-size:18px}sc-tooltip-rows .left-offset{padding-left:4px}sc-tooltip-row .clearfix::after{content:'';clear:both;display:table}sc-tooltip-row .bar{display:inline-block;float:left;width:var(--bar-size);height:20px;padding-top:8px}sc-tooltip-row .label{padding-left:var(--margin-small);color:var(--light-text);float:left}sc-tooltip-row .value{font-weight:bold;float:right;margin-left:15px}";var Ya=200,Za="__lodash_hash_undefined__",Ia="[object Function]",Ba="[object GeneratorFunction]",qa=/^\[object .+?Constructor\]$/,Xa="object"==typeof b.b&&b.b&&b.b.Object===Object&&b.b,$a="object"==typeof self&&self&&self.Object===Object&&self,Wa=Xa||$a||Function("return this")();function Ga(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!==e)return function(t,e,n,r){var i=t.length,o=n+(r?1:-1);for(;r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}(t,Qa,n);var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function Ka(t,e,n){for(var r=-1,i=t?t.length:0;++r<i;)if(n(e,t[r]))return!0;return!1}function Qa(t){return t!==t}function Ja(t,e){return t.has(e)}function ts(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var es=Array.prototype,ns=Function.prototype,rs=Object.prototype,is=Wa["__core-js_shared__"],os=function(){var t=/[^.]+$/.exec(is&&is.keys&&is.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),as=ns.toString,ss=rs.hasOwnProperty,us=rs.toString,ls=RegExp("^"+as.call(ss).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),cs=es.splice,hs=_s(Wa,"Map"),fs=_s(Wa,"Set"),ds=_s(Object,"create");function ps(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function gs(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vs(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function ms(t){var e=-1,n=t?t.length:0;for(this.__data__=new vs;++e<n;)this.add(t[e])}function ys(t,e){for(var n,r,i=t.length;i--;)if((n=t[i][0])===(r=e)||n!==n&&r!==r)return i;return-1}function ws(t){if(!Ms(t)||(e=t,os&&os in e))return!1;var e,n=function(t){var e=Ms(t)?us.call(t):"";return e==Ia||e==Ba}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t)?ls:qa;return n.test(function(t){if(null!=t){try{return as.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t))}ps.prototype.clear=function(){this.__data__=ds?ds(null):{}},ps.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},ps.prototype.get=function(t){var e=this.__data__;if(ds){var n=e[t];return n===Za?void 0:n}return ss.call(e,t)?e[t]:void 0},ps.prototype.has=function(t){var e=this.__data__;return ds?void 0!==e[t]:ss.call(e,t)},ps.prototype.set=function(t,e){return this.__data__[t]=ds&&void 0===e?Za:e,this},gs.prototype.clear=function(){this.__data__=[]},gs.prototype.delete=function(t){var e=this.__data__,n=ys(e,t);return!(n<0)&&(n==e.length-1?e.pop():cs.call(e,n,1),!0)},gs.prototype.get=function(t){var e=this.__data__,n=ys(e,t);return n<0?void 0:e[n][1]},gs.prototype.has=function(t){return ys(this.__data__,t)>-1},gs.prototype.set=function(t,e){var n=this.__data__,r=ys(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},vs.prototype.clear=function(){this.__data__={hash:new ps,map:new(hs||gs),string:new ps}},vs.prototype.delete=function(t){return bs(this,t).delete(t)},vs.prototype.get=function(t){return bs(this,t).get(t)},vs.prototype.has=function(t){return bs(this,t).has(t)},vs.prototype.set=function(t,e){return bs(this,t).set(t,e),this},ms.prototype.add=ms.prototype.push=function(t){return this.__data__.set(t,Za),this},ms.prototype.has=function(t){return this.__data__.has(t)};var xs=fs&&1/ts(new fs([,-0]))[1]==1/0?function(t){return new fs(t)}:function(){};function bs(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function _s(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ws(n)?n:void 0}function Ms(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var Ss=function(t){return t&&t.length?function(t,e,n){var r=-1,i=Ga,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=Ka;else if(o>=Ya){var l=e?null:xs(t);if(l)return ts(l);a=!1,i=Ja,u=new ms}else u=e?[]:s;t:for(;++r<o;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,a&&h===h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),s.push(c)}else i(u,h,n)||(u!==s&&u.push(h),s.push(c))}return s}(t):[]},ks=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.trendResults=[],this.showDataStreamColor=!0,this.sortPoints=!0,this.tooltipHeight=function(t){return 21*t+71},this.rowsValueColorAndIcon=function(t,e,r){var i=e.y,o=n.dataStreams.find((function(e){return e.id===t}));if(null!=o){var a=(0,h.b)({date:r,value:i,thresholds:n.thresholds,dataStreams:[],dataStream:o});return null!=a?{color:a.color,icon:a.icon}:void 0}},this.getDisplayedDate=function(t){var e=n.dataStreams.map((function(t){return t.resolution}));if(0===(e.length>0?Math.min.apply(Math,(0,r.Z)(e)):0))return n.selectedDate;var i=t[0]&&t[0].point?new Date(t[0].point.x):void 0,o=n.trendResults[0]?n.trendResults[0].startDate:void 0;return i||o||n.selectedDate},this.visualizedDataStreams=function(){var t=n.dataStreams.filter((0,g.d)(n.supportString));return n.visualizesAlarms?t:t.filter((function(t){return t.streamType!==p.S.ALARM}))},this.getTooltipPoints=function(){var t=n.dataStreams.map((function(t){return t.resolution})),e=t.length>0?Math.min.apply(Math,(0,r.Z)(t)):0,i=(0,h.a)({viewport:n.viewport,dataStreams:n.visualizedDataStreams(),dataAlignment:n.dataAlignment,selectedDate:n.selectedDate,allowMultipleDates:0===e,maxDurationFromDate:n.maxDurationFromDate}).map((function(t){return Object.assign(Object.assign({},t),{type:"data"})})),o=function(t){var e=t.trendResults,n=t.dataStreams,r=t.displayedDate.getTime();return e.filter((function(t){var e=t.dataStreamId;return n.some((function(t){return t.id===e}))})).map((function(t){var e=n.find((function(e){return e.id===t.dataStreamId}));return null==e?null:{streamId:e.id,label:Ea(e.name,t.type),point:{x:r,y:La(t,r)},type:"trend",color:t.color}})).filter(g.c)}({dataStreams:n.dataStreams,displayedDate:n.getDisplayedDate(i),trendResults:n.trendResults}),a=[].concat((0,r.Z)(i),(0,r.Z)(o)),s=n.sortPoints?a.sort((0,h.s)((function(t){return t.y}))):n.dataStreams.map((function(t){var e=t.id;return a.find((function(t){return t.streamId===e}))})).filter(g.c);return n.showBlankTooltipRows?s:s.filter((function(t){return null!=t.point}))}}return(0,a.Z)(t,[{key:"render",value:function(){var t=this,e=this.dataStreams.map((function(t){return t.resolution})),n=e.length>0?Math.min.apply(Math,(0,r.Z)(e)):0,i=Ss(e).length>1,o=this.getTooltipPoints(),a=this.getDisplayedDate(o),u=function(t){var e=t.viewport,n=t.size,i=n.width,o=n.height,a=t.points,s=t.resolution,u=t.selectedTimestamp;if(0!==a.length){var l=function(t){var e=t.isRaw,n=t.points,r=t.selectedTimestamp,i=t.viewport;if(e)return r;var o=n[0].point&&n[0].point.x;return null==o?r:o<i.start.getTime()?i.start.getTime():o}({isRaw:0===s,points:a,selectedTimestamp:u,viewport:e}),c=e.end.getTime()-e.start.getTime(),h=i*((l-e.start.getTime())/c),f=Math.max.apply(Math,(0,r.Z)(a.map((function(t){var e=t.point;return e?e.y:void 0})).filter(g.e)));return{x:h,y:Math.max(0,o*(1-(f-e.yMin)/(e.yMax-e.yMin)))}}}({points:o,resolution:n,viewport:this.viewport,size:this.size,selectedTimestamp:this.selectedDate.getTime()});if(0===o.length)return null;if(null==u)return null;var l=null!=this.top?"".concat(this.top,"px"):"".concat(u.y-3*this.tooltipHeight(o.length)/4-this.size.height,"px"),c=u.x>=this.size.width/2?{right:"".concat(8-u.x,"px"),transform:"translateX(-100%)"}:{left:"".concat(u.x+8,"px")};return(0,s.h)("div",{class:"awsui"},(0,s.h)("div",{class:"tooltip-line",style:{left:"".concat(u.x,"px"),height:"".concat(this.size.height,"px")}}),(0,s.h)("div",{class:"tooltip-container",style:Object.assign({top:l},c)},(0,s.h)("div",{class:"awsui-util-shadow awsui-util-p-s"},(0,s.h)("small",{class:{"awsui-util-d-b":!0,"left-offset":!this.showDataStreamColor}},(0,_.d)(a,n,this.viewport)),!i&&(0,s.h)("small",{class:{"awsui-util-d-b":!0,"awsui-util-mb-s":!0,"left-offset":!this.showDataStreamColor}},(0,x.g)(n,"average")),o.map((function(e){var n=e.streamId,r=t.dataStreams.find((function(t){return t.id===n}));if(!r)return console.warn("No data stream info associated with id ".concat(n)),null;var o=e.point&&t.rowsValueColorAndIcon(n,e.point,a)||{},u=o.color,l=void 0===u?void 0:u,c=o.icon,h=void 0===c?void 0:c;return(0,s.h)("sc-tooltip-row",{key:"".concat(e.streamId,"-").concat(e.type),showDataStreamColor:t.showDataStreamColor,label:e.label||r.name,resolution:i?r.resolution:void 0,color:e.color||r.color||"black",point:e.point,pointType:e.type,valueColor:l,icon:h})})))))}}]),t}(),zs=function(){function t(e){(0,o.Z)(this,t),(0,s.r)(this,e)}return(0,a.Z)(t,[{key:"render",value:function(){var t=this.size,e=t.width,n=t.height,r=t.marginLeft,i=t.marginRight,o=t.marginTop,a=t.marginBottom;return(0,s.h)("svg",{class:"axis",style:{width:"".concat(e+r+i,"px"),height:"".concat(n+a+o,"px")}})}}]),t}();zs.style="sc-webgl-axis{font-size:var(--font-size-0)}sc-webgl-axis .axis{font-family:var(--primary-font-family);shape-rendering:crispEdges;position:absolute;overflow:hidden;user-select:none;pointer-events:none}sc-webgl-axis .axis path{display:none}sc-webgl-axis .axis .tick{color:var(--polaris-light-gray)}sc-webgl-axis line.x-axis-separator{color:var(--primary-light);stroke:var(--primary-light);stroke-width:1px}sc-webgl-axis .axis .tick line{color:var(--primary-light)}sc-webgl-axis .axis .tick text{font-size:var(--font-size-0);user-select:none}sc-webgl-axis .x-axis .tick:last-child text{font-weight:var(--font-weight-bold)}";var Ts,Cs=(0,b.c)((function(t,e){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",s="[object Function]",u="[object GeneratorFunction]",l="[object Map]",c="[object Number]",h="[object Object]",f="[object Promise]",d="[object RegExp]",p="[object Set]",g="[object String]",v="[object Symbol]",m="[object WeakMap]",y="[object ArrayBuffer]",w="[object DataView]",x="[object Float32Array]",_="[object Float64Array]",M="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",z="[object Uint8Array]",T="[object Uint8ClampedArray]",C="[object Uint16Array]",D="[object Uint32Array]",A=/\w*$/,L=/^\[object .+?Constructor\]$/,E=/^(?:0|[1-9]\d*)$/,j={};j[i]=j["[object Array]"]=j[y]=j[w]=j[o]=j[a]=j[x]=j[_]=j[M]=j[S]=j[k]=j[l]=j[c]=j[h]=j[d]=j[p]=j[g]=j[v]=j[z]=j[T]=j[C]=j[D]=!0,j["[object Error]"]=j[s]=j[m]=!1;var P="object"==typeof b.b&&b.b&&b.b.Object===Object&&b.b,N="object"==typeof self&&self&&self.Object===Object&&self,O=P||N||Function("return this")(),R=e&&!e.nodeType&&e,H=R&&t&&!t.nodeType&&t,U=H&&H.exports===R;function V(t,e){return t.set(e[0],e[1]),t}function F(t,e){return t.add(e),t}function Y(t,e,n,r){var i=-1,o=t?t.length:0;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function Z(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function I(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function B(t,e){return function(n){return t(e(n))}}function q(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var X=Array.prototype,$=Function.prototype,W=Object.prototype,G=O["__core-js_shared__"],K=function(){var t=/[^.]+$/.exec(G&&G.keys&&G.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Q=$.toString,J=W.hasOwnProperty,tt=W.toString,et=RegExp("^"+Q.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=U?O.Buffer:void 0,rt=O.Symbol,it=O.Uint8Array,ot=B(Object.getPrototypeOf,Object),at=Object.create,st=W.propertyIsEnumerable,ut=X.splice,lt=Object.getOwnPropertySymbols,ct=nt?nt.isBuffer:void 0,ht=B(Object.keys,Object),ft=Rt(O,"DataView"),dt=Rt(O,"Map"),pt=Rt(O,"Promise"),gt=Rt(O,"Set"),vt=Rt(O,"WeakMap"),mt=Rt(Object,"create"),yt=Yt(ft),wt=Yt(dt),xt=Yt(pt),bt=Yt(gt),_t=Yt(vt),Mt=rt?rt.prototype:void 0,St=Mt?Mt.valueOf:void 0;function kt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function zt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Ct(t){this.__data__=new zt(t)}function Dt(t,e){var n=It(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Bt(t)}(t)&&J.call(t,"callee")&&(!st.call(t,"callee")||tt.call(t)==i)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var a in t)!e&&!J.call(t,a)||o&&("length"==a||Vt(a,r))||n.push(a);return n}function At(t,e,n){var r=t[e];J.call(t,e)&&Zt(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function Lt(t,e){for(var n=t.length;n--;)if(Zt(t[n][0],e))return n;return-1}function Et(t,e,n,r,f,m,b){var L;if(r&&(L=m?r(t,f,m,b):r(t)),void 0!==L)return L;if(!$t(t))return t;var E=It(t);if(E){if(L=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&J.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,L)}else{var P=Ut(t),N=P==s||P==u;if(qt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(P==h||P==i||N&&!m){if(Z(t))return m?t:{};if(L=function(t){return"function"!=typeof t.constructor||Ft(t)?{}:(e=ot(t),$t(e)?at(e):{});var e}(N?{}:t),!e)return function(t,e){return Nt(t,Ht(t),e)}(t,function(t,e){return t&&Nt(e,Wt(e),t)}(L,t))}else{if(!j[P])return m?t:{};L=function(t,e,n,r){var i=t.constructor;switch(e){case y:return Pt(t);case o:case a:return new i(+t);case w:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,r);case x:case _:case M:case S:case k:case z:case T:case C:case D:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,r);case l:return function(t,e,n){var r=e?n(I(t),!0):I(t);return Y(r,V,new t.constructor)}(t,r,n);case c:case g:return new i(t);case d:return function(t){var e=new t.constructor(t.source,A.exec(t));return e.lastIndex=t.lastIndex,e}(t);case p:return function(t,e,n){var r=e?n(q(t),!0):q(t);return Y(r,F,new t.constructor)}(t,r,n);case v:return s=t,St?Object(St.call(s)):{}}var s}(t,P,Et,e)}}b||(b=new Ct);var O=b.get(t);if(O)return O;if(b.set(t,L),!E)var R=n?function(t){return function(t,e,n){var r=e(t);return It(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Wt,Ht)}(t):Wt(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(R||t,(function(i,o){R&&(i=t[o=i]),At(L,o,Et(i,e,n,r,o,t,b))})),L}function jt(t){return!(!$t(t)||(e=t,K&&K in e))&&(Xt(t)||Z(t)?et:L).test(Yt(t));var e}function Pt(t){var e=new t.constructor(t.byteLength);return new it(e).set(new it(t)),e}function Nt(t,e,n,r){n||(n={});for(var i=-1,o=e.length;++i<o;){var a=e[i],s=r?r(n[a],t[a],a,n,t):void 0;At(n,a,void 0===s?t[a]:s)}return n}function Ot(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Rt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return jt(n)?n:void 0}kt.prototype.clear=function(){this.__data__=mt?mt(null):{}},kt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},kt.prototype.get=function(t){var e=this.__data__;if(mt){var r=e[t];return r===n?void 0:r}return J.call(e,t)?e[t]:void 0},kt.prototype.has=function(t){var e=this.__data__;return mt?void 0!==e[t]:J.call(e,t)},kt.prototype.set=function(t,e){return this.__data__[t]=mt&&void 0===e?n:e,this},zt.prototype.clear=function(){this.__data__=[]},zt.prototype.delete=function(t){var e=this.__data__,n=Lt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ut.call(e,n,1),!0)},zt.prototype.get=function(t){var e=this.__data__,n=Lt(e,t);return n<0?void 0:e[n][1]},zt.prototype.has=function(t){return Lt(this.__data__,t)>-1},zt.prototype.set=function(t,e){var n=this.__data__,r=Lt(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new kt,map:new(dt||zt),string:new kt}},Tt.prototype.delete=function(t){return Ot(this,t).delete(t)},Tt.prototype.get=function(t){return Ot(this,t).get(t)},Tt.prototype.has=function(t){return Ot(this,t).has(t)},Tt.prototype.set=function(t,e){return Ot(this,t).set(t,e),this},Ct.prototype.clear=function(){this.__data__=new zt},Ct.prototype.delete=function(t){return this.__data__.delete(t)},Ct.prototype.get=function(t){return this.__data__.get(t)},Ct.prototype.has=function(t){return this.__data__.has(t)},Ct.prototype.set=function(t,e){var n=this.__data__;if(n instanceof zt){var r=n.__data__;if(!dt||r.length<199)return r.push([t,e]),this;n=this.__data__=new Tt(r)}return n.set(t,e),this};var Ht=lt?B(lt,Object):function(){return[]},Ut=function(t){return tt.call(t)};function Vt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||E.test(t))&&t>-1&&t%1==0&&t<e}function Ft(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||W)}function Yt(t){if(null!=t){try{return Q.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Zt(t,e){return t===e||t!==t&&e!==e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=w||dt&&Ut(new dt)!=l||pt&&Ut(pt.resolve())!=f||gt&&Ut(new gt)!=p||vt&&Ut(new vt)!=m)&&(Ut=function(t){var e=tt.call(t),n=e==h?t.constructor:void 0,r=n?Yt(n):void 0;if(r)switch(r){case yt:return w;case wt:return l;case xt:return f;case bt:return p;case _t:return m}return e});var It=Array.isArray;function Bt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!Xt(t)}var qt=ct||function(){return!1};function Xt(t){var e=$t(t)?tt.call(t):"";return e==s||e==u}function $t(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Wt(t){return Bt(t)?Dt(t):function(t){if(!Ft(t))return ht(t);var e=[];for(var n in Object(t))J.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}t.exports=function(t){return Et(t,!0,!0)}})),Ds=function(t){var e=t.isLoading;return(0,s.h)("div",{style:{zIndex:"11",position:"absolute",width:"100%",height:"100%",display:e?"flex":"none",justifyContent:"center",alignItems:"center",pointerEvents:"none"}},e&&(0,s.h)("sc-loading-spinner",{size:60}))},As=function(t){var e=t.hasError,n=t.size,r=n.marginLeft,i=n.width;return e?(0,s.h)("div",{style:{position:"absolute",width:"".concat(i,"px")}},(0,s.h)("div",{class:"awsui-util-mt-s",style:{left:"".concat(r,"px"),position:"relative",width:"100%",display:"flex",flexDirection:"row-reverse"}},(0,s.h)("sc-error-badge",null,"Stopped"))):(0,s.h)("div",{"data-test-tag":"error-badge-place-holder",style:{display:"none"}})},Ls="chart-legend-container",Es=function(t,e){var n=t.legendHeight,r=t.config,i=t.size,o=i.height,a=i.marginRight,l=i.marginLeft,c=i.marginBottom,h=i.marginTop,f=i.width,d={position:"relative",overflowY:"scroll",msOverflowStyle:"none"};return r.position===u.L.BOTTOM?(0,s.h)("div",{class:Ls,style:Object.assign(Object.assign({},d),{top:"".concat(o+h+c,"px"),marginLeft:"".concat(l,"px"),marginRight:"".concat(a,"px"),height:"".concat(n,"px"),width:"".concat(f,"px")})},e):(0,s.h)("div",{class:Ls,style:Object.assign(Object.assign({},d),{top:"".concat(h,"px"),marginLeft:"".concat(l+f+a,"px"),width:"".concat(r.width,"px"),marginRight:"0",height:"".concat(o,"px")})},e)},js=function(t,e){var n=t.size,r=n.width,i=n.height,o=n.marginLeft,a=n.marginTop;return(0,s.h)("div",{style:{width:"".concat(r,"px"),height:"".concat(i,"px"),marginLeft:"".concat(o,"px"),marginTop:"".concat(a,"px")},class:"data-container"},e)},Ps=10,Ns=1.5,Os=function(t){var e=t.annotation,n=t.width,r=t.viewport,i=r.start,o=r.end;return Math.floor(n/(o.getTime()-i.getTime())*(e.value.getTime()-i.getTime()))},Rs="g.x-annotation",Hs=function(t){var e=t.annotation,n=t.height,r=t.viewport,i=r.yMax,o=r.yMin;return n-(e.value-o)*n/(i-o)},Us="text.y-text",Vs="text.y-value-text",Fs="g.y-annotation",Ys="g.y-annotation-editable",Zs="line.y-line",Is="rect.y-annotation",Bs="g.y-elements-group",qs=function(t){var e=t.container,n=t.yAnnotations,r=t.viewport,i=t.resolution,o=t.size,a=o.width,s=o.height,u=function(t){return"translate(0,".concat(Hs({annotation:t,height:s,viewport:r}),")")},l=Zi(e).selectAll(Fs).data(n.filter((function(t){return!t.isEditable}))),c=l.enter().append("g").attr("transform",u).attr("class","y-annotation");c.append("line").attr("class","y-line").attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0).style("stroke",k.c).style("stroke-width",Ns),c.append("text").attr("display",k.f).attr("font-size",Ps).attr("class","y-value-text").attr("x",a+5).attr("text-anchor","start").attr("y",3).text((function(t){return(0,k.h)({annotation:t,resolution:i,viewport:r,formatText:!0})})).style("user-select","none").style("pointer-events","none").style("fill",k.c),c.append("text").attr("display",k.j).attr("font-size",Ps).attr("class","y-text").attr("x",a-5).attr("text-anchor","end").attr("y",-5).text(k.k).style("user-select","none").style("pointer-events","none").style("fill",k.c),l.attr("transform",u),l.select(Vs).attr("display",k.f).attr("x",a+5).text((function(t){return(0,k.h)({annotation:t,resolution:i,viewport:r,formatText:!0})})).style("fill",k.c),l.select(Us).attr("display",k.j).attr("x",a-5).text(k.k).style("fill",k.c),l.select(Zs).attr("x2",a).style("stroke",k.c),l.exit().remove()},Xs=function(t){return function(e){var n=e.value;return"number"===typeof n?t.yMin<=n&&t.yMax>=n:t.start<=n&&t.end>=n}},$s=function(t){var e=t.container,n=t.resolution,r=t.annotations,i=t.viewport,o=t.size,a=t.onUpdate,s=t.activeViewPort,u=t.emitUpdatedWidgetConfiguration,l=t.draggable,c=t.startStopDragging,h=t.inDragState;if("object"===typeof r&&"boolean"===typeof r.show&&!r.show)return Zi({container:e}.container).selectAll(Rs).remove(),void function(t){var e=t.container;Zi(e).selectAll(Fs).remove(),Zi(e).selectAll(Ys).remove()}({container:e});var f=null==r.x?[]:r.x.filter(Xs(i)),d=null==r.y?[]:r.y.filter(Xs(i));!function(t){var e=t.container,n=t.xAnnotations,r=t.viewport,i=t.resolution,o=t.size,a=o.width,s=o.height,u=Zi(e).selectAll(Rs).data(n),l=function(t){return-Os({annotation:t,width:a,viewport:r})},c=u.enter().append("g").attr("transform","translate(0,0)").attr("class","x-annotation");c.append("line").attr("class","x-line").attr("font-size",Ps).attr("x1",(function(t){return Os({annotation:t,width:a,viewport:r})})).attr("x2",(function(t){return Os({annotation:t,width:a,viewport:r})})).attr("y1",0).attr("y2",s).style("stroke",k.c).style("stroke-width",Ns),c.append("text").text((function(t){return(0,k.d)({annotation:t,resolution:i,viewport:r})})).attr("display",k.e).attr("font-size",Ps).attr("class","x-text").attr("y",l).attr("x",0).style("pointer-events","none").style("user-select","none").style("transform","rotate(90deg) translateY(".concat(-5,"px)")).style("fill",k.c),u.select("line.x-line").attr("x1",(function(t){return Os({annotation:t,width:a,viewport:r})})).attr("x2",(function(t){return Os({annotation:t,width:a,viewport:r})})).attr("y2",s).attr("stroke",k.c),u.select("text.x-text").attr("display",k.e).text((function(t){return(0,k.d)({annotation:t,resolution:i,viewport:r})})).attr("y",l).style("fill",k.c),u.exit().remove()}({container:e,xAnnotations:f,viewport:i,resolution:n,size:o}),qs({container:e,yAnnotations:d,viewport:i,resolution:n,size:o}),h()||(Ts=function(t){var e=t.container,n=t.yAnnotations,r=t.viewport,i=t.resolution,o=t.size,a=o.width,s=o.height,u=function(t){return Hs({annotation:t,height:s,viewport:r})},l=function(t){return"inline"===(0,k.f)(t)?45:18},c=function(t){return"inline"===(0,k.f)(t)?a+40+2:a+13+2},h=function(t){return"inline"===(0,k.f)(t)?a+40:a+13},f=function(t){return u(t)+-11},d=function(t){return t.value<-9999?9:Ps},p=function(t){return"translate(0,".concat(u(t),")")},g=Zi(e).selectAll(Ys).data(n.filter((function(t){return t.isEditable}))),v=g.enter().append("g").attr("transform","translate(0,0)").attr("class","y-annotation-editable"),m=v.append("rect").attr("class","y-annotation").attr("width",l).attr("height",20).attr("x",a+1).attr("y",f).style("pointer-events","auto").style("stroke",k.c).style("stroke-width",Ns).style("fill","white"),y=v.append("g").attr("transform",p).attr("class","y-elements-group");return y.append("line").attr("class","y-line").attr("x1",0).attr("x2",a).attr("y1",0).attr("y2",0).style("stroke",k.c).style("stroke-width",Ns),y.append("text").attr("display",k.f).attr("class","y-value-text").attr("x",a+5).attr("text-anchor","start").attr("y",3).text((function(t){return(0,k.h)({annotation:t,resolution:i,viewport:r,formatText:!0})})).style("font-size",d).style("user-select","none").style("pointer-events","none").style("fill",k.c),y.append("text").attr("display",k.j).attr("class","y-text").attr("x",a-5).attr("text-anchor","end").attr("y",-5).text(k.k).style("font-size",Ps).style("user-select","none").style("pointer-events","none").style("fill",k.c),y.append("line").attr("class","y-handle-one").attr("x1",h).attr("x2",h).attr("y1",-6).attr("y2",4).style("stroke","gray").style("stroke-width",1),y.append("line").attr("class","y-handle-two").attr("x1",c).attr("x2",c).attr("y1",-6).attr("y2",4).style("stroke","gray").style("stroke-width",1),g.select(Bs).attr("transform",p),g.select(Vs).attr("display",k.f).attr("x",a+5).text((function(t){return(0,k.h)({annotation:t,resolution:i,viewport:r,formatText:!0})})).style("fill",k.c).style("font-size",d),g.select(Us).attr("display",k.j).attr("x",a-5).text(k.k).style("fill",k.c),g.select(Zs).attr("x2",a).style("stroke",k.c),g.select("line.y-handle-one").attr("x1",h).attr("x2",h),g.select("line.y-handle-two").attr("x1",c).attr("x2",c),g.select(Is).attr("y",f).attr("x",a+1).attr("width",l).style("stroke",k.c),g.exit().remove(),m}({container:e,yAnnotations:d,viewport:i,resolution:n,size:o}),l({container:e,size:o,onUpdate:a,activeViewPort:s,emitUpdatedWidgetConfiguration:u,startStopDragging:c,resolution:n,dragHandle:Ts}))},Ws=function(t){var e=t.trendResult,n=t.size,r=n.width,i=n.height,o=t.viewport,a=o.start,s=o.end,u=o.yMin,l=o.yMax,c=Math.round(i-(La(e,a.getTime())-u)*i/(l-u)),h=Math.round(i-(La(e,s.getTime())-u)*i/(l-u));return"M 0 ".concat(c," L ").concat(r," ").concat(h)},Gs=Array.prototype.slice;function Ks(t){return t}var Qs=1,Js=2,tu=3,eu=4,nu=1e-6;function ru(t){return"translate("+(t+.5)+",0)"}function iu(t){return"translate(0,"+(t+.5)+")"}function ou(t){return function(e){return+t(e)}}function au(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function su(){return!this.__axis}function uu(t,e){var n=[],r=null,i=null,o=6,a=6,s=3,u=t===Qs||t===eu?-1:1,l=t===eu||t===Js?"x":"y",c=t===Qs||t===tu?ru:iu;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,d=null==i?e.tickFormat?e.tickFormat.apply(e,n):Ks:i,p=Math.max(o,0)+s,g=e.range(),v=+g[0]+.5,m=+g[g.length-1]+.5,y=(e.bandwidth?au:ou)(e.copy()),w=h.selection?h.selection():h,x=w.selectAll(".domain").data([null]),b=w.selectAll(".tick").data(f,e).order(),_=b.exit(),M=b.enter().append("g").attr("class","tick"),S=b.select("line"),k=b.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),b=b.merge(M),S=S.merge(M.append("line").attr("stroke","currentColor").attr(l+"2",u*o)),k=k.merge(M.append("text").attr("fill","currentColor").attr(l,u*p).attr("dy",t===Qs?"0em":t===tu?"0.71em":"0.32em")),h!==w&&(x=x.transition(h),b=b.transition(h),S=S.transition(h),k=k.transition(h),_=_.transition(h).attr("opacity",nu).attr("transform",(function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")})),M.attr("opacity",nu).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:y(t))}))),_.remove(),x.attr("d",t===eu||t==Js?a?"M"+u*a+","+v+"H0.5V"+m+"H"+u*a:"M0.5,"+v+"V"+m:a?"M"+v+","+u*a+"V0.5H"+m+"V"+u*a:"M"+v+",0.5H"+m),b.attr("opacity",1).attr("transform",(function(t){return c(y(t))})),S.attr(l+"2",u*o),k.attr(l,u*p).text(d),w.filter(su).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===Js?"start":t===eu?"end":"middle"),w.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=Gs.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:Gs.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:Gs.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(s=+t,h):s},h}function lu(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}var cu,hu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fu(t){if(!(e=hu.exec(t)))throw new Error("invalid format: "+t);var e;return new du({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function du(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function pu(t,e){var n=lu(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}fu.prototype=du.prototype,du.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var gu={"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return pu(100*t,e)},r:pu,s:function(t,e){var n=lu(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(cu=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+lu(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function vu(t){return t}var mu,yu,wu=Array.prototype.map,xu=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function bu(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?vu:(e=wu.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,s=e[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(t.substring(i-=s,i+s)),!((u+=s+1)>r));)s=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",s=void 0===t.numerals?vu:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(wu.call(t.numerals,String)),u=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"\u2212":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=fu(t)).fill,n=t.align,h=t.sign,f=t.symbol,d=t.zero,p=t.width,g=t.comma,v=t.precision,m=t.trim,y=t.type;"n"===y?(g=!0,y="g"):gu[y]||(void 0===v&&(v=12),m=!0,y="g"),(d||"0"===e&&"="===n)&&(d=!0,e="0",n="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",x="$"===f?o:/[%p]/.test(y)?u:"",b=gu[y],_=/[defgprs%]/.test(y);function M(t){var i,o,u,f=w,M=x;if("c"===y)M=b(t)+M,t="";else{var S=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:b(Math.abs(t),v),m&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),S&&0===+t&&"+"!==h&&(S=!1),f=(S?"("===h?h:l:"-"===h||"("===h?"":h)+f,M=("s"===y?xu[8+cu/3]:"")+M+(S&&"("===h?")":""),_)for(i=-1,o=t.length;++i<o;)if(48>(u=t.charCodeAt(i))||u>57){M=(46===u?a+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var k=f.length+t.length+M.length,z=k<p?new Array(p-k+1).join(e):"";switch(g&&d&&(t=r(z+t,z.length?p-M.length:1/0),z=""),n){case"<":t=f+t+M+z;break;case"=":t=f+z+t+M;break;case"^":t=z.slice(0,k=z.length>>1)+f+t+M+z.slice(k);break;default:t=z+f+t+M}return s(t)}return v=void 0===v?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v)),M.toString=function(){return t+""},M}return{format:h,formatPrefix:function(t,e){var n,r=h(((t=fu(t)).type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor((n=e,((n=lu(Math.abs(n)))?n[1]:NaN)/3)))),o=Math.pow(10,-i),a=xu[8+i/3];return function(t){return r(o*t)+a}}}}!function(t){mu=bu(t),yu=mu.format}({thousands:",",grouping:[3],currency:["$",""]});var _u={showX:!0,showY:!0},Mu=function(t,e){return{xScale:Er().domain([e.start.getTime(),e.end.getTime()]).range([0,t.width]),yScale:or().domain([e.yMin,e.yMax]).range([t.height,0])}},Su=function(t){return function(t,e){var n=t.width,r=t.height,i=e.yScaleType;return{xTickCount:Math.max(Math.floor(n/100),2),yTickCount:Math.max(Math.floor(r/(30+(i===u.b.Log?60:0))),2)}}({width:t.width,height:t.height},{xScaleSide:"bottom",yScaleSide:"left",yScaleType:u.b.Linear,xScaleType:u.b.Linear})},ku=function(t,e){var n,r=Su(t).xTickCount,i=Mu(t,e).xScale;return(n=i,uu(tu,n)).ticks(r).tickPadding(10).tickSize(0)},zu=function(t,e){var n,r=Su(t).yTickCount,i=Mu(t,e).yScale;return(n=i,uu(eu,n)).ticks(r).tickFormat(yu(".2s")).tickSize(-t.width).tickPadding(10)},Tu=function(t,e){return function(n){return n.attr("transform","translate(".concat(t.marginLeft,", ").concat(t.marginTop+t.height,")")).call(ku(t,e))}},Cu=function(t,e){return function(n){return n.attr("transform","translate(".concat(t.marginLeft,", ").concat(t.marginTop,")")).call(zu(t,e))}},Du=function(t){var e=function(t){var e=Math.log10(Math.abs(t));return Math.ceil(e)}(t);return t>0?Math.pow(10,e):-1*Math.pow(10,e)},Au=function(t,e){if(0===t)return 0;var n=function(t,e){return function(n){var r=e/(t/50),i=t/50;return n?Math.ceil(r)*i:Math.floor(r)*i}}(Du(t),t);return n(t<0?e:!e)},Lu={yMax:1e3,yMin:1},Eu=function(t){var e=t.yValues,n=t.startFromZero;if(0===e.length)return Lu;var r=e.reduce((function(t,e){return{yMin:Math.min(e,t.yMin),yMax:Math.max(e,t.yMax)}}),{yMin:1/0,yMax:-1/0}),i=r.yMin>=0,o=r.yMax<=0,a=function(t,e){return e===t?0!==e?Math.abs(.5*e):.5:.15*(e-t)}(r.yMin,r.yMax),s=r.yMax+a,u=r.yMin-a;return 0===r.yMax&&0===r.yMin||(n&&i&&(u=0),n&&o&&(s=0)),{yMin:Au(u,!0),yMax:Au(s,!1)}},ju=function(t){var e=t.supportedDataTypes,n=t.messageOverrides,r=t.size,i=r.width,o=r.height,a=r.marginLeft,u=r.marginRight,l=r.marginTop,c=r.marginBottom;return(0,s.h)("div",{id:"unsupported-data-type-error",class:"unsupported-data-type-status",style:{width:"".concat(i+a+u,"px"),height:"".concat(o+c+l,"px"),padding:"24px",background:"white",border:"solid 4px black"}},(0,s.h)("h2",null,n.unsupportedDataTypeHeader||"Unable to render your data"),(0,s.h)("h2",null,n.unsupportedDataTypeSubHeader||"This chart only supports the following DataType(s):"),(0,s.h)("div",null,n.supportedTypes||e.map((function(t){return(0,s.h)("div",null,t)}))))},Pu=function(t){var e=t.annotationValue,n=t.viewport,r=n.yMax,i=n.yMin;return e<i+.01*(r-i)||e>i+.99*(r-i)},Nu=function(t){var e=t.on,n=t.container,r=t.currentDraggedAnnotation;Zi(n).selectAll("".concat(Ys,",").concat(Fs)).filter((function(t){return t!==r})).transition().duration(100).attr("opacity",e?.32:1)},Ou=function(){var t,e=(0,M.l)((function(t){var e=(0,i.Z)(t,2);(0,e[0])(e[1],!1,!1,!0)}),90);return function(n){var r=n.container,i=n.size,o=n.onUpdate,a=n.activeViewPort,s=n.emitUpdatedWidgetConfiguration,u=n.startStopDragging,l=n.dragHandle,c=n.resolution,h=i.height,f=function(t,e){return"translate(0,".concat(Hs({annotation:t,height:h,viewport:e}),")")};l.call(function(){var t,e,n,r,i=oo,o=ao,a=so,s=uo,u={},l=Wi("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",v).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(){if(!r&&i.apply(this,arguments)){var a=w("mouse",o.apply(this,arguments),qi,this,arguments);a&&(Zi(Li.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),eo(Li.view),Ji(),n=!1,t=Li.clientX,e=Li.clientY,a("start"))}}function p(){if(to(),!n){var r=Li.clientX-t,i=Li.clientY-e;n=r*r+i*i>h}u.mouse("drag")}function g(){Zi(Li.view).on("mousemove.drag mouseup.drag",null),no(Li.view,n),to(),u.mouse("end")}function v(){if(i.apply(this,arguments)){var t,e,n=Li.changedTouches,r=o.apply(this,arguments),a=n.length;for(t=0;t<a;++t)(e=w(n[t].identifier,r,Xi,this,arguments))&&(Ji(),e("start"))}}function m(){var t,e,n=Li.changedTouches,r=n.length;for(t=0;t<r;++t)(e=u[n[t].identifier])&&(to(),e("drag"))}function y(){var t,e,n=Li.changedTouches,i=n.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),t=0;t<i;++t)(e=u[n[t].identifier])&&(Ji(),e("end"))}function w(t,e,n,r,i){var o,s,h,d=n(e,t),p=l.copy();if(Oi(new io(f,"beforestart",o,t,c,d[0],d[1],0,0,p),(function(){return null!=(Li.subject=o=a.apply(r,i))&&(s=o.x-d[0]||0,h=o.y-d[1]||0,!0)})))return function a(l){var g,v=d;switch(l){case"start":u[t]=a,g=c++;break;case"end":delete u[t],--c;case"drag":d=n(e,t),g=c}Oi(new io(f,l,o,t,g,d[0]+s,d[1]+h,d[0]-v[0],d[1]-v[1],p),p.apply,p,[l,r,i])}}return f.filter=function(t){return arguments.length?(i="function"===typeof t?t:ro(!!t),f):i},f.container=function(t){return arguments.length?(o="function"===typeof t?t:ro(t),f):o},f.subject=function(t){return arguments.length?(a="function"===typeof t?t:ro(t),f):a},f.touchable=function(t){return arguments.length?(s="function"===typeof t?t:ro(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}().on("start",(function(e){var n=e;n.isEditable&&(u(!0),t=+n.value,Zi(this).classed("active",!0),Nu({container:r,on:!0,currentDraggedAnnotation:e}))})).on("drag",(function(n){var s=n;if(s.isEditable){var u=a(),l=function(t){var e=t.yPos,n=t.viewport,r=t.size.height,i=n.yMax,o=n.yMin,a=(r*i-i*e+o*e)/r,s=(i-o)/1e3,u=Math.log(s)/Math.log(10);return+a.toFixed(u>=0?0:-u)}({yPos:Li.y,viewport:u,size:i});s.value=l,t=l;var d=Pu({annotationValue:s.value,viewport:u});d?(o(u,!1,d,!0),u=a()):e([o,u]),Zi(r).selectAll(Ys).selectAll(Bs).attr("transform",(function(t){return f(t,u)})),Zi(r).selectAll(Is).attr("y",(function(t){return function(t,e){return Hs({annotation:t,height:h,viewport:e})+-11}(t,u)})),Zi(r).selectAll("".concat(Ys,",").concat(Fs)).select(Vs).text((function(t){return(0,k.h)({annotation:t,resolution:c,viewport:u,formatText:!0})})),Zi(r).selectAll(Fs).attr("transform",(function(t){return f(t,u)}))}})).on("end",(function(e){var n=e;if(n.isEditable){n.value=null!=t?t:n.value;var i=a();s();var l=Pu({annotationValue:n.value,viewport:i});o(i,!1,l,!0),Zi(this).classed("active",!1),u(!1),Nu({container:r,on:!1,currentDraggedAnnotation:e})}})))}},Ru=function(){function t(e){var n=this;(0,o.Z)(this,t),(0,s.r)(this,e),this.widgetUpdated=(0,s.c)(this,"widgetUpdated",7),this.dateRangeChange=(0,s.c)(this,"dateRangeChange",7),this.isEditing=!1,this.renderLegend=function(t){return(0,s.h)("sc-legend",Object.assign({},t))},this.annotations={},this.trends=[],this.displaysError=!0,this.supportedDataTypes=Object.values(p.D),this.yRangeStartFromZero=!1,this.isMounted=!1,this.yMin=this.viewport.yMin||0,this.yMax=this.viewport.yMax||100,this.start=(0,g.a)(this.viewport)?new Date(this.viewport.start):new Date(Date.now()-(0,_.p)(this.viewport.duration)),this.end=(0,g.a)(this.viewport)?new Date(this.viewport.end):new Date,this.trendResults=[],this.axisRenderer=function(){var t,e,n;return function(r){var i=r.container,o=r.viewport,a=r.size,s=r.axis,u=Zi(i),l=Object.assign(Object.assign({},_u),s),c=l.showX,h=l.showY,f=l.labels;if(!c&&n&&e&&(n.remove(),n=null,e.remove(),e=null),!h&&t&&(t.remove(),t=null),c&&!n&&(u.append("line").attr("class","x-axis-separator").attr("x1",a.marginLeft).attr("y1",a.height+a.marginTop).attr("x2",a.width+a.marginLeft).attr("y2",a.height+a.marginTop),u.append("g").attr("class","axis x-axis").call(Tu(a,o)),n=Zi(i.querySelector(".x-axis")),e=Zi(i.querySelector(".x-axis-separator")),!n))throw new Error("Failed to initialize the axis component");if(h&&!t&&(u.append("g").attr("class","axis y-axis").call(Cu(a,o)),!(t=Zi(i.querySelector(".y-axis")))))throw new Error("Failed to initialize the axis component");if(n&&(n.call(Tu(a,o)),e&&e.attr("x1",a.marginLeft).attr("y1",a.height+a.marginTop).attr("x2",a.width+a.marginLeft).attr("y2",a.height+a.marginTop)),t){if(f&&f.yAxis){var d=f.yAxis.content,p=u.select(".y-axis-label");(p.empty()||d!==p.text())&&(p.empty()||p.remove(),u.append("text").attr("class","y-axis-label").attr("transform","translate(10, 10)").text((function(){return d})))}t.call(Cu(a,o))}}}(),this.draggable=Ou(),this.isDragging=!1,this.startStopDragging=function(t){n.isDragging=t},this.inDragState=function(){return n.isDragging},this.getAxisContainer=function(){return n.axisContainer||(n.axisContainer=n.el.querySelector("svg.axis")),n.axisContainer},this.emitUpdatedWidgetConfiguration=function(t){var e={movement:void 0,scale:void 0,layout:void 0,legend:n.legend,annotations:n.internalAnnotations,axis:n.axis,widgetId:n.configId,dataStreams:t?(0,C.g)(t):n.dataStreams};n.widgetUpdated.emit(e)},this.updateDataStreamName=function(t){var e=t.streamId,r=t.name,i=n.dataStreams.map((function(t){return Object.assign(Object.assign({},t),{name:t.id===e?r:t.name})}));n.emitUpdatedWidgetConfiguration(i)},this.onDateRangeChange=(0,M.l)((function(t){var e=(0,i.Z)(t,3),r=e[0],o=e[1],a=e[2];n.dateRangeChange.emit([r,o,a])}),M.D,{leading:!0,trailing:!0}),this.chartSizeConfig=function(){var t=n.chartSize(),e=t.marginTop,r=t.marginBottom,i=t.marginLeft,o=t.marginRight,a=t.height,s=t.width,l=a-r-e,c=n.legend&&n.legend.position===u.L.RIGHT,h=n.legend&&n.legend.position===u.L.BOTTOM;return Object.assign(Object.assign({},t),{width:Math.max(s-i-o-(c?n.legend.width:0),50),height:l-(h?100:0)})},this.activeViewPort=function(){return{start:n.start,end:n.end,yMin:n.yMin,yMax:n.yMax,group:n.viewport.group,duration:(0,g.a)(n.viewport)?void 0:(0,_.p)(n.viewport.duration)}},this.handleCameraEvent=function(t){var e=t.start,r=t.end;if(n.scene){var i={yMin:n.yMin,yMax:n.yMax,start:e,end:r};n.shouldRerenderOnViewportChange&&n.shouldRerenderOnViewportChange({oldViewport:i,newViewport:n.activeViewPort()})&&n.onUpdate({start:e,end:r},!1,!1,!1,!0),y.w.updateViewPorts({start:e,end:r,manager:n.scene})}},this.updateYRange=function(){var t=function(t){var e=t.points,n=t.yAnnotations,i=t.startFromZero,o=e.map((function(t){return t.y})),a=n.map((function(t){return t.value}));return Eu({yValues:[].concat((0,r.Z)(o),(0,r.Z)(a)),startFromZero:i})}({points:n.dataStreams.filter(g.b).map((function(t){return(0,f.a)((0,d.g)(t,t.resolution),{start:n.start,end:n.end},!1)})).flat(),yAnnotations:(n.internalAnnotations&&Array.isArray(n.internalAnnotations.y)&&n.internalAnnotations.y||[]).filter((function(t){return(0,z.i)(t.value)})),startFromZero:n.yRangeStartFromZero}),e=t.yMin,i=t.yMax,o=n.yMin,a=n.yMax;n.yMin=null!=n.viewport.yMin?n.viewport.yMin:e,n.yMax=null!=n.viewport.yMax?n.viewport.yMax:i;var s={yMin:o,yMax:a,start:n.start,end:n.end};n.shouldRerenderOnViewportChange&&n.shouldRerenderOnViewportChange({oldViewport:s,newViewport:n.activeViewPort()})&&n.onUpdate(n.activeViewPort(),!1,!1,!1,!0),n.applyYRangeChanges()},this.applyYRangeChanges=function(){n.scene&&(n.scene.camera.top=n.yMax,n.scene.camera.bottom=n.yMin,n.scene.camera.updateProjectionMatrix())},this.getDataContainer=function(){return null==n.dataContainer&&(n.dataContainer=n.el.querySelector(".data-container")),n.dataContainer},this.getThresholdContainer=function(){return null==n.thresholdContainer&&(n.thresholdContainer=n.el.querySelector(".threshold-container")),n.thresholdContainer},this.getTrendContainer=function(){return null==n.trendContainer&&(n.trendContainer=n.el.querySelector(".trend-container")),n.trendContainer},this.getHasSupportedData=function(){return n.dataStreams.every((function(t){var e=t.streamType,r=t.dataType;return e===p.S.ALARM||n.supportedDataTypes.includes(r)}))},this.thresholds=function(){return n.internalAnnotations&&n.internalAnnotations.y?n.internalAnnotations.y.filter(k.i):[]},this.getThresholdOptions=function(){if(null==n.internalAnnotations||null==n.internalAnnotations.thresholdOptions)return S.a;var t=n.internalAnnotations.thresholdOptions;return"boolean"===typeof t?t?S.a:S.b:Object.assign(Object.assign({},S.a),t)},this.onUpdate=function(t){var e=t.start,r=t.end,i=t.shouldBlockDateRangeChangedEvent,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],u=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(n.getHasSupportedData()&&(n.scene||n.el.isConnected)){if(!n.el.isConnected&&n.scene)return console.error("[SynchroCharts] chart with associated scene id of ".concat(n.scene.id," is disconnected,\n         but still being called via the view port manager. removing from the view port manager.")),y.w.removeChartScene(n.scene.id),void(n.scene=null);if(!n.scene)throw new Error("[SynchroCharts] Scene is not present but update is being called.");(n.start.getTime()!==e.getTime()||n.end.getTime()!==r.getTime())&&!i&&n.onDateRangeChange([e,r,n.viewport.group]),n.start=e,n.end=r,n.supportString||u||n.updateYRange(),n.updateAndRegisterChartScene({hasDataChanged:o,hasSizeChanged:a,hasAnnotationChanged:s,shouldRerender:u});var l=n.activeViewPort(),c=n.chartSizeConfig();if(n.onUpdateLifeCycle&&n.onUpdateLifeCycle(n.activeViewPort()),!n.supportString){var h=(0,k.l)(n.internalAnnotations);$s({container:n.getThresholdContainer(),annotations:h,viewport:l,size:c,resolution:n.dataStreams[0]?n.dataStreams[0].resolution:0,onUpdate:n.onUpdate,activeViewPort:n.activeViewPort,emitUpdatedWidgetConfiguration:n.emitUpdatedWidgetConfiguration,draggable:n.draggable,startStopDragging:n.startStopDragging,inDragState:n.inDragState})}if(!n.supportString){var v=n.visualizedDataStreams().filter(g.b);n.trendResults=function(t,e,n){var r=[];return e.forEach((function(e){var i=e.id,o=(0,d.g)(e,e.resolution),a=(0,f.a)(o,t);a.length>=2&&n.filter((function(t){var e=t.dataStreamId;return i===e})).forEach((function(t){var n=t.type,i=t.color,o=Aa(Object.assign(Object.assign({},e),{data:a}),n);o&&r.push(Object.assign(Object.assign({},o),{color:i}))}))})),r}(l,v,n.trends),function(t){var e=t.container,n=t.viewport,r=t.size,i=r.width,o=r.height,a=t.dataStreams,s=t.trendResults,u=[];s.forEach((function(t){var e=a.find((function(e){return e.id===t.dataStreamId}));e&&(t.type===p.T.LINEAR?u.push({color:t.color||e.color||"black",command:Ws({trendResult:t,size:{width:i,height:o},viewport:n})}):console.error("Unable to render trend line for trend type '".concat(t.type,"'.")))}));var l=Zi(e).selectAll("path.linear-regression").data(u);l.enter().append("path").attr("class","linear-regression").attr("stroke",(function(t){return t.color})).attr("stroke-dasharray","4, 7").attr("stroke-linecap","round").attr("stroke-width",2).attr("d",(function(t){return t.command})),l.attr("stroke",(function(t){return t.color})).attr("d",(function(t){return t.command})),l.exit().remove()}({container:n.getTrendContainer(),viewport:l,size:c,dataStreams:n.visualizedDataStreams(),trendResults:n.trendResults})}n.axisRenderer({container:n.getAxisContainer(),viewport:l,size:c,axis:n.axis})}},this.setChartRenderingPosition=function(){if(n.scene){var t=n.chartSizeConfig();y.w.setChartRect(n.scene.id,{width:t.width,height:t.height,x:n.size.x+t.marginLeft,y:n.size.y+t.marginTop,left:n.size.left+t.marginLeft,top:n.size.top+t.marginTop,right:n.size.left+t.marginLeft+t.width,bottom:n.size.top+t.marginTop+t.height,density:window.devicePixelRatio})}},this.chartSize=function(){var t=null==n.size.marginLeft?S.D.size.marginLeft:n.size.marginLeft,e=null==n.size.marginRight?S.D.size.marginRight:n.size.marginRight,r=null==n.size.marginTop?S.D.size.marginTop:n.size.marginTop,i=null==n.size.marginBottom?S.D.size.marginBottom:n.size.marginBottom,o=t+e+50,a=r+i+50;return{marginLeft:t,marginRight:e,marginTop:r,marginBottom:i,width:Math.max(n.size.width,o),height:Math.max(n.size.height,a)}},this.renderTooltipComponent=function(t,e,r){return n.renderTooltip({size:n.chartSizeConfig(),style:{marginLeft:"".concat(t,"px"),marginTop:"".concat(e,"px")},dataStreams:n.dataStreams,viewport:n.activeViewPort(),dataContainer:n.getDataContainer(),thresholds:r,trendResults:n.trendResults,visualizesAlarms:n.visualizesAlarms})},this.renderLegendComponent=function(t){var e=t.isLoading,r=t.thresholds,i=t.showDataStreamColor;return n.renderLegend({config:n.legend,dataStreams:n.dataStreams,visualizesAlarms:n.visualizesAlarms,updateDataStreamName:n.updateDataStreamName,viewport:n.activeViewPort(),isEditing:n.isEditing,isLoading:e,thresholds:r,supportString:n.supportString,trendResults:n.trendResults,showDataStreamColor:i})}}return(0,a.Z)(t,[{key:"componentDidLoad",value:function(){this.el.isConnected&&(this.setupChartScene(),this.isMounted=!0)}},{key:"componentWillLoad",value:function(){this.isDragging||this.setInternalAnnotations()}},{key:"setInternalAnnotations",value:function(){this.internalAnnotations=Cs(this.annotations)}},{key:"visualizedDataStreams",value:function(){return this.visualizesAlarms?this.dataStreams:this.dataStreams.filter((function(t){return t.streamType!==p.S.ALARM}))}},{key:"onViewPortChange",value:function(t,e){this.scene&&!(0,w.l)(t,e)&&((t.yMin!==e.yMin||t.yMax!==e.yMax)&&(this.yMin=t.yMin,this.yMax=t.yMax,this.applyYRangeChanges()),this.start=(0,g.a)(t)?new Date(t.start):new Date(Date.now()-(0,_.p)(t.duration)),this.end=(0,g.a)(t)?new Date(t.end):new Date,this.scene.updateViewPort(this.activeViewPort()),y.w.updateViewPorts({start:this.start,end:this.end,manager:this.scene,duration:this.activeViewPort().duration}),this.updateAndRegisterChartScene({hasDataChanged:!1,hasSizeChanged:!1,hasAnnotationChanged:!1,shouldRerender:!1}),this.shouldRerenderOnViewportChange&&this.shouldRerenderOnViewportChange({oldViewport:e,newViewport:t})&&this.onUpdate({start:this.start,end:this.end},!1,!1,!1,!0));var n=this.activeViewPort().duration;null!=this.scene&&null!=n&&(y.w.stopTick({manager:this.scene}),y.w.startTick({manager:this.scene,duration:n,chartSize:this.chartSizeConfig()}))}},{key:"onSizeChange",value:function(t,e){if((0,w.l)(t,e)||this.onUpdate(this.activeViewPort(),!1,!0),null!=t.width&&t.width!==e.width){var n=this.activeViewPort().duration;null!=this.scene&&null!=n&&(y.w.stopTick({manager:this.scene}),y.w.startTick({manager:this.scene,duration:n,chartSize:this.chartSizeConfig()}))}}},{key:"onDataStreamsChange",value:function(){this.onUpdate(this.activeViewPort(),!0)}},{key:"onAnnotationsChange",value:function(t,e){(0,w.l)(t,e)||this.isDragging||(this.setInternalAnnotations(),this.onUpdate(this.activeViewPort(),!1,!1,!0))}},{key:"onTrendsChange",value:function(t,e){(0,w.l)(t,e)||this.onUpdate(this.activeViewPort(),!1)}},{key:"onAxisChange",value:function(t,e){var n=this.activeViewPort(),r=this.chartSizeConfig();(0,w.l)(t,e)||this.axisRenderer({container:this.getAxisContainer(),viewport:n,size:r,axis:this.axis})}},{key:"componentDidUnload",value:function(){this.scene&&y.w.removeChartScene(this.scene.id),this.scene=null}},{key:"setupChartScene",value:function(){this.scene=this.createChartScene({viewport:this.activeViewPort(),chartSize:this.chartSizeConfig(),dataStreams:this.visualizedDataStreams(),alarms:this.alarms,container:this.getDataContainer(),minBufferSize:this.minBufferSize,bufferFactor:this.bufferFactor,onUpdate:this.onUpdate,thresholdOptions:this.getThresholdOptions(),thresholds:this.thresholds()});var t=this.activeViewPort().duration;y.w.addChartScene({manager:this.scene,duration:t,chartSize:this.chartSizeConfig()}),this.setChartRenderingPosition(),y.w.render(this.scene),this.onUpdate(this.activeViewPort())}},{key:"updateAndRegisterChartScene",value:function(t){var e=this,n=t.hasDataChanged,r=t.hasSizeChanged,i=t.hasAnnotationChanged,o=t.shouldRerender;if(this.scene){r&&this.setChartRenderingPosition();var a=this.getDataContainer(),s=this.updateChartScene({scene:this.scene,chartSize:this.chartSizeConfig(),dataStreams:this.visualizedDataStreams(),alarms:this.alarms,container:a,viewport:this.activeViewPort(),minBufferSize:this.minBufferSize,bufferFactor:this.bufferFactor,onUpdate:this.onUpdate,thresholdOptions:this.getThresholdOptions(),thresholds:this.thresholds(),hasSizeChanged:r,hasDataChanged:n,shouldRerender:o,hasAnnotationChanged:i});if(s.id!==this.scene.id){y.w.removeChartScene(this.scene.id),this.scene=s;var u=this.activeViewPort().duration;y.w.addChartScene({manager:s,duration:u,shouldSync:!1,chartSize:this.chartSizeConfig()}),this.setChartRenderingPosition()}y.w.render(this.scene),r&&window.setTimeout((function(){e.scene&&y.w.render(e.scene)}),0)}}},{key:"render",value:function(){var t=this,e=this.chartSizeConfig(),n=e.marginLeft,r=e.marginTop,i=e.marginRight,o=e.marginBottom,a=this.dataStreams.some((function(t){return null!=t.error})),u=!a&&this.visualizedDataStreams().some((function(t){return t.isLoading})),l=0===this.visualizedDataStreams().length,c=this.visualizedDataStreams().every((function(e){var n=(0,d.g)(e,e.resolution);return 0===n.length||n[n.length-1].x<t.start.getTime()})),h=this.thresholds(),f=null==this.legend||null==this.legend.showDataStreamColor||this.legend.showDataStreamColor;return this.getHasSupportedData()?[(0,s.h)("div",{class:"awsui sc-webgl-base-chart"},this.displaysError&&(0,s.h)(As,{hasError:a,size:e}),(0,s.h)("sc-webgl-axis",{size:e}),(0,s.h)(js,{size:e},(0,s.h)(T.E,{displaysNoDataPresentMsg:null==this.displaysNoDataPresentMsg||this.displaysNoDataPresentMsg,messageOverrides:this.messageOverrides||{},isLoading:u,hasNoDataPresent:c,hasNoDataStreamsPresent:l}),(0,s.h)(Ds,{isLoading:u}),this.gestures&&(0,s.h)("sc-gesture-handler",{onDateRangeChange:this.handleCameraEvent,size:e,viewport:this.activeViewPort()})),this.legend&&(0,s.h)(Es,{config:this.legend,legendHeight:100,size:e},this.renderLegendComponent({isLoading:u,thresholds:h,showDataStreamColor:f}))),this.isMounted&&this.renderTooltipComponent(n,r,h),(0,s.h)("svg",{class:"threshold-container",width:e.width+i,height:e.height+o,style:{marginLeft:"".concat(n,"px"),marginTop:"".concat(r,"px")}}),(0,s.h)("svg",{class:"trend-container",width:e.width,height:e.height,style:{marginLeft:"".concat(n,"px"),marginTop:"".concat(r,"px")}})]:(0,s.h)("div",{class:"awsui sc-webgl-base-chart"},(0,s.h)(ju,{size:e,messageOverrides:this.messageOverrides||{},supportedDataTypes:this.supportedDataTypes}))}},{key:"el",get:function(){return(0,s.g)(this)}}],[{key:"watchers",get:function(){return{viewport:["onViewPortChange"],size:["onSizeChange"],legend:["onSizeChange"],dataStreams:["onDataStreamsChange"],annotations:["onAnnotationsChange"],trends:["onTrendsChange"],axis:["onAxisChange"]}}}]),t}();Ru.style="sc-webgl-base-chart .sc-webgl-base-chart{height:0}sc-webgl-base-chart .empty-status{z-index:11;position:absolute;width:100%;height:100%;display:flex;justify-content:center;text-align:center;flex-direction:column;align-items:center;pointer-events:none;color:var(--light-text);font-size:var(--font-size-1)}sc-webgl-base-chart .empty-status h3{font-size:var(--font-size-3);line-height:var(--line-height-3);padding-bottom:var(--font-size-2);font-weight:normal}sc-webgl-base-chart .data-container{position:absolute}sc-webgl-base-chart .selection{fill:rgba(41, 168, 221, var(--selection-opacity));stroke-width:var(--selection-width);stroke:var(--selection-color);stroke-opacity:var(--selection-opacity);z-index:11}sc-webgl-base-chart .chart-legend-container{-ms-overflow-style:none;scrollbar-width:none}sc-webgl-base-chart .chart-legend-container::-webkit-scrollbar{display:none}sc-webgl-base-chart .threshold-container{z-index:5;position:absolute;pointer-events:none;font-size:12px}sc-webgl-base-chart .trend-container{z-index:4;position:absolute;pointer-events:none}";var Hu=function(){function t(e){(0,o.Z)(this,t),(0,s.r)(this,e)}return(0,a.Z)(t,[{key:"componentDidLoad",value:function(){var t=this.el.querySelector("canvas");y.w.initRendering(t,this.onContextInitialization,this.viewFrame)}},{key:"render",value:function(){var t=void 0===this.viewFrame||this.viewFrame instanceof Window,e="webgl-context-canvas ".concat(t?"webgl-context-canvas-viewport":"");return(0,s.h)("canvas",{class:e})}},{key:"el",get:function(){return(0,s.g)(this)}}]),t}();Hu.style="sc-webgl-context{--scroll-bar-size:16px;width:100%;height:100%;position:absolute;top:0;left:0;z-index:1;pointer-events:none}.webgl-context-canvas{position:absolute;left:0;top:0;width:100%;height:100%;max-width:100vw;max-height:100vh;display:block;pointer-events:none;z-index:10}.webgl-context-canvas-viewport{width:calc(100vw - var(--scroll-bar-size));height:calc(100vh - var(--scroll-bar-size))}"}}]);
//# sourceMappingURL=1669.b0e6f087.chunk.js.map